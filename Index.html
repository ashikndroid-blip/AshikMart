<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tolet.click - Smart House Rental Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Hind+Siliguri:wght@300;400;500;600;700&display=swap');
        body {
            font-family: 'Inter', 'Hind Siliguri', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        .search-animation {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        

        
        .cursor {
            display: inline-block;
            background-color: #fbbf24;
            width: 3px;
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="gradient-bg text-white py-4 md:py-6 sticky top-0 z-30 backdrop-blur-sm">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-2 md:space-x-3">
                    <div class="relative">
                        <div class="w-8 h-8 md:w-10 md:h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center backdrop-blur-sm border border-white border-opacity-30">
                            <span class="text-lg md:text-xl font-bold text-white">T</span>
                        </div>
                        <div class="absolute -top-1 -right-1 w-3 h-3 bg-yellow-400 rounded-full animate-pulse"></div>
                    </div>
                    <div>
                        <h1 class="text-xl md:text-2xl font-bold">tolet.click</h1>
                        <div class="text-xs text-yellow-200 font-medium hidden md:block">Smart House Rental</div>
                    </div>
                </div>
                
                <!-- Auth Buttons -->
                <div id="authButtons" class="flex items-center space-x-2 md:space-x-3">
                    <button onclick="openLoginModal()" class="bg-white bg-opacity-20 hover:bg-opacity-30 text-white font-medium px-3 py-2 md:px-4 md:py-2 rounded-lg transition-all duration-300 border border-white border-opacity-30 hover:border-opacity-50 text-sm md:text-base">
                        Login
                    </button>
                    <button onclick="openSignupModal()" class="bg-yellow-400 hover:bg-yellow-500 text-gray-800 font-semibold px-3 py-2 md:px-4 md:py-2 rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl text-sm md:text-base">
                        Signup
                    </button>
                </div>
            </div>

        </div>
    </header>

    <!-- Hero Section -->
    <section class="gradient-bg text-white py-12 md:py-20 lg:py-24">
        <div class="container mx-auto px-4">
            <div class="text-center mb-6 md:mb-8">
                <h2 class="text-2xl sm:text-3xl md:text-5xl lg:text-6xl font-bold mb-4 md:mb-8 leading-tight">
                    Find Your <span class="text-yellow-300">Dream Home</span> Easily
                </h2>
                <p class="text-base sm:text-lg md:text-2xl opacity-90 px-2 max-w-4xl mx-auto leading-relaxed">
                    <span id="typingText"></span>
                </p>

            </div>
            
            <!-- Compact Search Form -->
            <div class="bg-white rounded-2xl p-4 md:p-6 max-w-4xl mx-auto shadow-2xl">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                    <!-- Location Input -->
                    <div class="relative md:col-span-2">
                        <div class="flex items-center bg-gray-50 rounded-lg p-3 border border-gray-200 focus-within:border-blue-500 focus-within:ring-2 focus-within:ring-blue-200">
                            <span class="text-lg mr-2">üìç</span>
                            <input 
                                type="text" 
                                id="area" 
                                placeholder="‡¶è‡¶≤‡¶æ‡¶ï‡¶æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶® (‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶ß‡¶æ‡¶®‡¶Æ‡¶®‡ßç‡¶°‡¶ø, ‡¶ó‡ßÅ‡¶≤‡¶∂‡¶æ‡¶®...)" 
                                class="flex-1 bg-transparent border-none outline-none text-gray-700 placeholder-gray-500"
                                oninput="showAreaSuggestions()"
                            >
                        </div>
                        <div id="areaSuggestions" class="hidden absolute z-20 w-full bg-white border border-gray-200 rounded-lg mt-1 max-h-40 overflow-y-auto shadow-lg">
                            <!-- Suggestions will appear here -->
                        </div>
                    </div>

                    <!-- Search Button -->
                    <button onclick="searchHouses()" class="bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center group relative overflow-hidden">
                        <div class="absolute inset-0 bg-gradient-to-r from-purple-600 to-blue-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                        <span class="text-lg mr-2 relative z-10 group-hover:animate-pulse">üîç</span>
                        <span class="hidden sm:inline relative z-10 font-bold tracking-wide">Find Home</span>
                        <span class="sm:hidden relative z-10 font-bold">Search</span>
                        <div class="absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300"></div>
                    </button>
                </div>

                <!-- Advanced Filters (Collapsible) -->
                <div class="mt-3 border-t border-gray-100 pt-3">
                    <button id="filterToggle" onclick="toggleFilters()" class="bg-gradient-to-r from-purple-50 to-blue-50 hover:from-purple-100 hover:to-blue-100 text-purple-700 hover:text-purple-800 font-medium text-sm px-4 py-2 rounded-lg flex items-center transition-all duration-300 border border-purple-200 hover:border-purple-300 shadow-sm hover:shadow-md">
                        <span class="mr-2 text-base">‚öôÔ∏è</span>
                        <span>More Filters</span>
                        <span id="filterArrow" class="ml-2 transform transition-transform duration-300 text-purple-600">‚ñº</span>
                    </button>
                    
                    <div id="advancedFilters" class="hidden mt-4 p-4 bg-gradient-to-r from-blue-50 via-purple-50 to-pink-50 rounded-xl border border-purple-100 shadow-inner">
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                            <!-- Division -->
                            <div class="relative">
                                <label class="block text-xs font-semibold text-purple-700 mb-1 ml-1">üèõÔ∏è ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó</label>
                                <select id="division" onchange="updateDistricts()" class="w-full p-3 text-sm border-2 border-purple-200 rounded-xl focus:ring-3 focus:ring-purple-300 focus:border-purple-400 bg-white hover:border-purple-300 transition-all duration-300 shadow-sm hover:shadow-md font-medium text-gray-700">
                                    <option value="">‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>
                                    <option value="dhaka">‡¶¢‡¶æ‡¶ï‡¶æ</option>
                                    <option value="chittagong">‡¶ö‡¶ü‡ßç‡¶ü‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ</option>
                                    <option value="rajshahi">‡¶∞‡¶æ‡¶ú‡¶∂‡¶æ‡¶π‡ßÄ</option>
                                    <option value="khulna">‡¶ñ‡ßÅ‡¶≤‡¶®‡¶æ</option>
                                    <option value="sylhet">‡¶∏‡¶ø‡¶≤‡ßá‡¶ü</option>
                                    <option value="barisal">‡¶¨‡¶∞‡¶ø‡¶∂‡¶æ‡¶≤</option>
                                    <option value="rangpur">‡¶∞‡¶Ç‡¶™‡ßÅ‡¶∞</option>
                                    <option value="mymensingh">‡¶Æ‡¶Ø‡¶º‡¶Æ‡¶®‡¶∏‡¶ø‡¶Ç‡¶π</option>
                                </select>
                            </div>
                            
                            <!-- District -->
                            <div class="relative">
                                <label class="block text-xs font-semibold text-blue-700 mb-1 ml-1">üèôÔ∏è ‡¶ú‡ßá‡¶≤‡¶æ</label>
                                <select id="district" class="w-full p-3 text-sm border-2 border-blue-200 rounded-xl focus:ring-3 focus:ring-blue-300 focus:border-blue-400 bg-white hover:border-blue-300 transition-all duration-300 shadow-sm hover:shadow-md font-medium text-gray-700">
                                    <option value="">‡¶ú‡ßá‡¶≤‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>
                                </select>
                            </div>

                            <!-- Type -->
                            <div class="relative">
                                <label class="block text-xs font-semibold text-green-700 mb-1 ml-1">üè† ‡¶ß‡¶∞‡¶®</label>
                                <select id="type" class="w-full p-3 text-sm border-2 border-green-200 rounded-xl focus:ring-3 focus:ring-green-300 focus:border-green-400 bg-white hover:border-green-300 transition-all duration-300 shadow-sm hover:shadow-md font-medium text-gray-700">
                                    <option value="">‡¶¨‡¶æ‡¶∏‡¶æ‡¶∞ ‡¶ß‡¶∞‡¶®</option>
                                    <option value="apartment">üè¢ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡¶æ‡¶∞‡ßç‡¶ü‡¶Æ‡ßá‡¶®‡ßç‡¶ü</option>
                                    <option value="house">üè† ‡¶¨‡¶æ‡¶°‡¶º‡¶ø</option>
                                    <option value="flat">üèòÔ∏è ‡¶´‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ü</option>
                                    <option value="duplex">üè° ‡¶°‡ßÅ‡¶™‡ßç‡¶≤‡ßá‡¶ï‡ßç‡¶∏</option>
                                </select>
                            </div>

                            <!-- Budget -->
                            <div class="relative">
                                <label class="block text-xs font-semibold text-pink-700 mb-1 ml-1">üí∞ ‡¶¨‡¶æ‡¶ú‡ßá‡¶ü</label>
                                <select id="budget" class="w-full p-3 text-sm border-2 border-pink-200 rounded-xl focus:ring-3 focus:ring-pink-300 focus:border-pink-400 bg-white hover:border-pink-300 transition-all duration-300 shadow-sm hover:shadow-md font-medium text-gray-700">
                                    <option value="">‡¶¨‡¶æ‡¶ú‡ßá‡¶ü ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>
                                    <option value="10000-20000">üíµ ‡ßß‡ß¶-‡ß®‡ß¶ ‡¶π‡¶æ‡¶ú‡¶æ‡¶∞</option>
                                    <option value="20000-30000">üí¥ ‡ß®‡ß¶-‡ß©‡ß¶ ‡¶π‡¶æ‡¶ú‡¶æ‡¶∞</option>
                                    <option value="30000-50000">üí∂ ‡ß©‡ß¶-‡ß´‡ß¶ ‡¶π‡¶æ‡¶ú‡¶æ‡¶∞</option>
                                    <option value="50000+">üí∑ ‡ß´‡ß¶+ ‡¶π‡¶æ‡¶ú‡¶æ‡¶∞</option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- Filter Actions -->
                        <div class="flex justify-between items-center mt-4 pt-3 border-t border-purple-200">
                            <button onclick="clearFilters()" class="text-xs text-gray-500 hover:text-red-600 font-medium transition-colors duration-300 flex items-center">
                                <span class="mr-1">üóëÔ∏è</span> ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶Æ‡ßÅ‡¶õ‡ßÅ‡¶®
                            </button>
                            <div class="text-xs text-purple-600 font-medium">
                                <span class="mr-1">‚ú®</span> ‡¶â‡¶®‡ßç‡¶®‡¶§ ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Results Section -->
    <section class="py-16">
        <div class="container mx-auto px-4">
            <div id="searchResults" class="hidden">
                <h3 class="text-3xl font-bold text-center mb-12 text-gray-800">Suitable Houses for You</h3>
                <div id="houseGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Houses will be populated here -->
                </div>
            </div>

            <!-- Default Featured Houses -->
            <div id="featuredHouses">
                <h3 class="text-3xl font-bold text-center mb-12 text-gray-800">‡¶∏‡¶∞‡ßç‡¶¨‡¶∂‡ßá‡¶∑ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶¨‡¶æ‡¶∏‡¶æ‡¶∏‡¶Æ‡ßÇ‡¶π</h3>
                <div id="latestHousesGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6">
                    <!-- Latest houses will be populated here -->
                </div>
            </div>
        </div>
    </section>



    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 pb-20 md:pb-8">
        <div class="container mx-auto px-4 text-center">
            <div class="flex items-center justify-center space-x-3 mb-4">
                <div class="relative">
                    <div class="w-8 h-8 bg-white bg-opacity-10 rounded-lg flex items-center justify-center backdrop-blur-sm border border-white border-opacity-20">
                        <span class="text-lg font-bold text-white">T</span>
                    </div>
                    <div class="absolute -top-1 -right-1 w-2 h-2 bg-yellow-400 rounded-full"></div>
                </div>
                <h3 class="text-xl font-bold">tolet.click</h3>
            </div>
            <p class="text-gray-400 mb-4">‡¶è‡¶ï ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï‡ßá, ‡¶®‡¶§‡ßÅ‡¶® ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ‡¶Ø‡¶º..</p>

            <div class="text-center text-gray-500 text-sm">
                ¬© 2025 tolet bangladesh
            </div>
        </div>
    </footer>

    <!-- Modal for House Details -->
    <div id="houseModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-2">
        <div class="bg-white rounded-2xl p-3 max-w-md w-full max-h-screen overflow-y-auto flex flex-col">
            <div class="flex justify-between items-center mb-3 flex-shrink-0">
                <h3 class="text-lg font-bold" id="modalTitle">‡¶¨‡¶æ‡¶°‡¶º‡¶ø‡¶∞ ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§</h3>
                <button onclick="closeModal()" class="text-gray-500 hover:text-gray-700 text-2xl p-1 hover:bg-gray-100 rounded-full transition-colors">&times;</button>
            </div>
            <div id="modalContent" class="flex-1 overflow-y-auto">
                <!-- Content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl p-6 md:p-8 max-w-md w-full max-h-screen overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold text-gray-800">Login</h3>
                <button onclick="closeLoginModal()" class="text-gray-500 hover:text-gray-700 text-2xl p-2 hover:bg-gray-100 rounded-full transition-colors">&times;</button>
            </div>
            <form id="loginForm" onsubmit="handleLogin(event)">
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                        <input type="email" id="loginEmail" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                        <input type="password" id="loginPassword" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors">
                    </div>
                    <button type="submit" class="w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-300 transform hover:scale-105">
                        Login
                    </button>
                </div>
            </form>
            <div class="mt-4 text-center">
                <p class="text-gray-600">Don't have an account? 
                    <button onclick="switchToSignup()" class="text-blue-600 hover:text-blue-700 font-medium">Sign up</button>
                </p>
            </div>
        </div>
    </div>

    <!-- Signup Modal -->
    <div id="signupModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl p-6 md:p-8 max-w-md w-full max-h-screen overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold text-gray-800">Sign Up</h3>
                <button onclick="closeSignupModal()" class="text-gray-500 hover:text-gray-700 text-2xl p-2 hover:bg-gray-100 rounded-full transition-colors">&times;</button>
            </div>
            <form id="signupForm" onsubmit="handleSignup(event)">
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Full Name</label>
                        <input type="text" id="signupName" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                        <input type="email" id="signupEmail" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Phone Number</label>
                        <input type="tel" id="signupPhone" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                        <input type="password" id="signupPassword" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Confirm Password</label>
                        <input type="password" id="signupConfirmPassword" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors">
                    </div>
                    <button type="submit" class="w-full bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-300 transform hover:scale-105">
                        Sign Up
                    </button>
                </div>
            </form>
            <div class="mt-4 text-center">
                <p class="text-gray-600">Already have an account? 
                    <button onclick="switchToLogin()" class="text-blue-600 hover:text-blue-700 font-medium">Login</button>
                </p>
            </div>
        </div>
    </div>

    <!-- Favourite Modal -->
    <div id="favouriteModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl p-6 md:p-8 max-w-4xl w-full max-h-screen overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold text-gray-800 flex items-center">
                    <span class="mr-2">‚ù§Ô∏è</span> ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶õ‡¶®‡ßç‡¶¶‡ßá‡¶∞ ‡¶¨‡¶æ‡¶∏‡¶æ‡¶∏‡¶Æ‡ßÇ‡¶π
                </h3>
                <button onclick="closeFavouriteModal()" class="text-gray-500 hover:text-gray-700 text-2xl p-2 hover:bg-gray-100 rounded-full transition-colors">&times;</button>
            </div>
            <div id="favouriteContent">
                <!-- Favourite houses will be populated here -->
            </div>
        </div>
    </div>

    <!-- Image Gallery Modal -->
    <div id="imageGalleryModal" class="fixed inset-0 bg-black bg-opacity-90 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl p-4 md:p-6 max-w-4xl w-full max-h-screen overflow-y-auto flex flex-col">
            <div class="flex justify-between items-center mb-4 flex-shrink-0">
                <h3 class="text-xl md:text-2xl font-bold text-gray-800 flex items-center">
                    <span class="mr-2">üì∏</span> <span id="galleryTitle">‡¶¨‡¶æ‡¶∏‡¶æ‡¶∞ ‡¶õ‡¶¨‡¶ø‡¶∏‡¶Æ‡ßÇ‡¶π</span>
                </h3>
                <div class="flex items-center space-x-2">
                    <button onclick="openVideoModal()" class="bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-semibold py-2 px-4 rounded-lg transition-all flex items-center text-sm">
                        <span class="mr-1">üé•</span> ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
                    </button>
                    <button onclick="closeImageGallery()" class="text-gray-500 hover:text-gray-700 text-2xl p-2 hover:bg-gray-100 rounded-full transition-colors">&times;</button>
                </div>
            </div>
            
            <!-- Main Image Display -->
            <div class="flex-1 flex flex-col overflow-hidden">
                <div class="relative bg-gray-100 rounded-xl overflow-hidden mb-4 flex-1 min-h-0">
                    <div id="mainImageContainer" class="w-full h-full flex items-center justify-center">
                        <img id="mainImage" src="" alt="‡¶¨‡¶æ‡¶∏‡¶æ‡¶∞ ‡¶õ‡¶¨‡¶ø" class="max-w-full max-h-full object-contain rounded-lg">
                    </div>
                    
                    <!-- Navigation Arrows -->
                    <button id="prevImageBtn" onclick="previousGalleryImage()" class="absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white p-3 rounded-full transition-all">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                        </svg>
                    </button>
                    <button id="nextImageBtn" onclick="nextGalleryImage()" class="absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white p-3 rounded-full transition-all">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </button>
                    
                    <!-- Image Counter -->
                    <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-50 text-white px-3 py-1 rounded-full text-sm">
                        <span id="imageCounter">1 / 5</span>
                    </div>
                </div>
                
                <!-- Thumbnail Strip -->
                <div class="flex-shrink-0">
                    <div id="thumbnailStrip" class="flex space-x-2 overflow-x-auto pb-2">
                        <!-- Thumbnails will be populated here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Video Modal -->
    <div id="videoModal" class="fixed inset-0 bg-black bg-opacity-90 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl p-4 md:p-6 max-w-4xl w-full max-h-screen overflow-y-auto flex flex-col">
            <div class="flex justify-between items-center mb-4 flex-shrink-0">
                <h3 class="text-xl md:text-2xl font-bold text-gray-800 flex items-center">
                    <span class="mr-2">üé•</span> <span id="videoTitle">‡¶¨‡¶æ‡¶∏‡¶æ‡¶∞ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì</span>
                </h3>
                <button onclick="closeVideoModal()" class="text-gray-500 hover:text-gray-700 text-2xl p-2 hover:bg-gray-100 rounded-full transition-colors">&times;</button>
            </div>
            
            <!-- Video Player -->
            <div class="flex-1 flex flex-col overflow-hidden">
                <div class="relative bg-gray-100 rounded-xl overflow-hidden flex-1 min-h-0">
                    <div id="videoContainer" class="w-full h-full flex items-center justify-center">
                        <iframe id="videoPlayer" 
                                src="" 
                                class="w-full h-full rounded-lg" 
                                frameborder="0" 
                                allowfullscreen>
                        </iframe>
                    </div>
                </div>
                
                <!-- Video Info -->
                <div class="mt-4 p-3 bg-gray-50 rounded-lg">
                    <p class="text-sm text-gray-600 flex items-center">
                        <span class="mr-2">‚ÑπÔ∏è</span>
                        ‡¶è‡¶á ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì‡¶§‡ßá ‡¶¨‡¶æ‡¶∏‡¶æ‡¶∞ ‡¶∏‡¶¨ ‡¶∞‡ßÅ‡¶Æ ‡¶è‡¶¨‡¶Ç ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ‡¶∏‡¶Æ‡ßÇ‡¶π ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Modal -->
    <div id="profileModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl p-6 md:p-8 max-w-md w-full max-h-screen overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold text-gray-800 flex items-center">
                    <span class="mr-2">üë§</span> My Profile
                </h3>
                <button onclick="closeProfileModal()" class="text-gray-500 hover:text-gray-700 text-2xl p-2 hover:bg-gray-100 rounded-full transition-colors">&times;</button>
            </div>
            
            <!-- Profile View Mode -->
            <div id="profileViewMode">
                <div class="space-y-4">
                    <!-- Profile Picture -->
                    <div class="text-center mb-6">
                        <div class="w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-3">
                            <span class="text-2xl text-white font-bold" id="profileInitial">U</span>
                        </div>
                        <h4 class="text-xl font-semibold text-gray-800" id="profileDisplayName">User</h4>
                        <p class="text-sm text-gray-500" id="profileJoinDate">Joined: Today</p>
                    </div>

                    <!-- Profile Info Cards -->
                    <div class="space-y-3">
                        <div class="bg-blue-50 p-4 rounded-xl border border-blue-200">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-xs text-blue-600 font-medium mb-1">üìß Email</p>
                                    <p class="text-sm font-semibold text-gray-800" id="profileDisplayEmail">user@example.com</p>
                                </div>
                                <div class="text-blue-500">
                                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path>
                                        <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <div class="bg-green-50 p-4 rounded-xl border border-green-200">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-xs text-green-600 font-medium mb-1">üì± Mobile</p>
                                    <p class="text-sm font-semibold text-gray-800" id="profileDisplayPhone">+8801712345678</p>
                                </div>
                                <div class="text-green-500">
                                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <div class="bg-purple-50 p-4 rounded-xl border border-purple-200">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-xs text-purple-600 font-medium mb-1">üè† Address</p>
                                    <p class="text-sm font-semibold text-gray-800" id="profileDisplayAddress">Add address</p>
                                </div>
                                <div class="text-purple-500">
                                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <div class="bg-orange-50 p-4 rounded-xl border border-orange-200">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-xs text-orange-600 font-medium mb-1">üíº Occupation</p>
                                    <p class="text-sm font-semibold text-gray-800" id="profileDisplayOccupation">Add occupation</p>
                                </div>
                                <div class="text-orange-500">
                                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M6 6V5a3 3 0 013-3h2a3 3 0 013 3v1h2a2 2 0 012 2v3.57A22.952 22.952 0 0110 13a22.95 22.95 0 01-8-1.43V8a2 2 0 012-2h2zm2-1a1 1 0 011-1h2a1 1 0 011 1v1H8V5zm1 5a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z" clip-rule="evenodd"></path>
                                        <path d="M2 13.692V16a2 2 0 002 2h12a2 2 0 002-2v-2.308A24.974 24.974 0 0110 15c-2.796 0-5.487-.46-8-1.308z"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Stats -->
                    <div class="grid grid-cols-2 gap-3 mt-6">
                        <div class="bg-gradient-to-r from-blue-500 to-blue-600 p-4 rounded-xl text-white text-center">
                            <div class="text-2xl font-bold" id="profilePostCount">0</div>
                            <div class="text-xs opacity-90">Posts</div>
                        </div>
                        <div class="bg-gradient-to-r from-red-500 to-red-600 p-4 rounded-xl text-white text-center">
                            <div class="text-2xl font-bold" id="profileFavCount">0</div>
                            <div class="text-xs opacity-90">Favourites</div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex gap-3 mt-6">
                        <button onclick="switchToEditMode()" class="flex-1 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-semibold py-3 px-4 rounded-xl transition-all transform hover:scale-105 flex items-center justify-center">
                            <span class="mr-2">‚úèÔ∏è</span> Edit Profile
                        </button>
                        <button onclick="logout()" class="bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold py-3 px-4 rounded-xl transition-all transform hover:scale-105 flex items-center justify-center">
                            <span class="mr-2">üö™</span> Logout
                        </button>
                    </div>
                </div>
            </div>

            <!-- Profile Edit Mode -->
            <div id="profileEditMode" class="hidden">
                <form id="profileEditForm" onsubmit="handleProfileUpdate(event)">
                    <div class="space-y-4">
                        <!-- Non-editable fields -->
                        <div class="bg-gray-50 p-4 rounded-xl border-2 border-gray-200">
                            <p class="text-xs text-gray-500 mb-2">üîí Cannot be changed</p>
                            <div class="space-y-3">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Name</label>
                                    <input type="text" id="editName" readonly class="w-full p-3 bg-gray-100 border border-gray-300 rounded-lg text-gray-600 cursor-not-allowed">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Mobile Number</label>
                                    <input type="tel" id="editPhone" readonly class="w-full p-3 bg-gray-100 border border-gray-300 rounded-lg text-gray-600 cursor-not-allowed">
                                </div>
                            </div>
                        </div>

                        <!-- Editable fields -->
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">üìß Email *</label>
                                <input type="email" id="editEmail" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors">
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">üè† Address</label>
                                <textarea id="editAddress" rows="3" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="Enter your full address"></textarea>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">üíº Occupation</label>
                                <input type="text" id="editOccupation" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="e.g: Software Engineer, Business">
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">üîê New Password (Optional)</label>
                                <input type="password" id="editPassword" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="New password (leave empty to keep current)">
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">üîê Confirm Password</label>
                                <input type="password" id="editConfirmPassword" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="Confirm new password">
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <div class="flex gap-3 mt-6">
                            <button type="button" onclick="switchToViewMode()" class="flex-1 bg-gray-500 hover:bg-gray-600 text-white font-semibold py-3 px-4 rounded-xl transition-all">
                                ‚ùå Cancel
                            </button>
                            <button type="submit" class="flex-1 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-semibold py-3 px-4 rounded-xl transition-all transform hover:scale-105">
                                ‚úÖ Save
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Token Modal -->
    <div id="tokenModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl p-6 md:p-8 max-w-md w-full max-h-screen overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold text-gray-800 flex items-center">
                    <span class="mr-2">ü™ô</span> ‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶ì‡¶Ø‡¶º‡¶æ‡¶≤‡ßá‡¶ü
                </h3>
                <button onclick="closeTokenModal()" class="text-gray-500 hover:text-gray-700 text-2xl p-2 hover:bg-gray-100 rounded-full transition-colors">&times;</button>
            </div>
            
            <!-- Wallet Balance -->
            <div class="bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-600 rounded-2xl p-6 mb-6 text-white shadow-lg">
                <div class="flex items-center justify-between mb-4">
                    <div>
                        <p class="text-yellow-100 text-sm font-medium">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏</p>
                        <p class="text-3xl font-bold" id="tokenBalance">0</p>
                        <p class="text-yellow-100 text-sm">‡¶ü‡ßã‡¶ï‡ßá‡¶®</p>
                    </div>
                    <div class="text-5xl opacity-80">ü™ô</div>
                </div>
                <div class="bg-white bg-opacity-20 rounded-lg p-3">
                    <div class="flex justify-between text-sm">
                        <span>‡¶∏‡¶∞‡ßç‡¶¨‡¶∂‡ßá‡¶∑ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü:</span>
                        <span id="lastUpdate">‡¶Ü‡¶ú</span>
                    </div>
                </div>
            </div>

            <!-- Token Packages -->
            <div class="space-y-4">
                <h4 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                    <span class="mr-2">üí∞</span> ‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú
                </h4>

                <!-- Package 1 -->
                <div class="bg-blue-50 border-2 border-blue-200 rounded-xl p-4 hover:border-blue-300 transition-all">
                    <div class="flex justify-between items-center mb-3">
                        <div>
                            <p class="text-lg font-bold text-blue-700">100 ‡¶ü‡ßã‡¶ï‡ßá‡¶®</p>
                            <p class="text-sm text-gray-600">‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú</p>
                        </div>
                        <div class="text-right">
                            <p class="text-xl font-bold text-green-600">99 ‡ß≥</p>
                            <p class="text-xs text-gray-500 line-through">100 ‡ß≥</p>
                        </div>
                    </div>
                    <button onclick="selectPackage(100, 99)" class="w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold py-2 px-4 rounded-lg transition-all transform hover:scale-105">
                        <span class="mr-1">üí≥</span> ‡¶è‡¶ñ‡¶®‡¶á ‡¶ï‡¶ø‡¶®‡ßÅ‡¶®
                    </button>
                </div>

                <!-- Package 2 -->
                <div class="bg-green-50 border-2 border-green-200 rounded-xl p-4 hover:border-green-300 transition-all relative">
                    <div class="absolute -top-2 -right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full font-bold">‡¶ú‡¶®‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º</div>
                    <div class="flex justify-between items-center mb-3">
                        <div>
                            <p class="text-lg font-bold text-green-700">300 ‡¶ü‡ßã‡¶ï‡ßá‡¶®</p>
                            <p class="text-sm text-gray-600">‡¶™‡¶™‡ßÅ‡¶≤‡¶æ‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú</p>
                        </div>
                        <div class="text-right">
                            <p class="text-xl font-bold text-green-600">290 ‡ß≥</p>
                            <p class="text-xs text-gray-500 line-through">300 ‡ß≥</p>
                        </div>
                    </div>
                    <button onclick="selectPackage(300, 290)" class="w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-semibold py-2 px-4 rounded-lg transition-all transform hover:scale-105">
                        <span class="mr-1">üí≥</span> ‡¶è‡¶ñ‡¶®‡¶á ‡¶ï‡¶ø‡¶®‡ßÅ‡¶®
                    </button>
                </div>

                <!-- Package 3 -->
                <div class="bg-purple-50 border-2 border-purple-200 rounded-xl p-4 hover:border-purple-300 transition-all relative">
                    <div class="absolute -top-2 -right-2 bg-purple-500 text-white text-xs px-2 py-1 rounded-full font-bold">‡¶∏‡ßá‡¶∞‡¶æ ‡¶¶‡¶æ‡¶Æ</div>
                    <div class="flex justify-between items-center mb-3">
                        <div>
                            <p class="text-lg font-bold text-purple-700">500 ‡¶ü‡ßã‡¶ï‡ßá‡¶®</p>
                            <p class="text-sm text-gray-600">‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú</p>
                        </div>
                        <div class="text-right">
                            <p class="text-xl font-bold text-green-600">450 ‡ß≥</p>
                            <p class="text-xs text-gray-500 line-through">500 ‡ß≥</p>
                        </div>
                    </div>
                    <button onclick="selectPackage(500, 450)" class="w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white font-semibold py-2 px-4 rounded-lg transition-all transform hover:scale-105">
                        <span class="mr-1">üí≥</span> ‡¶è‡¶ñ‡¶®‡¶á ‡¶ï‡¶ø‡¶®‡ßÅ‡¶®
                    </button>
                </div>

                <!-- Custom Package -->
                <div class="bg-orange-50 border-2 border-orange-200 rounded-xl p-4">
                    <div class="mb-3">
                        <p class="text-lg font-bold text-orange-700 mb-1">‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú</p>
                        <p class="text-sm text-gray-600">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶õ‡¶®‡ßç‡¶¶ ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡¶Ø‡¶º‡ßÄ ‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶ï‡¶ø‡¶®‡ßÅ‡¶®</p>
                    </div>
                    <div class="space-y-3">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ (‡¶∏‡¶∞‡ßç‡¶¨‡¶®‡¶ø‡¶Æ‡ßç‡¶® 100)</label>
                            <input type="number" id="customTokenAmount" min="100" placeholder="100" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors" oninput="calculateCustomPrice()">
                        </div>
                        <div class="bg-white p-3 rounded-lg border border-gray-200">
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-gray-600">‡¶Æ‡ßã‡¶ü ‡¶¶‡¶æ‡¶Æ:</span>
                                <span class="text-lg font-bold text-green-600" id="customPrice">0 ‡ß≥</span>
                            </div>
                        </div>
                        <button onclick="buyCustomTokens()" class="w-full bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white font-semibold py-3 px-4 rounded-xl transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed" id="customBuyBtn" disabled>
                            ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú ‡¶ï‡¶ø‡¶®‡ßÅ‡¶®
                        </button>
                    </div>
                </div>
            </div>

            <!-- Transaction History -->
            <div class="mt-6 pt-4 border-t border-gray-200">
                <h4 class="text-sm font-bold text-gray-800 mb-3 flex items-center">
                    <span class="mr-2">üìä</span> ‡¶∏‡¶æ‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï ‡¶≤‡ßá‡¶®‡¶¶‡ßá‡¶®
                </h4>
                <div id="transactionHistory" class="space-y-2 max-h-32 overflow-y-auto">
                    <div class="text-center text-gray-500 text-sm py-4">
                        ‡¶ï‡ßã‡¶® ‡¶≤‡ßá‡¶®‡¶¶‡ßá‡¶® ‡¶®‡ßá‡¶á
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div id="paymentModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl p-6 md:p-8 max-w-md w-full max-h-screen overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold text-gray-800 flex items-center">
                    <span class="mr-2">üí≥</span> ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
                </h3>
                <button onclick="closePaymentModal()" class="text-gray-500 hover:text-gray-700 text-2xl p-2 hover:bg-gray-100 rounded-full transition-colors">&times;</button>
            </div>
            
            <!-- Order Summary -->
            <div class="bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 mb-6 border border-blue-200">
                <h4 class="text-lg font-bold text-gray-800 mb-3 flex items-center">
                    <span class="mr-2">üìã</span> ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶Æ‡¶æ‡¶∞‡¶ø
                </h4>
                <div class="space-y-2">
                    <div class="flex justify-between items-center">
                        <span class="text-gray-600">‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú:</span>
                        <span class="font-semibold" id="orderPackage">‡ßß‡ß¶‡ß¶ ‡¶ü‡ßã‡¶ï‡ßá‡¶®</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-gray-600">‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£:</span>
                        <span class="font-semibold text-blue-600" id="orderTokens">‡ßß‡ß¶‡ß¶ ‡¶ü‡ßã‡¶ï‡ßá‡¶®</span>
                    </div>
                    <div class="border-t border-gray-200 pt-2">
                        <div class="flex justify-between items-center">
                            <span class="text-lg font-bold text-gray-800">‡¶Æ‡ßã‡¶ü:</span>
                            <span class="text-xl font-bold text-green-600" id="orderTotal">‡ßØ‡ßØ ‡ß≥</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Payment Methods -->
            <div class="space-y-4">
                <h4 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                    <span class="mr-2">üí∞</span> ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®
                </h4>

                <!-- Mobile Banking -->
                <div class="space-y-3">
                    <h5 class="text-md font-semibold text-gray-700 flex items-center">
                        <span class="mr-2">üì±</span> ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï‡¶ø‡¶Ç
                    </h5>
                    
                    <label class="flex items-center p-3 border-2 border-gray-200 rounded-xl hover:border-pink-300 cursor-pointer transition-all">
                        <input type="radio" name="paymentMethod" value="bkash" class="mr-3 text-pink-600">
                        <div class="flex items-center">
                            <div class="w-8 h-8 bg-pink-600 rounded-lg flex items-center justify-center mr-3">
                                <span class="text-white font-bold text-sm">bK</span>
                            </div>
                            <div>
                                <p class="font-semibold text-gray-800">‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂</p>
                                <p class="text-xs text-gray-500">‡¶∏‡¶¨‡¶ö‡ßá‡¶Ø‡¶º‡ßá ‡¶ú‡¶®‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º</p>
                            </div>
                        </div>
                    </label>

                    <label class="flex items-center p-3 border-2 border-gray-200 rounded-xl hover:border-orange-300 cursor-pointer transition-all">
                        <input type="radio" name="paymentMethod" value="nagad" class="mr-3 text-orange-600">
                        <div class="flex items-center">
                            <div class="w-8 h-8 bg-orange-600 rounded-lg flex items-center justify-center mr-3">
                                <span class="text-white font-bold text-sm">N</span>
                            </div>
                            <div>
                                <p class="font-semibold text-gray-800">‡¶®‡¶ó‡¶¶</p>
                                <p class="text-xs text-gray-500">‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü</p>
                            </div>
                        </div>
                    </label>

                    <label class="flex items-center p-3 border-2 border-gray-200 rounded-xl hover:border-blue-300 cursor-pointer transition-all">
                        <input type="radio" name="paymentMethod" value="rocket" class="mr-3 text-blue-600">
                        <div class="flex items-center">
                            <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center mr-3">
                                <span class="text-white font-bold text-sm">R</span>
                            </div>
                            <div>
                                <p class="font-semibold text-gray-800">‡¶∞‡¶ï‡ßá‡¶ü</p>
                                <p class="text-xs text-gray-500">‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶ ‡¶≤‡ßá‡¶®‡¶¶‡ßá‡¶®</p>
                            </div>
                        </div>
                    </label>
                </div>

                <!-- Banking -->
                <div class="space-y-3">
                    <h5 class="text-md font-semibold text-gray-700 flex items-center">
                        <span class="mr-2">üè¶</span> ‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï ‡¶ï‡¶æ‡¶∞‡ßç‡¶°
                    </h5>
                    
                    <label class="flex items-center p-3 border-2 border-gray-200 rounded-xl hover:border-green-300 cursor-pointer transition-all">
                        <input type="radio" name="paymentMethod" value="visa" class="mr-3 text-green-600">
                        <div class="flex items-center">
                            <div class="w-8 h-8 bg-green-600 rounded-lg flex items-center justify-center mr-3">
                                <span class="text-white font-bold text-sm">V</span>
                            </div>
                            <div>
                                <p class="font-semibold text-gray-800">‡¶≠‡¶ø‡¶∏‡¶æ/‡¶Æ‡¶æ‡¶∏‡ßç‡¶ü‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßç‡¶°</p>
                                <p class="text-xs text-gray-500">‡¶°‡ßá‡¶¨‡¶ø‡¶ü/‡¶ï‡ßç‡¶∞‡ßá‡¶°‡¶ø‡¶ü ‡¶ï‡¶æ‡¶∞‡ßç‡¶°</p>
                            </div>
                        </div>
                    </label>

                    <label class="flex items-center p-3 border-2 border-gray-200 rounded-xl hover:border-purple-300 cursor-pointer transition-all">
                        <input type="radio" name="paymentMethod" value="internetbanking" class="mr-3 text-purple-600">
                        <div class="flex items-center">
                            <div class="w-8 h-8 bg-purple-600 rounded-lg flex items-center justify-center mr-3">
                                <span class="text-white font-bold text-sm">IB</span>
                            </div>
                            <div>
                                <p class="font-semibold text-gray-800">‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶®‡ßá‡¶ü ‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï‡¶ø‡¶Ç</p>
                                <p class="text-xs text-gray-500">‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï ‡¶•‡ßá‡¶ï‡ßá</p>
                            </div>
                        </div>
                    </label>
                </div>

                <!-- Other Methods -->
                <div class="space-y-3">
                    <h5 class="text-md font-semibold text-gray-700 flex items-center">
                        <span class="mr-2">üîÑ</span> ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø
                    </h5>
                    
                    <label class="flex items-center p-3 border-2 border-gray-200 rounded-xl hover:border-indigo-300 cursor-pointer transition-all">
                        <input type="radio" name="paymentMethod" value="upay" class="mr-3 text-indigo-600">
                        <div class="flex items-center">
                            <div class="w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center mr-3">
                                <span class="text-white font-bold text-sm">U</span>
                            </div>
                            <div>
                                <p class="font-semibold text-gray-800">‡¶â‡¶™‡¶æ‡¶Ø‡¶º</p>
                                <p class="text-xs text-gray-500">‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡¶æ‡¶≤ ‡¶ì‡¶Ø‡¶º‡¶æ‡¶≤‡ßá‡¶ü</p>
                            </div>
                        </div>
                    </label>

                    <label class="flex items-center p-3 border-2 border-gray-200 rounded-xl hover:border-teal-300 cursor-pointer transition-all">
                        <input type="radio" name="paymentMethod" value="tap" class="mr-3 text-teal-600">
                        <div class="flex items-center">
                            <div class="w-8 h-8 bg-teal-600 rounded-lg flex items-center justify-center mr-3">
                                <span class="text-white font-bold text-sm">T</span>
                            </div>
                            <div>
                                <p class="font-semibold text-gray-800">‡¶ü‡ßç‡¶Ø‡¶æ‡¶™</p>
                                <p class="text-xs text-gray-500">‡¶∏‡¶π‡¶ú ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü</p>
                            </div>
                        </div>
                    </label>
                </div>

                <!-- Payment Button -->
                <button onclick="processPayment()" class="w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-bold py-4 px-6 rounded-xl transition-all transform hover:scale-105 mt-6 disabled:opacity-50 disabled:cursor-not-allowed" id="paymentBtn" disabled>
                    <span class="mr-2">üîí</span> ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
                </button>

                <!-- Security Notice -->
                <div class="bg-gray-50 p-3 rounded-lg mt-4">
                    <p class="text-xs text-gray-600 text-center flex items-center justify-center">
                        <span class="mr-1">üîê</span>
                        ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡ßß‡ß¶‡ß¶% ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶ ‡¶è‡¶¨‡¶Ç ‡¶è‡¶®‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü‡ßá‡¶°
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Support Modal -->
    <div id="supportModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl p-6 md:p-8 max-w-md w-full max-h-screen overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold text-gray-800 flex items-center">
                    <span class="mr-2">üÜò</span> ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶∏‡ßá‡¶®‡ßç‡¶ü‡¶æ‡¶∞
                </h3>
                <button onclick="closeSupportModal()" class="text-gray-500 hover:text-gray-700 text-2xl p-2 hover:bg-gray-100 rounded-full transition-colors">&times;</button>
            </div>
            
            <!-- Support Options -->
            <div class="space-y-4">
                <div class="text-center mb-6">
                    <div class="text-4xl mb-3">üí¨</div>
                    <h4 class="text-lg font-bold text-gray-800 mb-2">‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶ï‡¶∞‡¶§‡ßá!</h4>
                    <p class="text-sm text-gray-600">‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                </div>

                <!-- WhatsApp Live Chat -->
                <div class="bg-green-50 border-2 border-green-200 rounded-xl p-4 hover:border-green-300 transition-all">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center">
                            <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mr-3">
                                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.465 3.516"/>
                                </svg>
                            </div>
                            <div>
                                <p class="font-bold text-green-700">‡¶≤‡¶æ‡¶á‡¶≠ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü</p>
                                <p class="text-sm text-gray-600">‡¶π‡ßã‡¶Ø‡¶º‡¶æ‡¶ü‡¶∏‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßá ‡¶§‡¶æ‡ßé‡¶ï‡ßç‡¶∑‡¶£‡¶ø‡¶ï ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø</p>
                            </div>
                        </div>
                        <div class="text-green-500">
                            <div class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
                        </div>
                    </div>
                    <button onclick="openWhatsAppSupport()" class="w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-semibold py-3 px-4 rounded-lg transition-all transform hover:scale-105">
                        <span class="mr-2">üí¨</span> ‡¶π‡ßã‡¶Ø‡¶º‡¶æ‡¶ü‡¶∏‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßá ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
                    </button>
                </div>



                <!-- Email Support -->
                <div class="bg-purple-50 border-2 border-purple-200 rounded-xl p-4 hover:border-purple-300 transition-all">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center">
                            <div class="w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center mr-3">
                                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                                </svg>
                            </div>
                            <div>
                                <p class="font-bold text-purple-700">‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü</p>
                                <p class="text-sm text-gray-600">‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø</p>
                            </div>
                        </div>
                        <div class="text-purple-500">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                    <div class="bg-white p-3 rounded-lg border border-purple-200 mb-3">
                        <p class="text-sm text-purple-600 font-medium mb-1">üìß ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ</p>
                        <p class="text-lg font-bold text-gray-800">support@tolet.click</p>
                        <p class="text-xs text-gray-500">‡ß®‡ß™ ‡¶ò‡¶®‡ßç‡¶ü‡¶æ‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶â‡¶§‡ßç‡¶§‡¶∞</p>
                    </div>
                    <button onclick="emailSupport()" class="w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white font-semibold py-3 px-4 rounded-lg transition-all transform hover:scale-105">
                        <span class="mr-2">üìß</span> ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶™‡¶æ‡¶†‡¶æ‡¶®
                    </button>
                </div>

                <!-- FAQ Section -->
                <div class="bg-orange-50 border-2 border-orange-200 rounded-xl p-4">
                    <div class="flex items-center mb-3">
                        <div class="w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center mr-3">
                            <span class="text-white font-bold text-sm">?</span>
                        </div>
                        <div>
                            <p class="font-bold text-orange-700">‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶®</p>
                            <p class="text-sm text-gray-600">‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶® ‡¶™‡ßá‡¶§‡ßá ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</p>
                        </div>
                    </div>
                    <div class="space-y-2">
                        <div class="bg-white p-2 rounded-lg border border-orange-200">
                            <p class="text-sm font-medium text-gray-800">‚ùì ‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶ï‡¶ø‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡¶ø‡¶®‡¶¨‡ßã?</p>
                            <p class="text-xs text-gray-600">Token ‡¶Æ‡ßá‡¶®‡ßÅ‡¶§‡ßá ‡¶ó‡¶ø‡¶Ø‡¶º‡ßá ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                        </div>
                        <div class="bg-white p-2 rounded-lg border border-orange-200">
                            <p class="text-sm font-medium text-gray-800">‚ùì ‡¶¨‡¶æ‡¶°‡¶º‡¶ø‡¶∞ ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶ï‡¶ø‡¶≠‡¶æ‡¶¨‡ßá ‡¶¶‡¶ø‡¶¨‡ßã?</p>
                            <p class="text-xs text-gray-600">Login ‡¶ï‡¶∞‡ßá "‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶¶‡¶ø‡¶®" ‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                        </div>
                        <div class="bg-white p-2 rounded-lg border border-orange-200">
                            <p class="text-sm font-medium text-gray-800">‚ùì ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶ï‡¶ø‡¶≠‡¶æ‡¶¨‡ßá ‡¶¶‡ßá‡¶ñ‡¶¨‡ßã?</p>
                            <p class="text-xs text-gray-600">‡ßß‡ß´ ‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá "‡¶∏‡¶¨ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ ‡¶Ü‡¶®‡¶≤‡¶ï" ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                        </div>
                    </div>
                </div>

                <!-- Response Time Info -->
                <div class="bg-gray-50 p-4 rounded-xl border border-gray-200">
                    <div class="text-center">
                        <div class="text-2xl mb-2">‚è∞</div>
                        <p class="text-sm font-bold text-gray-800 mb-1">‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∞‡ßá‡¶∏‡¶™‡¶®‡ßç‡¶∏ ‡¶ü‡¶æ‡¶á‡¶Æ</p>
                        <div class="grid grid-cols-2 gap-2 text-xs">
                            <div class="text-center">
                                <p class="font-semibold text-green-600">‡¶π‡ßã‡¶Ø‡¶º‡¶æ‡¶ü‡¶∏‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™</p>
                                <p class="text-gray-600">‡ß´ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü</p>
                            </div>
                            <div class="text-center">
                                <p class="font-semibold text-purple-600">‡¶á‡¶Æ‡ßá‡¶á‡¶≤</p>
                                <p class="text-gray-600">‡ß®‡ß™ ‡¶ò‡¶®‡ßç‡¶ü‡¶æ</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Token Confirmation Modal -->
    <div id="tokenConfirmModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl p-6 md:p-8 max-w-md w-full max-h-screen overflow-y-auto shadow-2xl border-4 border-yellow-400">
            <div class="text-center mb-6">
                <div class="w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <span class="text-3xl">ü™ô</span>
                </div>
                <h3 class="text-2xl font-bold text-gray-800 mb-2">‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡ßá‡¶∞ ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§‡¶ï‡¶∞‡¶£</h3>
                <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4">
                    <p class="text-sm text-yellow-800 font-medium" id="confirmMessage">
                        ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶Ø‡ßá ‡¶è‡¶á ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?
                    </p>
                </div>
            </div>
            
            <!-- Token Usage Details -->
            <div class="bg-blue-50 rounded-xl p-4 mb-6 border border-blue-200">
                <div class="space-y-3">
                    <div class="flex justify-between items-center">
                        <span class="text-sm text-gray-600">‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ:</span>
                        <span class="font-semibold text-blue-700" id="confirmService">‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-sm text-gray-600">‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶ñ‡¶∞‡¶ö:</span>
                        <span class="font-bold text-red-600" id="confirmTokenCost">‡ßß‡ß´ ‡¶ü‡ßã‡¶ï‡ßá‡¶®</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-sm text-gray-600">‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏:</span>
                        <span class="font-bold text-green-600" id="confirmCurrentBalance">‡ß¶ ‡¶ü‡ßã‡¶ï‡ßá‡¶®</span>
                    </div>
                    <div class="border-t border-blue-200 pt-2">
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-gray-600">‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡ßá‡¶∞ ‡¶™‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏:</span>
                            <span class="font-bold text-blue-700" id="confirmRemainingBalance">‡ß¶ ‡¶ü‡ßã‡¶ï‡ßá‡¶®</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Unlock Duration Info -->
            <div class="bg-green-50 rounded-xl p-4 mb-6 border border-green-200">
                <div class="flex items-center mb-2">
                    <span class="text-lg mr-2">‚è∞</span>
                    <span class="font-semibold text-green-700">‡¶Ü‡¶®‡¶≤‡¶ï ‡¶∏‡¶Æ‡¶Ø‡¶º‡¶ï‡¶æ‡¶≤</span>
                </div>
                <p class="text-sm text-green-600">
                    ‡¶è‡¶á ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ <strong>60 ‡¶¶‡¶ø‡¶®</strong> ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶•‡¶æ‡¶ï‡¶¨‡ßá‡•§ ‡¶è‡¶á ‡¶∏‡¶Æ‡¶Ø‡¶º‡ßá‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶Ü‡¶∞ ‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶≤‡¶æ‡¶ó‡¶¨‡ßá ‡¶®‡¶æ‡•§
                </p>
            </div>

            <!-- Confirmation Buttons -->
            <div class="flex gap-3">
                <button onclick="cancelTokenUsage()" class="flex-1 bg-gray-500 hover:bg-gray-600 text-white font-bold py-4 px-6 rounded-xl transition-all transform hover:scale-105 flex items-center justify-center">
                    <span class="mr-2 text-lg">‚ùå</span>
                    <span>‡¶®‡¶æ, ‡¶¨‡¶æ‡¶§‡¶ø‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                </button>
                <button onclick="confirmTokenUsage()" class="flex-1 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-bold py-4 px-6 rounded-xl transition-all transform hover:scale-105 flex items-center justify-center">
                    <span class="mr-2 text-lg">‚úÖ</span>
                    <span>‡¶π‡ßç‡¶Ø‡¶æ‡¶Å, ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                </button>
            </div>

            <!-- Security Notice -->
            <div class="mt-4 text-center">
                <p class="text-xs text-gray-500 flex items-center justify-center">
                    <span class="mr-1">üîê</span>
                    ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶‡ßá ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§
                </p>
            </div>
        </div>
    </div>

    <!-- Post Ad Modal -->
    <div id="postAdModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl p-6 md:p-8 max-w-2xl w-full max-h-screen overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold text-gray-800 flex items-center">
                    <span class="mr-2">üìù</span> ‡¶¨‡¶æ‡¶°‡¶º‡¶ø‡¶∞ ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶¶‡¶ø‡¶®
                </h3>
                <button onclick="closePostAdModal()" class="text-gray-500 hover:text-gray-700 text-2xl p-2 hover:bg-gray-100 rounded-full transition-colors">&times;</button>
            </div>
            
            <form id="postAdForm" onsubmit="handlePostAd(event)">
                <div class="space-y-4">
                    <!-- Basic Info -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">‡¶¨‡¶æ‡¶°‡¶º‡¶ø‡¶∞ ‡¶∂‡¶ø‡¶∞‡ßã‡¶®‡¶æ‡¶Æ *</label>
                            <input type="text" id="adTitle" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶Ü‡¶ß‡ßÅ‡¶®‡¶ø‡¶ï ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡¶æ‡¶∞‡ßç‡¶ü‡¶Æ‡ßá‡¶®‡ßç‡¶ü">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï ‡¶≠‡¶æ‡¶°‡¶º‡¶æ (‡¶ü‡¶æ‡¶ï‡¶æ) *</label>
                            <input type="number" id="adPrice" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="25000">
                        </div>
                    </div>

                    <!-- Property Details -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">‡¶¨‡ßá‡¶°‡¶∞‡ßÅ‡¶Æ *</label>
                            <select id="adBedrooms" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors">
                                <option value="">‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>
                                <option value="1">‡ßß‡¶ü‡¶ø</option>
                                <option value="2">‡ß®‡¶ü‡¶ø</option>
                                <option value="3">‡ß©‡¶ü‡¶ø</option>
                                <option value="4">‡ß™‡¶ü‡¶ø</option>
                                <option value="5">‡ß´‡¶ü‡¶ø+</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">‡¶¨‡¶æ‡¶•‡¶∞‡ßÅ‡¶Æ *</label>
                            <select id="adBathrooms" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors">
                                <option value="">‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>
                                <option value="1">‡ßß‡¶ü‡¶ø</option>
                                <option value="2">‡ß®‡¶ü‡¶ø</option>
                                <option value="3">‡ß©‡¶ü‡¶ø</option>
                                <option value="4">‡ß™‡¶ü‡¶ø+</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">‡¶Ü‡¶Ø‡¶º‡¶§‡¶® (‡¶¨‡¶∞‡ßç‡¶ó‡¶´‡ßÅ‡¶ü) *</label>
                            <input type="number" id="adSize" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="1200">
                        </div>
                    </div>

                    <!-- Property Type -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡¶¨‡¶æ‡¶°‡¶º‡¶ø‡¶∞ ‡¶ß‡¶∞‡¶® *</label>
                        <select id="adType" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors">
                            <option value="">‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>
                            <option value="apartment">üè¢ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡¶æ‡¶∞‡ßç‡¶ü‡¶Æ‡ßá‡¶®‡ßç‡¶ü</option>
                            <option value="house">üè† ‡¶¨‡¶æ‡¶°‡¶º‡¶ø</option>
                            <option value="flat">üèòÔ∏è ‡¶´‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ü</option>
                            <option value="duplex">üè° ‡¶°‡ßÅ‡¶™‡ßç‡¶≤‡ßá‡¶ï‡ßç‡¶∏</option>
                        </select>
                    </div>

                    <!-- Location -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó *</label>
                            <select id="adDivision" required onchange="updateAdDistricts()" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors">
                                <option value="">‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>
                                <option value="dhaka">‡¶¢‡¶æ‡¶ï‡¶æ</option>
                                <option value="chittagong">‡¶ö‡¶ü‡ßç‡¶ü‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ</option>
                                <option value="rajshahi">‡¶∞‡¶æ‡¶ú‡¶∂‡¶æ‡¶π‡ßÄ</option>
                                <option value="khulna">‡¶ñ‡ßÅ‡¶≤‡¶®‡¶æ</option>
                                <option value="sylhet">‡¶∏‡¶ø‡¶≤‡ßá‡¶ü</option>
                                <option value="barisal">‡¶¨‡¶∞‡¶ø‡¶∂‡¶æ‡¶≤</option>
                                <option value="rangpur">‡¶∞‡¶Ç‡¶™‡ßÅ‡¶∞</option>
                                <option value="mymensingh">‡¶Æ‡¶Ø‡¶º‡¶Æ‡¶®‡¶∏‡¶ø‡¶Ç‡¶π</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">‡¶ú‡ßá‡¶≤‡¶æ *</label>
                            <select id="adDistrict" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors">
                                <option value="">‡¶ú‡ßá‡¶≤‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>
                            </select>
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡¶è‡¶≤‡¶æ‡¶ï‡¶æ *</label>
                        <input type="text" id="adArea" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶ß‡¶æ‡¶®‡¶Æ‡¶®‡ßç‡¶°‡¶ø, ‡¶ó‡ßÅ‡¶≤‡¶∂‡¶æ‡¶®">
                    </div>

                    <!-- Address Details -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">‡¶¨‡¶æ‡¶°‡¶º‡¶ø ‡¶®‡¶Ç</label>
                            <input type="text" id="adHouseNumber" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="‡ßß‡ß®‡ß´/‡¶è">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">‡¶∞‡ßã‡¶° ‡¶®‡¶Ç</label>
                            <input type="text" id="adRoadNumber" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="‡¶∞‡ßã‡¶° ‡¶®‡¶Ç ‡ß®‡ß≠">
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ *</label>
                        <textarea id="adFullAddress" required rows="3" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="‡¶¨‡¶æ‡¶°‡¶º‡¶ø ‡¶®‡¶Ç ‡ßß‡ß®‡ß´/‡¶è, ‡¶∞‡ßã‡¶° ‡¶®‡¶Ç ‡ß®‡ß≠, ‡¶ß‡¶æ‡¶®‡¶Æ‡¶®‡ßç‡¶°‡¶ø ‡¶Ü‡¶¨‡¶æ‡¶∏‡¶ø‡¶ï ‡¶è‡¶≤‡¶æ‡¶ï‡¶æ, ‡¶¢‡¶æ‡¶ï‡¶æ-‡ßß‡ß®‡ß¶‡ß´"></textarea>
                    </div>

                    <!-- Features -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ‡¶∏‡¶Æ‡ßÇ‡¶π</label>
                        <div class="grid grid-cols-2 md:grid-cols-3 gap-2">
                            <label class="flex items-center">
                                <input type="checkbox" value="‡¶≤‡¶ø‡¶´‡¶ü" class="mr-2 rounded"> ‡¶≤‡¶ø‡¶´‡¶ü
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="‡¶™‡¶æ‡¶∞‡ßç‡¶ï‡¶ø‡¶Ç" class="mr-2 rounded"> ‡¶™‡¶æ‡¶∞‡ßç‡¶ï‡¶ø‡¶Ç
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶ü‡¶∞" class="mr-2 rounded"> ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶ü‡¶∞
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶§‡ßç‡¶§‡¶æ" class="mr-2 rounded"> ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶§‡ßç‡¶§‡¶æ
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="‡¶¨‡¶æ‡¶≤‡¶ï‡¶®‡¶ø" class="mr-2 rounded"> ‡¶¨‡¶æ‡¶≤‡¶ï‡¶®‡¶ø
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="‡¶ó‡ßç‡¶Ø‡¶æ‡¶∏ ‡¶≤‡¶æ‡¶á‡¶®" class="mr-2 rounded"> ‡¶ó‡ßç‡¶Ø‡¶æ‡¶∏ ‡¶≤‡¶æ‡¶á‡¶®
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶®‡ßá‡¶ü" class="mr-2 rounded"> ‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶®‡ßá‡¶ü
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="‡¶è‡¶∏‡¶ø" class="mr-2 rounded"> ‡¶è‡¶∏‡¶ø
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="‡¶¨‡¶æ‡¶ó‡¶æ‡¶®" class="mr-2 rounded"> ‡¶¨‡¶æ‡¶ó‡¶æ‡¶®
                            </label>
                        </div>
                    </div>

                    <!-- Contact Info -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ *</label>
                            <input type="text" id="adContactName" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ *</label>
                            <input type="tel" id="adContactPhone" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="‡ß¶‡ßß‡ß≠‡ßß‡ß®‡ß©‡ß™‡ß´‡ß¨‡ß≠‡ßÆ">
                        </div>
                    </div>

                    <!-- Image URLs -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡¶õ‡¶¨‡¶ø‡¶∞ ‡¶≤‡¶ø‡¶Ç‡¶ï (‡¶ê‡¶ö‡ßç‡¶õ‡¶ø‡¶ï)</label>
                        <div id="imageUrlContainer">
                            <input type="url" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors mb-2" placeholder="https://example.com/image1.jpg">
                        </div>
                        <button type="button" onclick="addImageUrl()" class="text-blue-600 hover:text-blue-700 text-sm font-medium">+ ‡¶Ü‡¶∞‡ßã ‡¶õ‡¶¨‡¶ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                    </div>

                    <!-- Video URL -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶≤‡¶ø‡¶Ç‡¶ï (‡¶ê‡¶ö‡ßç‡¶õ‡¶ø‡¶ï)</label>
                        <input type="url" id="adVideoUrl" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="Google Drive ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶≤‡¶ø‡¶Ç‡¶ï">
                        <p class="text-xs text-gray-500 mt-1">Google Drive ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶¶‡¶ø‡¶® (preview ‡¶≤‡¶ø‡¶Ç‡¶ï)</p>
                    </div>

                    <!-- Submit Button -->
                    <button type="submit" class="w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-semibold py-3 px-4 rounded-xl transition-all transform hover:scale-105 flex items-center justify-center">
                        <span class="mr-2">üìù</span> ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Complete Division-District mapping for Bangladesh
        const locationData = {
            dhaka: {
                name: '‡¶¢‡¶æ‡¶ï‡¶æ',
                districts: {
                    dhaka: { name: '‡¶¢‡¶æ‡¶ï‡¶æ' },
                    faridpur: { name: '‡¶´‡¶∞‡¶ø‡¶¶‡¶™‡ßÅ‡¶∞' },
                    gazipur: { name: '‡¶ó‡¶æ‡¶ú‡ßÄ‡¶™‡ßÅ‡¶∞' },
                    gopalganj: { name: '‡¶ó‡ßã‡¶™‡¶æ‡¶≤‡¶ó‡¶û‡ßç‡¶ú' },
                    kishoreganj: { name: '‡¶ï‡¶ø‡¶∂‡ßã‡¶∞‡¶ó‡¶û‡ßç‡¶ú' },
                    madaripur: { name: '‡¶Æ‡¶æ‡¶¶‡¶æ‡¶∞‡ßÄ‡¶™‡ßÅ‡¶∞' },
                    manikganj: { name: '‡¶Æ‡¶æ‡¶®‡¶ø‡¶ï‡¶ó‡¶û‡ßç‡¶ú' },
                    munshiganj: { name: '‡¶Æ‡ßÅ‡¶®‡ßç‡¶∂‡¶ø‡¶ó‡¶û‡ßç‡¶ú' },
                    narayanganj: { name: '‡¶®‡¶æ‡¶∞‡¶æ‡¶Ø‡¶º‡¶£‡¶ó‡¶û‡ßç‡¶ú' },
                    narsingdi: { name: '‡¶®‡¶∞‡¶∏‡¶ø‡¶Ç‡¶¶‡ßÄ' },
                    rajbari: { name: '‡¶∞‡¶æ‡¶ú‡¶¨‡¶æ‡¶°‡¶º‡ßÄ' },
                    shariatpur: { name: '‡¶∂‡¶∞‡ßÄ‡¶Ø‡¶º‡¶§‡¶™‡ßÅ‡¶∞' },
                    tangail: { name: '‡¶ü‡¶æ‡¶ô‡ßç‡¶ó‡¶æ‡¶á‡¶≤' }
                }
            },
            chittagong: {
                name: '‡¶ö‡¶ü‡ßç‡¶ü‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ',
                districts: {
                    bandarban: { name: '‡¶¨‡¶æ‡¶®‡ßç‡¶¶‡¶∞‡¶¨‡¶æ‡¶®' },
                    brahmanbaria: { name: '‡¶¨‡ßç‡¶∞‡¶æ‡¶π‡ßç‡¶Æ‡¶£‡¶¨‡¶æ‡¶°‡¶º‡¶ø‡¶Ø‡¶º‡¶æ' },
                    chandpur: { name: '‡¶ö‡¶æ‡¶Å‡¶¶‡¶™‡ßÅ‡¶∞' },
                    chittagong: { name: '‡¶ö‡¶ü‡ßç‡¶ü‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ' },
                    comilla: { name: '‡¶ï‡ßÅ‡¶Æ‡¶ø‡¶≤‡ßç‡¶≤‡¶æ' },
                    coxsbazar: { name: '‡¶ï‡¶ï‡ßç‡¶∏‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞' },
                    feni: { name: '‡¶´‡ßá‡¶®‡ßÄ' },
                    khagrachhari: { name: '‡¶ñ‡¶æ‡¶ó‡¶°‡¶º‡¶æ‡¶õ‡¶°‡¶º‡¶ø' },
                    lakshmipur: { name: '‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Æ‡ßÄ‡¶™‡ßÅ‡¶∞' },
                    noakhali: { name: '‡¶®‡ßã‡¶Ø‡¶º‡¶æ‡¶ñ‡¶æ‡¶≤‡ßÄ' },
                    rangamati: { name: '‡¶∞‡¶æ‡¶ô‡ßç‡¶ó‡¶æ‡¶Æ‡¶æ‡¶ü‡¶ø' }
                }
            },
            rajshahi: {
                name: '‡¶∞‡¶æ‡¶ú‡¶∂‡¶æ‡¶π‡ßÄ',
                districts: {
                    bogra: { name: '‡¶¨‡¶ó‡ßÅ‡¶°‡¶º‡¶æ' },
                    joypurhat: { name: '‡¶ú‡¶Ø‡¶º‡¶™‡ßÅ‡¶∞‡¶π‡¶æ‡¶ü' },
                    naogaon: { name: '‡¶®‡¶ì‡¶ó‡¶æ‡¶Å' },
                    natore: { name: '‡¶®‡¶æ‡¶ü‡ßã‡¶∞' },
                    chapainawabganj: { name: '‡¶ö‡¶æ‡¶Å‡¶™‡¶æ‡¶á‡¶®‡¶¨‡¶æ‡¶¨‡¶ó‡¶û‡ßç‡¶ú' },
                    pabna: { name: '‡¶™‡¶æ‡¶¨‡¶®‡¶æ' },
                    rajshahi: { name: '‡¶∞‡¶æ‡¶ú‡¶∂‡¶æ‡¶π‡ßÄ' },
                    sirajganj: { name: '‡¶∏‡¶ø‡¶∞‡¶æ‡¶ú‡¶ó‡¶û‡ßç‡¶ú' }
                }
            },
            khulna: {
                name: '‡¶ñ‡ßÅ‡¶≤‡¶®‡¶æ',
                districts: {
                    bagerhat: { name: '‡¶¨‡¶æ‡¶ó‡ßá‡¶∞‡¶π‡¶æ‡¶ü' },
                    chuadanga: { name: '‡¶ö‡ßÅ‡¶Ø‡¶º‡¶æ‡¶°‡¶æ‡¶ô‡ßç‡¶ó‡¶æ' },
                    jessore: { name: '‡¶Ø‡¶∂‡ßã‡¶∞' },
                    jhenaidah: { name: '‡¶ù‡¶ø‡¶®‡¶æ‡¶á‡¶¶‡¶π' },
                    khulna: { name: '‡¶ñ‡ßÅ‡¶≤‡¶®‡¶æ' },
                    kushtia: { name: '‡¶ï‡ßÅ‡¶∑‡ßç‡¶ü‡¶ø‡¶Ø‡¶º‡¶æ' },
                    magura: { name: '‡¶Æ‡¶æ‡¶ó‡ßÅ‡¶∞‡¶æ' },
                    meherpur: { name: '‡¶Æ‡ßá‡¶π‡ßá‡¶∞‡¶™‡ßÅ‡¶∞' },
                    narail: { name: '‡¶®‡¶°‡¶º‡¶æ‡¶á‡¶≤' },
                    satkhira: { name: '‡¶∏‡¶æ‡¶§‡¶ï‡ßç‡¶∑‡ßÄ‡¶∞‡¶æ' }
                }
            },
            sylhet: {
                name: '‡¶∏‡¶ø‡¶≤‡ßá‡¶ü',
                districts: {
                    habiganj: { name: '‡¶π‡¶¨‡¶ø‡¶ó‡¶û‡ßç‡¶ú' },
                    moulvibazar: { name: '‡¶Æ‡ßå‡¶≤‡¶≠‡ßÄ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞' },
                    sunamganj: { name: '‡¶∏‡ßÅ‡¶®‡¶æ‡¶Æ‡¶ó‡¶û‡ßç‡¶ú' },
                    sylhet: { name: '‡¶∏‡¶ø‡¶≤‡ßá‡¶ü' }
                }
            },
            barisal: {
                name: '‡¶¨‡¶∞‡¶ø‡¶∂‡¶æ‡¶≤',
                districts: {
                    barguna: { name: '‡¶¨‡¶∞‡¶ó‡ßÅ‡¶®‡¶æ' },
                    barisal: { name: '‡¶¨‡¶∞‡¶ø‡¶∂‡¶æ‡¶≤' },
                    bhola: { name: '‡¶≠‡ßã‡¶≤‡¶æ' },
                    jhalokati: { name: '‡¶ù‡¶æ‡¶≤‡¶ï‡¶æ‡¶†‡¶ø' },
                    patuakhali: { name: '‡¶™‡¶ü‡ßÅ‡¶Ø‡¶º‡¶æ‡¶ñ‡¶æ‡¶≤‡ßÄ' },
                    pirojpur: { name: '‡¶™‡¶ø‡¶∞‡ßã‡¶ú‡¶™‡ßÅ‡¶∞' }
                }
            },
            rangpur: {
                name: '‡¶∞‡¶Ç‡¶™‡ßÅ‡¶∞',
                districts: {
                    dinajpur: { name: '‡¶¶‡¶ø‡¶®‡¶æ‡¶ú‡¶™‡ßÅ‡¶∞' },
                    gaibandha: { name: '‡¶ó‡¶æ‡¶á‡¶¨‡¶æ‡¶®‡ßç‡¶ß‡¶æ' },
                    kurigram: { name: '‡¶ï‡ßÅ‡¶°‡¶º‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ' },
                    lalmonirhat: { name: '‡¶≤‡¶æ‡¶≤‡¶Æ‡¶®‡¶ø‡¶∞‡¶π‡¶æ‡¶ü' },
                    nilphamari: { name: '‡¶®‡ßÄ‡¶≤‡¶´‡¶æ‡¶Æ‡¶æ‡¶∞‡ßÄ' },
                    panchagarh: { name: '‡¶™‡¶û‡ßç‡¶ö‡¶ó‡¶°‡¶º' },
                    rangpur: { name: '‡¶∞‡¶Ç‡¶™‡ßÅ‡¶∞' },
                    thakurgaon: { name: '‡¶†‡¶æ‡¶ï‡ßÅ‡¶∞‡¶ó‡¶æ‡¶Å‡¶ì' }
                }
            },
            mymensingh: {
                name: '‡¶Æ‡¶Ø‡¶º‡¶Æ‡¶®‡¶∏‡¶ø‡¶Ç‡¶π',
                districts: {
                    jamalpur: { name: '‡¶ú‡¶æ‡¶Æ‡¶æ‡¶≤‡¶™‡ßÅ‡¶∞' },
                    mymensingh: { name: '‡¶Æ‡¶Ø‡¶º‡¶Æ‡¶®‡¶∏‡¶ø‡¶Ç‡¶π' },
                    netrokona: { name: '‡¶®‡ßá‡¶§‡ßç‡¶∞‡¶ï‡ßã‡¶®‡¶æ' },
                    sherpur: { name: '‡¶∂‡ßá‡¶∞‡¶™‡ßÅ‡¶∞' }
                }
            }
        };

        // Area name mapping for bilingual search (Bengali-English)
        const areaMapping = {
            // Dhaka areas
            '‡¶ß‡¶æ‡¶®‡¶Æ‡¶®‡ßç‡¶°‡¶ø': ['dhanmondi', '‡¶ß‡¶æ‡¶®‡¶Æ‡¶®‡ßç‡¶°‡¶ø'],
            '‡¶ó‡ßÅ‡¶≤‡¶∂‡¶æ‡¶®': ['gulshan', '‡¶ó‡ßÅ‡¶≤‡¶∂‡¶æ‡¶®'],
            '‡¶â‡¶§‡ßç‡¶§‡¶∞‡¶æ': ['uttara', '‡¶â‡¶§‡ßç‡¶§‡¶∞‡¶æ'],
            '‡¶Æ‡¶ø‡¶∞‡¶™‡ßÅ‡¶∞': ['mirpur', '‡¶Æ‡¶ø‡¶∞‡¶™‡ßÅ‡¶∞'],
            '‡¶Æ‡ßã‡¶π‡¶æ‡¶Æ‡ßç‡¶Æ‡¶¶‡¶™‡ßÅ‡¶∞': ['mohammadpur', '‡¶Æ‡ßã‡¶π‡¶æ‡¶Æ‡ßç‡¶Æ‡¶¶‡¶™‡ßÅ‡¶∞'],
            '‡¶¨‡¶®‡¶æ‡¶®‡ßÄ': ['banani', '‡¶¨‡¶®‡¶æ‡¶®‡ßÄ'],
            '‡¶∞‡¶Æ‡¶®‡¶æ': ['ramna', '‡¶∞‡¶Æ‡¶®‡¶æ'],
            '‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßÄ': ['wari', '‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßÄ'],
            '‡¶™‡ßÅ‡¶∞‡¶æ‡¶® ‡¶¢‡¶æ‡¶ï‡¶æ': ['old dhaka', 'puran dhaka', '‡¶™‡ßÅ‡¶∞‡¶æ‡¶® ‡¶¢‡¶æ‡¶ï‡¶æ'],
            '‡¶®‡¶ø‡¶â ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡ßá‡¶ü': ['new market', '‡¶®‡¶ø‡¶â ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡ßá‡¶ü'],
            '‡¶è‡¶≤‡¶ø‡¶´‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶ü ‡¶∞‡ßã‡¶°': ['elephant road', '‡¶è‡¶≤‡¶ø‡¶´‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶ü ‡¶∞‡ßã‡¶°'],
            '‡¶ï‡¶≤‡¶æ‡¶¨‡¶æ‡¶ó‡¶æ‡¶®': ['kalabagan', '‡¶ï‡¶≤‡¶æ‡¶¨‡¶æ‡¶ó‡¶æ‡¶®'],
            '‡¶≤‡¶æ‡¶≤‡¶Æ‡¶æ‡¶ü‡¶ø‡¶Ø‡¶º‡¶æ': ['lalmatia', '‡¶≤‡¶æ‡¶≤‡¶Æ‡¶æ‡¶ü‡¶ø‡¶Ø‡¶º‡¶æ'],
            '‡¶∂‡¶æ‡¶®‡ßç‡¶§‡¶ø‡¶®‡¶ó‡¶∞': ['shantinagar', '‡¶∂‡¶æ‡¶®‡ßç‡¶§‡¶ø‡¶®‡¶ó‡¶∞'],
            '‡¶Æ‡¶ó‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞': ['mogbazar', '‡¶Æ‡¶ó‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞'],
            '‡¶Æ‡¶æ‡¶≤‡¶ø‡¶¨‡¶æ‡¶ó': ['malibagh', '‡¶Æ‡¶æ‡¶≤‡¶ø‡¶¨‡¶æ‡¶ó'],
            '‡¶¨‡¶æ‡¶°‡ßç‡¶°‡¶æ': ['badda', '‡¶¨‡¶æ‡¶°‡ßç‡¶°‡¶æ'],
            '‡¶∞‡¶æ‡¶Æ‡¶™‡ßÅ‡¶∞‡¶æ': ['rampura', '‡¶∞‡¶æ‡¶Æ‡¶™‡ßÅ‡¶∞‡¶æ'],
            '‡¶ñ‡¶ø‡¶≤‡¶ó‡¶æ‡¶Å‡¶ì': ['khilgaon', '‡¶ñ‡¶ø‡¶≤‡¶ó‡¶æ‡¶Å‡¶ì'],
            '‡¶∏‡¶¨‡ßÅ‡¶ú‡¶¨‡¶æ‡¶ó': ['sabujbagh', '‡¶∏‡¶¨‡ßÅ‡¶ú‡¶¨‡¶æ‡¶ó'],
            '‡¶Ø‡¶æ‡¶§‡ßç‡¶∞‡¶æ‡¶¨‡¶æ‡¶°‡¶º‡ßÄ': ['jatrabari', '‡¶Ø‡¶æ‡¶§‡ßç‡¶∞‡¶æ‡¶¨‡¶æ‡¶°‡¶º‡ßÄ'],
            '‡¶ï‡¶Æ‡¶≤‡¶æ‡¶™‡ßÅ‡¶∞': ['kamlapur', '‡¶ï‡¶Æ‡¶≤‡¶æ‡¶™‡ßÅ‡¶∞'],
            '‡¶Æ‡¶§‡¶ø‡¶ù‡¶ø‡¶≤': ['motijheel', '‡¶Æ‡¶§‡¶ø‡¶ù‡¶ø‡¶≤'],
            '‡¶™‡¶≤‡ßç‡¶ü‡¶®': ['paltan', '‡¶™‡¶≤‡ßç‡¶ü‡¶®'],
            '‡¶§‡ßá‡¶ú‡¶ó‡¶æ‡¶Å‡¶ì': ['tejgaon', '‡¶§‡ßá‡¶ú‡¶ó‡¶æ‡¶Å‡¶ì'],
            '‡¶´‡¶æ‡¶∞‡ßç‡¶Æ‡¶ó‡ßá‡¶ü': ['farmgate', '‡¶´‡¶æ‡¶∞‡ßç‡¶Æ‡¶ó‡ßá‡¶ü'],
            '‡¶ï‡¶æ‡¶∞‡¶ì‡¶Ø‡¶º‡¶æ‡¶® ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞': ['karwan bazar', '‡¶ï‡¶æ‡¶∞‡¶ì‡¶Ø‡¶º‡¶æ‡¶® ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞'],
            '‡¶™‡¶æ‡¶®‡ßç‡¶•‡¶™‡¶•': ['panthapath', '‡¶™‡¶æ‡¶®‡ßç‡¶•‡¶™‡¶•'],
            '‡¶¨‡¶∏‡ßÅ‡¶®‡ßç‡¶ß‡¶∞‡¶æ': ['bashundhara', '‡¶¨‡¶∏‡ßÅ‡¶®‡ßç‡¶ß‡¶∞‡¶æ'],
            '‡¶¨‡¶æ‡¶∞‡¶ø‡¶ß‡¶æ‡¶∞‡¶æ': ['baridhara', '‡¶¨‡¶æ‡¶∞‡¶ø‡¶ß‡¶æ‡¶∞‡¶æ'],
            '‡¶®‡¶ø‡¶ï‡ßá‡¶§‡¶®': ['niketan', '‡¶®‡¶ø‡¶ï‡ßá‡¶§‡¶®'],
            '‡¶¨‡¶®‡¶∂‡ßç‡¶∞‡ßÄ': ['banasree', '‡¶¨‡¶®‡¶∂‡ßç‡¶∞‡ßÄ'],
            '‡¶ñ‡¶ø‡¶≤‡¶ï‡ßç‡¶∑‡ßá‡¶§': ['khilkhet', '‡¶ñ‡¶ø‡¶≤‡¶ï‡ßç‡¶∑‡ßá‡¶§'],
            '‡¶Ü‡¶∂‡¶ï‡ßã‡¶®‡¶æ': ['ashkona', '‡¶Ü‡¶∂‡¶ï‡ßã‡¶®‡¶æ'],
            '‡¶¶‡¶ï‡ßç‡¶∑‡¶ø‡¶£‡¶ñ‡¶æ‡¶®': ['dakshin khan', '‡¶¶‡¶ï‡ßç‡¶∑‡¶ø‡¶£‡¶ñ‡¶æ‡¶®'],
            '‡¶â‡¶§‡ßç‡¶§‡¶∞‡¶ñ‡¶æ‡¶®': ['uttar khan', '‡¶â‡¶§‡ßç‡¶§‡¶∞‡¶ñ‡¶æ‡¶®'],
            '‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶≤': ['purbachal', '‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶≤'],
            '‡¶ú‡¶≤‡¶ø‡¶≤ ‡¶∏‡¶∞‡¶£‡¶ø': ['jolil sarani', '‡¶ú‡¶≤‡¶ø‡¶≤ ‡¶∏‡¶∞‡¶£‡¶ø'],
            '‡¶∂‡¶æ‡¶π‡¶ú‡¶æ‡¶π‡¶æ‡¶®‡¶™‡ßÅ‡¶∞': ['shahjahanpur', '‡¶∂‡¶æ‡¶π‡¶ú‡¶æ‡¶π‡¶æ‡¶®‡¶™‡ßÅ‡¶∞'],
            '‡¶ï‡¶æ‡¶ú‡ßÄ‡¶™‡¶æ‡¶°‡¶º‡¶æ': ['kazipara', '‡¶ï‡¶æ‡¶ú‡ßÄ‡¶™‡¶æ‡¶°‡¶º‡¶æ'],
            '‡¶∂‡ßá‡¶ì‡¶°‡¶º‡¶æ‡¶™‡¶æ‡¶°‡¶º‡¶æ': ['shewrapara', '‡¶∂‡ßá‡¶ì‡¶°‡¶º‡¶æ‡¶™‡¶æ‡¶°‡¶º‡¶æ'],
            '‡¶Ü‡¶ó‡¶æ‡¶∞‡¶ó‡¶æ‡¶Å‡¶ì': ['agargaon', '‡¶Ü‡¶ó‡¶æ‡¶∞‡¶ó‡¶æ‡¶Å‡¶ì'],
            '‡¶∂‡ßç‡¶Ø‡¶æ‡¶Æ‡¶≤‡ßÄ': ['shyamoli', '‡¶∂‡ßç‡¶Ø‡¶æ‡¶Æ‡¶≤‡ßÄ'],
            '‡¶Ü‡¶¶‡¶æ‡¶¨‡¶∞': ['adabor', '‡¶Ü‡¶¶‡¶æ‡¶¨‡¶∞'],
            '‡¶ï‡¶≤‡ßç‡¶Ø‡¶æ‡¶£‡¶™‡ßÅ‡¶∞': ['kalyanpur', '‡¶ï‡¶≤‡ßç‡¶Ø‡¶æ‡¶£‡¶™‡ßÅ‡¶∞'],
            '‡¶π‡¶æ‡¶ú‡¶æ‡¶∞‡ßÄ‡¶¨‡¶æ‡¶ó': ['hazaribagh', '‡¶π‡¶æ‡¶ú‡¶æ‡¶∞‡ßÄ‡¶¨‡¶æ‡¶ó'],
            '‡¶®‡¶¨‡¶æ‡¶¨‡¶ó‡¶û‡ßç‡¶ú': ['nawabganj', '‡¶®‡¶¨‡¶æ‡¶¨‡¶ó‡¶û‡ßç‡¶ú'],
            '‡¶°‡ßá‡¶Æ‡¶∞‡¶æ': ['demra', '‡¶°‡ßá‡¶Æ‡¶∞‡¶æ'],
            '‡¶ó‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ': ['gendaria', '‡¶ó‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ'],
            '‡¶®‡¶æ‡¶ú‡¶ø‡¶∞‡¶æ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞': ['nazirabazar', '‡¶®‡¶æ‡¶ú‡¶ø‡¶∞‡¶æ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞'],
            '‡¶Ü‡¶∞‡¶Æ‡¶æ‡¶®‡¶ø‡¶ü‡ßã‡¶≤‡¶æ': ['armanitola', '‡¶Ü‡¶∞‡¶Æ‡¶æ‡¶®‡¶ø‡¶ü‡ßã‡¶≤‡¶æ'],
            '‡¶ö‡¶ï‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞': ['chawkbazar', '‡¶ö‡¶ï‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞'],
            '‡¶≤‡¶æ‡¶≤‡¶¨‡¶æ‡¶ó': ['lalbagh', '‡¶≤‡¶æ‡¶≤‡¶¨‡¶æ‡¶ó'],
            '‡¶ï‡ßã‡¶§‡ßã‡¶Ø‡¶º‡¶æ‡¶≤‡ßÄ': ['kotwali', '‡¶ï‡ßã‡¶§‡ßã‡¶Ø‡¶º‡¶æ‡¶≤‡ßÄ'],
            '‡¶∏‡ßÇ‡¶§‡ßç‡¶∞‡¶æ‡¶™‡ßÅ‡¶∞': ['sutrapur', '‡¶∏‡ßÇ‡¶§‡ßç‡¶∞‡¶æ‡¶™‡ßÅ‡¶∞'],
            '‡¶∂‡¶æ‡¶Å‡¶ñ‡¶æ‡¶∞‡ßÄ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞': ['shankharibazar', '‡¶∂‡¶æ‡¶Å‡¶ñ‡¶æ‡¶∞‡ßÄ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞'],
            '‡¶¨‡¶Ç‡¶∂‡¶æ‡¶≤': ['bangshal', '‡¶¨‡¶Ç‡¶∂‡¶æ‡¶≤'],
            '‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶™‡ßÅ‡¶∞': ['islampur', '‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶™‡ßÅ‡¶∞'],
            '‡¶∏‡¶æ‡¶≠‡¶æ‡¶∞': ['savar', '‡¶∏‡¶æ‡¶≠‡¶æ‡¶∞'],
            '‡¶Ü‡¶∂‡ßÅ‡¶≤‡¶ø‡¶Ø‡¶º‡¶æ': ['ashulia', '‡¶Ü‡¶∂‡ßÅ‡¶≤‡¶ø‡¶Ø‡¶º‡¶æ'],
            '‡¶ï‡ßá‡¶∞‡¶æ‡¶®‡ßÄ‡¶ó‡¶û‡ßç‡¶ú': ['keraniganj', '‡¶ï‡ßá‡¶∞‡¶æ‡¶®‡ßÄ‡¶ó‡¶û‡ßç‡¶ú'],
            '‡¶¶‡ßã‡¶π‡¶æ‡¶∞': ['dohar', '‡¶¶‡ßã‡¶π‡¶æ‡¶∞'],
            '‡¶®‡¶¨‡¶æ‡¶¨‡¶ó‡¶û‡ßç‡¶ú': ['nawabganj', '‡¶®‡¶¨‡¶æ‡¶¨‡¶ó‡¶û‡ßç‡¶ú'],
            
            // Chittagong areas
            '‡¶Ü‡¶ó‡ßç‡¶∞‡¶æ‡¶¨‡¶æ‡¶¶': ['agrabad', '‡¶Ü‡¶ó‡ßç‡¶∞‡¶æ‡¶¨‡¶æ‡¶¶'],
            '‡¶®‡¶æ‡¶∏‡¶ø‡¶∞‡¶æ‡¶¨‡¶æ‡¶¶': ['nasirabad', '‡¶®‡¶æ‡¶∏‡¶ø‡¶∞‡¶æ‡¶¨‡¶æ‡¶¶'],
            '‡¶™‡¶æ‡¶π‡¶æ‡¶°‡¶º‡¶§‡¶≤‡ßÄ': ['pahartali', '‡¶™‡¶æ‡¶π‡¶æ‡¶°‡¶º‡¶§‡¶≤‡ßÄ'],
            '‡¶ö‡¶ï‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞': ['chawkbazar', '‡¶ö‡¶ï‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞'],
            '‡¶π‡¶æ‡¶≤‡¶ø‡¶∂‡¶π‡¶∞': ['halishahar', '‡¶π‡¶æ‡¶≤‡¶ø‡¶∂‡¶π‡¶∞'],
            '‡¶ï‡ßã‡¶§‡ßã‡¶Ø‡¶º‡¶æ‡¶≤‡ßÄ': ['kotwali', '‡¶ï‡ßã‡¶§‡ßã‡¶Ø‡¶º‡¶æ‡¶≤‡ßÄ'],
            '‡¶™‡¶§‡ßá‡¶ô‡ßç‡¶ó‡¶æ': ['patenga', '‡¶™‡¶§‡ßá‡¶ô‡ßç‡¶ó‡¶æ'],
            '‡¶¨‡¶æ‡¶Ø‡¶º‡ßá‡¶ú‡¶ø‡¶¶': ['bayezid', '‡¶¨‡¶æ‡¶Ø‡¶º‡ßá‡¶ú‡¶ø‡¶¶'],
            '‡¶ñ‡ßÅ‡¶≤‡¶∂‡ßÄ': ['khulshi', '‡¶ñ‡ßÅ‡¶≤‡¶∂‡ßÄ'],
            '‡¶ö‡¶ü‡ßç‡¶ü‡ßá‡¶∂‡ßç‡¶¨‡¶∞‡ßÄ': ['chatteshwari', '‡¶ö‡¶ü‡ßç‡¶ü‡ßá‡¶∂‡ßç‡¶¨‡¶∞‡ßÄ'],
            '‡¶™‡¶æ‡¶Å‡¶ö‡¶≤‡¶æ‡¶á‡¶∂': ['panchlish', '‡¶™‡¶æ‡¶Å‡¶ö‡¶≤‡¶æ‡¶á‡¶∂'],
            '‡¶ú‡¶æ‡¶Æ‡¶æ‡¶≤‡¶ñ‡¶æ‡¶®': ['jamalkhan', '‡¶ú‡¶æ‡¶Æ‡¶æ‡¶≤‡¶ñ‡¶æ‡¶®'],
            '‡¶Ü‡¶Æ‡ßç‡¶¨‡¶æ‡¶ó‡¶æ‡¶®': ['ambagan', '‡¶Ü‡¶Æ‡ßç‡¶¨‡¶æ‡¶ó‡¶æ‡¶®'],
            '‡¶ö‡¶æ‡¶®‡ßç‡¶¶‡¶ó‡¶æ‡¶Å‡¶ì': ['chandgaon', '‡¶ö‡¶æ‡¶®‡ßç‡¶¶‡¶ó‡¶æ‡¶Å‡¶ì'],
            '‡¶ï‡¶∞‡ßç‡¶£‡¶´‡ßÅ‡¶≤‡ßÄ': ['karnaphuli', '‡¶ï‡¶∞‡ßç‡¶£‡¶´‡ßÅ‡¶≤‡ßÄ'],
            '‡¶∏‡ßÄ‡¶§‡¶æ‡¶ï‡ßÅ‡¶£‡ßç‡¶°': ['sitakunda', '‡¶∏‡ßÄ‡¶§‡¶æ‡¶ï‡ßÅ‡¶£‡ßç‡¶°'],
            '‡¶Æ‡ßÄ‡¶∞‡¶∏‡¶∞‡¶æ‡¶á': ['mirsharai', '‡¶Æ‡ßÄ‡¶∞‡¶∏‡¶∞‡¶æ‡¶á'],
            '‡¶´‡¶ü‡¶ø‡¶ï‡¶õ‡¶°‡¶º‡¶ø': ['fatikchari', '‡¶´‡¶ü‡¶ø‡¶ï‡¶õ‡¶°‡¶º‡¶ø'],
            '‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶®': ['raujan', '‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶®'],
            '‡¶π‡¶æ‡¶ü‡¶π‡¶æ‡¶ú‡¶æ‡¶∞‡ßÄ': ['hathazari', '‡¶π‡¶æ‡¶ü‡¶π‡¶æ‡¶ú‡¶æ‡¶∞‡ßÄ'],
            '‡¶∞‡¶æ‡¶ô‡ßç‡¶ó‡ßÅ‡¶®‡¶ø‡¶Ø‡¶º‡¶æ': ['rangunia', '‡¶∞‡¶æ‡¶ô‡ßç‡¶ó‡ßÅ‡¶®‡¶ø‡¶Ø‡¶º‡¶æ'],
            '‡¶¨‡ßã‡¶Ø‡¶º‡¶æ‡¶≤‡¶ñ‡¶æ‡¶≤‡ßÄ': ['boalkhali', '‡¶¨‡ßã‡¶Ø‡¶º‡¶æ‡¶≤‡¶ñ‡¶æ‡¶≤‡ßÄ'],
            '‡¶Ü‡¶®‡ßã‡¶Ø‡¶º‡¶æ‡¶∞‡¶æ': ['anwara', '‡¶Ü‡¶®‡ßã‡¶Ø‡¶º‡¶æ‡¶∞‡¶æ'],
            '‡¶ö‡¶®‡ßç‡¶¶‡¶®‡¶æ‡¶á‡¶∂': ['chandanaish', '‡¶ö‡¶®‡ßç‡¶¶‡¶®‡¶æ‡¶á‡¶∂'],
            '‡¶∏‡¶®‡ßç‡¶¶‡ßç‡¶¨‡ßÄ‡¶™': ['sandwip', '‡¶∏‡¶®‡ßç‡¶¶‡ßç‡¶¨‡ßÄ‡¶™'],
            '‡¶¨‡¶æ‡¶Å‡¶∂‡¶ñ‡¶æ‡¶≤‡ßÄ': ['banshkhali', '‡¶¨‡¶æ‡¶Å‡¶∂‡¶ñ‡¶æ‡¶≤‡ßÄ'],
            '‡¶≤‡ßã‡¶π‡¶æ‡¶ó‡¶æ‡¶°‡¶º‡¶æ': ['lohagara', '‡¶≤‡ßã‡¶π‡¶æ‡¶ó‡¶æ‡¶°‡¶º‡¶æ'],
            '‡¶™‡¶ü‡¶ø‡¶Ø‡¶º‡¶æ': ['patiya', '‡¶™‡¶ü‡¶ø‡¶Ø‡¶º‡¶æ'],
            '‡¶∏‡¶æ‡¶§‡¶ï‡¶æ‡¶®‡¶ø‡¶Ø‡¶º‡¶æ': ['satkania', '‡¶∏‡¶æ‡¶§‡¶ï‡¶æ‡¶®‡¶ø‡¶Ø‡¶º‡¶æ'],
            
            // Other major cities
            '‡¶∏‡¶ø‡¶≤‡ßá‡¶ü': ['sylhet', '‡¶∏‡¶ø‡¶≤‡ßá‡¶ü'],
            '‡¶∞‡¶æ‡¶ú‡¶∂‡¶æ‡¶π‡ßÄ': ['rajshahi', '‡¶∞‡¶æ‡¶ú‡¶∂‡¶æ‡¶π‡ßÄ'],
            '‡¶ñ‡ßÅ‡¶≤‡¶®‡¶æ': ['khulna', '‡¶ñ‡ßÅ‡¶≤‡¶®‡¶æ'],
            '‡¶¨‡¶∞‡¶ø‡¶∂‡¶æ‡¶≤': ['barisal', '‡¶¨‡¶∞‡¶ø‡¶∂‡¶æ‡¶≤'],
            '‡¶∞‡¶Ç‡¶™‡ßÅ‡¶∞': ['rangpur', '‡¶∞‡¶Ç‡¶™‡ßÅ‡¶∞'],
            '‡¶Æ‡¶Ø‡¶º‡¶Æ‡¶®‡¶∏‡¶ø‡¶Ç‡¶π': ['mymensingh', '‡¶Æ‡¶Ø‡¶º‡¶Æ‡¶®‡¶∏‡¶ø‡¶Ç‡¶π'],
            '‡¶ï‡ßÅ‡¶Æ‡¶ø‡¶≤‡ßç‡¶≤‡¶æ': ['comilla', '‡¶ï‡ßÅ‡¶Æ‡¶ø‡¶≤‡ßç‡¶≤‡¶æ'],
            '‡¶Ø‡¶∂‡ßã‡¶∞': ['jessore', '‡¶Ø‡¶∂‡ßã‡¶∞'],
            '‡¶¨‡¶ó‡ßÅ‡¶°‡¶º‡¶æ': ['bogra', '‡¶¨‡¶ó‡ßÅ‡¶°‡¶º‡¶æ'],
            '‡¶¶‡¶ø‡¶®‡¶æ‡¶ú‡¶™‡ßÅ‡¶∞': ['dinajpur', '‡¶¶‡¶ø‡¶®‡¶æ‡¶ú‡¶™‡ßÅ‡¶∞'],
            '‡¶ï‡¶ï‡ßç‡¶∏‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞': ['coxsbazar', "cox's bazar", '‡¶ï‡¶ï‡ßç‡¶∏‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞'],
            '‡¶®‡¶æ‡¶∞‡¶æ‡¶Ø‡¶º‡¶£‡¶ó‡¶û‡ßç‡¶ú': ['narayanganj', '‡¶®‡¶æ‡¶∞‡¶æ‡¶Ø‡¶º‡¶£‡¶ó‡¶û‡ßç‡¶ú'],
            '‡¶ó‡¶æ‡¶ú‡ßÄ‡¶™‡ßÅ‡¶∞': ['gazipur', '‡¶ó‡¶æ‡¶ú‡ßÄ‡¶™‡ßÅ‡¶∞'],
            '‡¶ü‡¶æ‡¶ô‡ßç‡¶ó‡¶æ‡¶á‡¶≤': ['tangail', '‡¶ü‡¶æ‡¶ô‡ßç‡¶ó‡¶æ‡¶á‡¶≤'],
            '‡¶´‡¶∞‡¶ø‡¶¶‡¶™‡ßÅ‡¶∞': ['faridpur', '‡¶´‡¶∞‡¶ø‡¶¶‡¶™‡ßÅ‡¶∞'],
            '‡¶ï‡ßÅ‡¶∑‡ßç‡¶ü‡¶ø‡¶Ø‡¶º‡¶æ': ['kushtia', '‡¶ï‡ßÅ‡¶∑‡ßç‡¶ü‡¶ø‡¶Ø‡¶º‡¶æ'],
            '‡¶™‡¶æ‡¶¨‡¶®‡¶æ': ['pabna', '‡¶™‡¶æ‡¶¨‡¶®‡¶æ'],
            '‡¶®‡¶ì‡¶ó‡¶æ‡¶Å': ['naogaon', '‡¶®‡¶ì‡¶ó‡¶æ‡¶Å'],
            '‡¶∏‡¶ø‡¶∞‡¶æ‡¶ú‡¶ó‡¶û‡ßç‡¶ú': ['sirajganj', '‡¶∏‡¶ø‡¶∞‡¶æ‡¶ú‡¶ó‡¶û‡ßç‡¶ú'],
            '‡¶ö‡¶æ‡¶Å‡¶™‡¶æ‡¶á‡¶®‡¶¨‡¶æ‡¶¨‡¶ó‡¶û‡ßç‡¶ú': ['chapainawabganj', '‡¶ö‡¶æ‡¶Å‡¶™‡¶æ‡¶á‡¶®‡¶¨‡¶æ‡¶¨‡¶ó‡¶û‡ßç‡¶ú'],
            '‡¶®‡¶æ‡¶ü‡ßã‡¶∞': ['natore', '‡¶®‡¶æ‡¶ü‡ßã‡¶∞'],
            '‡¶ú‡¶Ø‡¶º‡¶™‡ßÅ‡¶∞‡¶π‡¶æ‡¶ü': ['joypurhat', '‡¶ú‡¶Ø‡¶º‡¶™‡ßÅ‡¶∞‡¶π‡¶æ‡¶ü'],
            '‡¶Æ‡ßå‡¶≤‡¶≠‡ßÄ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞': ['moulvibazar', '‡¶Æ‡ßå‡¶≤‡¶≠‡ßÄ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞'],
            '‡¶π‡¶¨‡¶ø‡¶ó‡¶û‡ßç‡¶ú': ['habiganj', '‡¶π‡¶¨‡¶ø‡¶ó‡¶û‡ßç‡¶ú'],
            '‡¶∏‡ßÅ‡¶®‡¶æ‡¶Æ‡¶ó‡¶û‡ßç‡¶ú': ['sunamganj', '‡¶∏‡ßÅ‡¶®‡¶æ‡¶Æ‡¶ó‡¶û‡ßç‡¶ú'],
            '‡¶¨‡ßç‡¶∞‡¶æ‡¶π‡ßç‡¶Æ‡¶£‡¶¨‡¶æ‡¶°‡¶º‡¶ø‡¶Ø‡¶º‡¶æ': ['brahmanbaria', '‡¶¨‡ßç‡¶∞‡¶æ‡¶π‡ßç‡¶Æ‡¶£‡¶¨‡¶æ‡¶°‡¶º‡¶ø‡¶Ø‡¶º‡¶æ'],
            '‡¶ö‡¶æ‡¶Å‡¶¶‡¶™‡ßÅ‡¶∞': ['chandpur', '‡¶ö‡¶æ‡¶Å‡¶¶‡¶™‡ßÅ‡¶∞'],
            '‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Æ‡ßÄ‡¶™‡ßÅ‡¶∞': ['lakshmipur', '‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Æ‡ßÄ‡¶™‡ßÅ‡¶∞'],
            '‡¶®‡ßã‡¶Ø‡¶º‡¶æ‡¶ñ‡¶æ‡¶≤‡ßÄ': ['noakhali', '‡¶®‡ßã‡¶Ø‡¶º‡¶æ‡¶ñ‡¶æ‡¶≤‡ßÄ'],
            '‡¶´‡ßá‡¶®‡ßÄ': ['feni', '‡¶´‡ßá‡¶®‡ßÄ'],
            '‡¶ñ‡¶æ‡¶ó‡¶°‡¶º‡¶æ‡¶õ‡¶°‡¶º‡¶ø': ['khagrachhari', '‡¶ñ‡¶æ‡¶ó‡¶°‡¶º‡¶æ‡¶õ‡¶°‡¶º‡¶ø'],
            '‡¶∞‡¶æ‡¶ô‡ßç‡¶ó‡¶æ‡¶Æ‡¶æ‡¶ü‡¶ø': ['rangamati', '‡¶∞‡¶æ‡¶ô‡ßç‡¶ó‡¶æ‡¶Æ‡¶æ‡¶ü‡¶ø'],
            '‡¶¨‡¶æ‡¶®‡ßç‡¶¶‡¶∞‡¶¨‡¶æ‡¶®': ['bandarban', '‡¶¨‡¶æ‡¶®‡ßç‡¶¶‡¶∞‡¶¨‡¶æ‡¶®'],
            '‡¶™‡¶ü‡ßÅ‡¶Ø‡¶º‡¶æ‡¶ñ‡¶æ‡¶≤‡ßÄ': ['patuakhali', '‡¶™‡¶ü‡ßÅ‡¶Ø‡¶º‡¶æ‡¶ñ‡¶æ‡¶≤‡ßÄ'],
            '‡¶≠‡ßã‡¶≤‡¶æ': ['bhola', '‡¶≠‡ßã‡¶≤‡¶æ'],
            '‡¶¨‡¶∞‡¶ó‡ßÅ‡¶®‡¶æ': ['barguna', '‡¶¨‡¶∞‡¶ó‡ßÅ‡¶®‡¶æ'],
            '‡¶ù‡¶æ‡¶≤‡¶ï‡¶æ‡¶†‡¶ø': ['jhalokati', '‡¶ù‡¶æ‡¶≤‡¶ï‡¶æ‡¶†‡¶ø'],
            '‡¶™‡¶ø‡¶∞‡ßã‡¶ú‡¶™‡ßÅ‡¶∞': ['pirojpur', '‡¶™‡¶ø‡¶∞‡ßã‡¶ú‡¶™‡ßÅ‡¶∞'],
            '‡¶∏‡¶æ‡¶§‡¶ï‡ßç‡¶∑‡ßÄ‡¶∞‡¶æ': ['satkhira', '‡¶∏‡¶æ‡¶§‡¶ï‡ßç‡¶∑‡ßÄ‡¶∞‡¶æ'],
            '‡¶¨‡¶æ‡¶ó‡ßá‡¶∞‡¶π‡¶æ‡¶ü': ['bagerhat', '‡¶¨‡¶æ‡¶ó‡ßá‡¶∞‡¶π‡¶æ‡¶ü'],
            '‡¶®‡¶°‡¶º‡¶æ‡¶á‡¶≤': ['narail', '‡¶®‡¶°‡¶º‡¶æ‡¶á‡¶≤'],
            '‡¶Æ‡¶æ‡¶ó‡ßÅ‡¶∞‡¶æ': ['magura', '‡¶Æ‡¶æ‡¶ó‡ßÅ‡¶∞‡¶æ'],
            '‡¶ù‡¶ø‡¶®‡¶æ‡¶á‡¶¶‡¶π': ['jhenaidah', '‡¶ù‡¶ø‡¶®‡¶æ‡¶á‡¶¶‡¶π'],
            '‡¶ö‡ßÅ‡¶Ø‡¶º‡¶æ‡¶°‡¶æ‡¶ô‡ßç‡¶ó‡¶æ': ['chuadanga', '‡¶ö‡ßÅ‡¶Ø‡¶º‡¶æ‡¶°‡¶æ‡¶ô‡ßç‡¶ó‡¶æ'],
            '‡¶Æ‡ßá‡¶π‡ßá‡¶∞‡¶™‡ßÅ‡¶∞': ['meherpur', '‡¶Æ‡ßá‡¶π‡ßá‡¶∞‡¶™‡ßÅ‡¶∞'],
            '‡¶ó‡¶æ‡¶á‡¶¨‡¶æ‡¶®‡ßç‡¶ß‡¶æ': ['gaibandha', '‡¶ó‡¶æ‡¶á‡¶¨‡¶æ‡¶®‡ßç‡¶ß‡¶æ'],
            '‡¶ï‡ßÅ‡¶°‡¶º‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ': ['kurigram', '‡¶ï‡ßÅ‡¶°‡¶º‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ'],
            '‡¶≤‡¶æ‡¶≤‡¶Æ‡¶®‡¶ø‡¶∞‡¶π‡¶æ‡¶ü': ['lalmonirhat', '‡¶≤‡¶æ‡¶≤‡¶Æ‡¶®‡¶ø‡¶∞‡¶π‡¶æ‡¶ü'],
            '‡¶®‡ßÄ‡¶≤‡¶´‡¶æ‡¶Æ‡¶æ‡¶∞‡ßÄ': ['nilphamari', '‡¶®‡ßÄ‡¶≤‡¶´‡¶æ‡¶Æ‡¶æ‡¶∞‡ßÄ'],
            '‡¶™‡¶û‡ßç‡¶ö‡¶ó‡¶°‡¶º': ['panchagarh', '‡¶™‡¶û‡ßç‡¶ö‡¶ó‡¶°‡¶º'],
            '‡¶†‡¶æ‡¶ï‡ßÅ‡¶∞‡¶ó‡¶æ‡¶Å‡¶ì': ['thakurgaon', '‡¶†‡¶æ‡¶ï‡ßÅ‡¶∞‡¶ó‡¶æ‡¶Å‡¶ì'],
            '‡¶ú‡¶æ‡¶Æ‡¶æ‡¶≤‡¶™‡ßÅ‡¶∞': ['jamalpur', '‡¶ú‡¶æ‡¶Æ‡¶æ‡¶≤‡¶™‡ßÅ‡¶∞'],
            '‡¶®‡ßá‡¶§‡ßç‡¶∞‡¶ï‡ßã‡¶®‡¶æ': ['netrokona', '‡¶®‡ßá‡¶§‡ßç‡¶∞‡¶ï‡ßã‡¶®‡¶æ'],
            '‡¶∂‡ßá‡¶∞‡¶™‡ßÅ‡¶∞': ['sherpur', '‡¶∂‡ßá‡¶∞‡¶™‡ßÅ‡¶∞'],
            '‡¶ï‡¶ø‡¶∂‡ßã‡¶∞‡¶ó‡¶û‡ßç‡¶ú': ['kishoreganj', '‡¶ï‡¶ø‡¶∂‡ßã‡¶∞‡¶ó‡¶û‡ßç‡¶ú'],
            '‡¶Æ‡¶æ‡¶®‡¶ø‡¶ï‡¶ó‡¶û‡ßç‡¶ú': ['manikganj', '‡¶Æ‡¶æ‡¶®‡¶ø‡¶ï‡¶ó‡¶û‡ßç‡¶ú'],
            '‡¶Æ‡ßÅ‡¶®‡ßç‡¶∂‡¶ø‡¶ó‡¶û‡ßç‡¶ú': ['munshiganj', '‡¶Æ‡ßÅ‡¶®‡ßç‡¶∂‡¶ø‡¶ó‡¶û‡ßç‡¶ú'],
            '‡¶®‡¶∞‡¶∏‡¶ø‡¶Ç‡¶¶‡ßÄ': ['narsingdi', '‡¶®‡¶∞‡¶∏‡¶ø‡¶Ç‡¶¶‡ßÄ'],
            '‡¶ó‡ßã‡¶™‡¶æ‡¶≤‡¶ó‡¶û‡ßç‡¶ú': ['gopalganj', '‡¶ó‡ßã‡¶™‡¶æ‡¶≤‡¶ó‡¶û‡ßç‡¶ú'],
            '‡¶Æ‡¶æ‡¶¶‡¶æ‡¶∞‡ßÄ‡¶™‡ßÅ‡¶∞': ['madaripur', '‡¶Æ‡¶æ‡¶¶‡¶æ‡¶∞‡ßÄ‡¶™‡ßÅ‡¶∞'],
            '‡¶∂‡¶∞‡ßÄ‡¶Ø‡¶º‡¶§‡¶™‡ßÅ‡¶∞': ['shariatpur', '‡¶∂‡¶∞‡ßÄ‡¶Ø‡¶º‡¶§‡¶™‡ßÅ‡¶∞'],
            '‡¶∞‡¶æ‡¶ú‡¶¨‡¶æ‡¶°‡¶º‡ßÄ': ['rajbari', '‡¶∞‡¶æ‡¶ú‡¶¨‡¶æ‡¶°‡¶º‡ßÄ']
        };

        // Sample house data with more locations
        const houses = {
            '‡¶ß‡¶æ‡¶®‡¶Æ‡¶®‡ßç‡¶°‡¶ø': [
                {
                    id: 'dh1',
                    title: '‡¶Ü‡¶ß‡ßÅ‡¶®‡¶ø‡¶ï ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡¶æ‡¶∞‡ßç‡¶ü‡¶Æ‡ßá‡¶®‡ßç‡¶ü',
                    area: '‡¶ß‡¶æ‡¶®‡¶Æ‡¶®‡ßç‡¶°‡¶ø',
                    district: '‡¶¢‡¶æ‡¶ï‡¶æ',
                    division: '‡¶¢‡¶æ‡¶ï‡¶æ',
                    type: 'apartment',
                    price: 25000,
                    bedrooms: 3,
                    bathrooms: 2,
                    size: 1200,
                    icon: 'üè¢',
                    features: ['‡¶≤‡¶ø‡¶´‡¶ü', '‡¶™‡¶æ‡¶∞‡ßç‡¶ï‡¶ø‡¶Ç', '‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶ü‡¶∞', '‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶§‡ßç‡¶§‡¶æ'],
                    images: [
                        { url: 'https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800', alt: '‡¶≤‡¶ø‡¶≠‡¶ø‡¶Ç ‡¶∞‡ßÅ‡¶Æ' },
                        { url: 'https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=800', alt: '‡¶¨‡ßá‡¶°‡¶∞‡ßÅ‡¶Æ' },
                        { url: 'https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=800', alt: '‡¶ï‡¶ø‡¶ö‡ßá‡¶®' },
                        { url: 'https://images.unsplash.com/photo-1552321554-5fefe8c9ef14?w=800', alt: '‡¶¨‡¶æ‡¶•‡¶∞‡ßÅ‡¶Æ' },
                        { url: 'https://images.unsplash.com/photo-1493809842364-78817add7ffb?w=800', alt: '‡¶¨‡¶æ‡¶≤‡¶ï‡¶®‡¶ø' }
                    ],
                    videoUrl: 'https://drive.google.com/file/d/1234567890abcdef/preview',
                    address: {
                        houseNumber: '‡ßß‡ß®‡ß´/‡¶è',
                        roadNumber: '‡¶∞‡ßã‡¶° ‡¶®‡¶Ç ‡ß®‡ß≠',
                        sector: '‡¶ß‡¶æ‡¶®‡¶Æ‡¶®‡ßç‡¶°‡¶ø ‡¶Ü‡¶¨‡¶æ‡¶∏‡¶ø‡¶ï ‡¶è‡¶≤‡¶æ‡¶ï‡¶æ',
                        fullAddress: '‡¶¨‡¶æ‡¶°‡¶º‡¶ø ‡¶®‡¶Ç ‡ßß‡ß®‡ß´/‡¶è, ‡¶∞‡ßã‡¶° ‡¶®‡¶Ç ‡ß®‡ß≠, ‡¶ß‡¶æ‡¶®‡¶Æ‡¶®‡ßç‡¶°‡¶ø ‡¶Ü‡¶¨‡¶æ‡¶∏‡¶ø‡¶ï ‡¶è‡¶≤‡¶æ‡¶ï‡¶æ, ‡¶¢‡¶æ‡¶ï‡¶æ-‡ßß‡ß®‡ß¶‡ß´',
                        googleMapsLink: 'https://maps.google.com/?q=23.7461,90.3742'
                    }
                },
                {
                    id: 'dh2',
                    title: '‡¶∏‡ßÅ‡¶®‡ßç‡¶¶‡¶∞ ‡¶´‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ü',
                    area: '‡¶ß‡¶æ‡¶®‡¶Æ‡¶®‡ßç‡¶°‡¶ø',
                    district: '‡¶¢‡¶æ‡¶ï‡¶æ',
                    division: '‡¶¢‡¶æ‡¶ï‡¶æ',
                    type: 'flat',
                    price: 30000,
                    bedrooms: 2,
                    bathrooms: 2,
                    size: 1000,
                    icon: 'üèòÔ∏è',
                    features: ['‡¶¨‡¶æ‡¶≤‡¶ï‡¶®‡¶ø', '‡¶Æ‡¶°‡¶æ‡¶∞‡ßç‡¶® ‡¶ï‡¶ø‡¶ö‡ßá‡¶®', '‡¶è‡¶∏‡¶ø', '‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶®‡ßá‡¶ü'],
                    images: [
                        { url: 'https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=800', alt: '‡¶Æ‡ßÇ‡¶≤ ‡¶ï‡¶ï‡ßç‡¶∑' },
                        { url: 'https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=800', alt: '‡¶∂‡ßã‡¶¨‡¶æ‡¶∞ ‡¶ò‡¶∞' },
                        { url: 'https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=800', alt: '‡¶∞‡¶æ‡¶®‡ßç‡¶®‡¶æ‡¶ò‡¶∞' },
                        { url: 'https://images.unsplash.com/photo-1507089947368-19c1da9775ae?w=800', alt: '‡¶°‡¶æ‡¶á‡¶®‡¶ø‡¶Ç ‡¶è‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ' }
                    ],
                    videoUrl: 'https://drive.google.com/file/d/abcdef1234567890/preview',
                    address: {
                        houseNumber: '‡ßÆ‡ßØ/‡¶¨‡¶ø',
                        roadNumber: '‡¶∞‡ßã‡¶° ‡¶®‡¶Ç ‡ßß‡ß´',
                        sector: '‡¶ß‡¶æ‡¶®‡¶Æ‡¶®‡ßç‡¶°‡¶ø',
                        fullAddress: '‡¶¨‡¶æ‡¶°‡¶º‡¶ø ‡¶®‡¶Ç ‡ßÆ‡ßØ/‡¶¨‡¶ø, ‡¶∞‡ßã‡¶° ‡¶®‡¶Ç ‡ßß‡ß´, ‡¶ß‡¶æ‡¶®‡¶Æ‡¶®‡ßç‡¶°‡¶ø, ‡¶¢‡¶æ‡¶ï‡¶æ-‡ßß‡ß®‡ß¶‡ß´',
                        googleMapsLink: 'https://maps.google.com/?q=23.7465,90.3758'
                    }
                }
            ],
            '‡¶â‡¶§‡ßç‡¶§‡¶∞‡¶æ': [
                {
                    id: 'ut1',
                    title: '‡¶™‡¶æ‡¶∞‡¶ø‡¶¨‡¶æ‡¶∞‡¶ø‡¶ï ‡¶¨‡¶æ‡¶°‡¶º‡¶ø',
                    area: '‡¶â‡¶§‡ßç‡¶§‡¶∞‡¶æ',
                    district: '‡¶¢‡¶æ‡¶ï‡¶æ',
                    division: '‡¶¢‡¶æ‡¶ï‡¶æ',
                    type: 'house',
                    price: 35000,
                    bedrooms: 4,
                    bathrooms: 3,
                    size: 1800,
                    icon: 'üè†',
                    features: ['‡¶ó‡ßç‡¶Ø‡¶æ‡¶∞‡ßá‡¶ú', '‡¶¨‡¶æ‡¶ó‡¶æ‡¶®', '‡¶õ‡¶æ‡¶¶', '‡¶ó‡ßá‡¶∏‡ßç‡¶ü ‡¶∞‡ßÅ‡¶Æ'],
                    address: {
                        houseNumber: '‡ß™‡ß´/‡¶∏‡¶ø',
                        roadNumber: '‡¶∞‡ßã‡¶° ‡¶®‡¶Ç ‡ßß‡ß®',
                        sector: '‡¶∏‡ßá‡¶ï‡ßç‡¶ü‡¶∞ ‡ß≠',
                        fullAddress: '‡¶¨‡¶æ‡¶°‡¶º‡¶ø ‡¶®‡¶Ç ‡ß™‡ß´/‡¶∏‡¶ø, ‡¶∞‡ßã‡¶° ‡¶®‡¶Ç ‡ßß‡ß®, ‡¶∏‡ßá‡¶ï‡ßç‡¶ü‡¶∞ ‡ß≠, ‡¶â‡¶§‡ßç‡¶§‡¶∞‡¶æ, ‡¶¢‡¶æ‡¶ï‡¶æ-‡ßß‡ß®‡ß©‡ß¶',
                        googleMapsLink: 'https://maps.google.com/?q=23.8759,90.3795'
                    }
                },
                {
                    id: 'ut2',
                    title: '‡¶Æ‡¶°‡¶æ‡¶∞‡ßç‡¶® ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡¶æ‡¶∞‡ßç‡¶ü‡¶Æ‡ßá‡¶®‡ßç‡¶ü',
                    area: '‡¶â‡¶§‡ßç‡¶§‡¶∞‡¶æ',
                    district: '‡¶¢‡¶æ‡¶ï‡¶æ',
                    division: '‡¶¢‡¶æ‡¶ï‡¶æ',
                    type: 'apartment',
                    price: 28000,
                    bedrooms: 3,
                    bathrooms: 2,
                    size: 1300,
                    icon: 'üè¢',
                    features: ['‡¶≤‡¶ø‡¶´‡¶ü', '‡¶ú‡¶ø‡¶Æ', '‡¶™‡¶æ‡¶∞‡ßç‡¶ï‡¶ø‡¶Ç', '‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶§‡ßç‡¶§‡¶æ'],
                    address: {
                        houseNumber: '‡ß≠‡ßÆ/‡¶°‡¶ø',
                        roadNumber: '‡¶∞‡ßã‡¶° ‡¶®‡¶Ç ‡ß´',
                        sector: '‡¶∏‡ßá‡¶ï‡ßç‡¶ü‡¶∞ ‡ß™',
                        fullAddress: '‡¶¨‡¶æ‡¶°‡¶º‡¶ø ‡¶®‡¶Ç ‡ß≠‡ßÆ/‡¶°‡¶ø, ‡¶∞‡ßã‡¶° ‡¶®‡¶Ç ‡ß´, ‡¶∏‡ßá‡¶ï‡ßç‡¶ü‡¶∞ ‡ß™, ‡¶â‡¶§‡ßç‡¶§‡¶∞‡¶æ, ‡¶¢‡¶æ‡¶ï‡¶æ-‡ßß‡ß®‡ß©‡ß¶',
                        googleMapsLink: 'https://maps.google.com/?q=23.8741,90.3812'
                    }
                }
            ],
            '‡¶ó‡ßÅ‡¶≤‡¶∂‡¶æ‡¶®': [
                {
                    id: 'gs1',
                    title: '‡¶≤‡¶æ‡¶ï‡ßç‡¶∏‡¶æ‡¶∞‡¶ø ‡¶´‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ü',
                    area: '‡¶ó‡ßÅ‡¶≤‡¶∂‡¶æ‡¶®',
                    district: '‡¶¢‡¶æ‡¶ï‡¶æ',
                    division: '‡¶¢‡¶æ‡¶ï‡¶æ',
                    type: 'flat',
                    price: 45000,
                    bedrooms: 3,
                    bathrooms: 2,
                    size: 1500,
                    icon: 'üèòÔ∏è',
                    features: ['‡¶∏‡ßÅ‡¶á‡¶Æ‡¶ø‡¶Ç ‡¶™‡ßÅ‡¶≤', '‡¶ú‡¶ø‡¶Æ', '‡¶ï‡¶Æ‡¶ø‡¶â‡¶®‡¶ø‡¶ü‡¶ø ‡¶π‡¶≤', '‡¶∏‡¶ø‡¶ï‡¶ø‡¶â‡¶∞‡¶ø‡¶ü‡¶ø'],
                    address: {
                        houseNumber: '‡ß©‡ß®/‡¶è',
                        roadNumber: '‡¶∞‡ßã‡¶° ‡¶®‡¶Ç ‡ßß‡ßß‡ßß',
                        sector: '‡¶ó‡ßÅ‡¶≤‡¶∂‡¶æ‡¶®-‡ß®',
                        fullAddress: '‡¶¨‡¶æ‡¶°‡¶º‡¶ø ‡¶®‡¶Ç ‡ß©‡ß®/‡¶è, ‡¶∞‡ßã‡¶° ‡¶®‡¶Ç ‡ßß‡ßß‡ßß, ‡¶ó‡ßÅ‡¶≤‡¶∂‡¶æ‡¶®-‡ß®, ‡¶¢‡¶æ‡¶ï‡¶æ-‡ßß‡ß®‡ßß‡ß®',
                        googleMapsLink: 'https://maps.google.com/?q=23.7925,90.4078'
                    }
                }
            ],
            '‡¶Æ‡¶ø‡¶∞‡¶™‡ßÅ‡¶∞': [
                {
                    id: 'mp1',
                    title: '‡¶∏‡¶æ‡¶∂‡ßç‡¶∞‡¶Ø‡¶º‡ßÄ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡¶æ‡¶∞‡ßç‡¶ü‡¶Æ‡ßá‡¶®‡ßç‡¶ü',
                    area: '‡¶Æ‡¶ø‡¶∞‡¶™‡ßÅ‡¶∞',
                    district: '‡¶¢‡¶æ‡¶ï‡¶æ',
                    division: '‡¶¢‡¶æ‡¶ï‡¶æ',
                    type: 'apartment',
                    price: 18000,
                    bedrooms: 2,
                    bathrooms: 1,
                    size: 900,
                    icon: 'üè¢',
                    features: ['‡¶™‡¶æ‡¶∞‡ßç‡¶ï‡¶ø‡¶Ç', '‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶§‡ßç‡¶§‡¶æ', '‡¶ó‡ßç‡¶Ø‡¶æ‡¶∏ ‡¶≤‡¶æ‡¶á‡¶®'],
                    address: {
                        houseNumber: '‡ßß‡ß´‡ß¨/‡¶¨‡¶ø',
                        roadNumber: '‡¶∞‡ßã‡¶° ‡¶®‡¶Ç ‡ßÆ',
                        sector: '‡¶Æ‡¶ø‡¶∞‡¶™‡ßÅ‡¶∞-‡ßß‡ß¶',
                        fullAddress: '‡¶¨‡¶æ‡¶°‡¶º‡¶ø ‡¶®‡¶Ç ‡ßß‡ß´‡ß¨/‡¶¨‡¶ø, ‡¶∞‡ßã‡¶° ‡¶®‡¶Ç ‡ßÆ, ‡¶Æ‡¶ø‡¶∞‡¶™‡ßÅ‡¶∞-‡ßß‡ß¶, ‡¶¢‡¶æ‡¶ï‡¶æ-‡ßß‡ß®‡ßß‡ß¨',
                        googleMapsLink: 'https://maps.google.com/?q=23.8067,90.3685'
                    }
                }
            ],
            '‡¶¨‡¶®‡¶æ‡¶®‡ßÄ': [
                {
                    id: 'bn1',
                    title: '‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶´‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ü',
                    area: '‡¶¨‡¶®‡¶æ‡¶®‡ßÄ',
                    district: '‡¶¢‡¶æ‡¶ï‡¶æ',
                    division: '‡¶¢‡¶æ‡¶ï‡¶æ',
                    type: 'flat',
                    price: 50000,
                    bedrooms: 4,
                    bathrooms: 3,
                    size: 1800,
                    icon: 'üèòÔ∏è',
                    features: ['‡¶∏‡ßÅ‡¶á‡¶Æ‡¶ø‡¶Ç ‡¶™‡ßÅ‡¶≤', '‡¶ú‡¶ø‡¶Æ', '‡¶ï‡¶®‡¶∏‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶ú', '‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶ü ‡¶™‡¶æ‡¶∞‡ßç‡¶ï‡¶ø‡¶Ç'],
                    address: {
                        houseNumber: '‡ß¨‡ß≠/‡¶∏‡¶ø',
                        roadNumber: '‡¶∞‡ßã‡¶° ‡¶®‡¶Ç ‡ßß‡ß≠',
                        sector: '‡¶¨‡¶®‡¶æ‡¶®‡ßÄ',
                        fullAddress: '‡¶¨‡¶æ‡¶°‡¶º‡¶ø ‡¶®‡¶Ç ‡ß¨‡ß≠/‡¶∏‡¶ø, ‡¶∞‡ßã‡¶° ‡¶®‡¶Ç ‡ßß‡ß≠, ‡¶¨‡¶®‡¶æ‡¶®‡ßÄ, ‡¶¢‡¶æ‡¶ï‡¶æ-‡ßß‡ß®‡ßß‡ß©',
                        googleMapsLink: 'https://maps.google.com/?q=23.7936,90.4067'
                    }
                }
            ],
            '‡¶Ü‡¶ó‡ßç‡¶∞‡¶æ‡¶¨‡¶æ‡¶¶': [
                {
                    id: 'ag1',
                    title: '‡¶∏‡¶Æ‡ßÅ‡¶¶‡ßç‡¶∞ ‡¶¶‡ßÉ‡¶∂‡ßç‡¶Ø ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡¶æ‡¶∞‡ßç‡¶ü‡¶Æ‡ßá‡¶®‡ßç‡¶ü',
                    area: '‡¶Ü‡¶ó‡ßç‡¶∞‡¶æ‡¶¨‡¶æ‡¶¶',
                    district: '‡¶ö‡¶ü‡ßç‡¶ü‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ',
                    division: '‡¶ö‡¶ü‡ßç‡¶ü‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ',
                    type: 'apartment',
                    price: 22000,
                    bedrooms: 2,
                    bathrooms: 2,
                    size: 1100,
                    icon: 'üåä',
                    features: ['‡¶∏‡¶Æ‡ßÅ‡¶¶‡ßç‡¶∞ ‡¶¶‡ßÉ‡¶∂‡ßç‡¶Ø', '‡¶¨‡¶æ‡¶≤‡¶ï‡¶®‡¶ø', '‡¶™‡¶æ‡¶∞‡ßç‡¶ï‡¶ø‡¶Ç', '‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶§‡ßç‡¶§‡¶æ'],
                    address: {
                        houseNumber: '‡ß®‡ß©‡ß™/‡¶è',
                        roadNumber: '‡¶Ü‡¶ó‡ßç‡¶∞‡¶æ‡¶¨‡¶æ‡¶¶ ‡¶∏‡¶ø/‡¶è',
                        sector: '‡¶Ü‡¶ó‡ßç‡¶∞‡¶æ‡¶¨‡¶æ‡¶¶ ‡¶ï‡¶Æ‡¶æ‡¶∞‡ßç‡¶∂‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶è‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ',
                        fullAddress: '‡¶¨‡¶æ‡¶°‡¶º‡¶ø ‡¶®‡¶Ç ‡ß®‡ß©‡ß™/‡¶è, ‡¶Ü‡¶ó‡ßç‡¶∞‡¶æ‡¶¨‡¶æ‡¶¶ ‡¶∏‡¶ø/‡¶è, ‡¶ö‡¶ü‡ßç‡¶ü‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ-‡ß™‡ßß‡ß¶‡ß¶',
                        googleMapsLink: 'https://maps.google.com/?q=22.3569,91.7832'
                    }
                }
            ],
            '‡¶®‡¶æ‡¶∏‡¶ø‡¶∞‡¶æ‡¶¨‡¶æ‡¶¶': [
                {
                    id: 'ns1',
                    title: '‡¶ï‡¶Æ‡¶æ‡¶∞‡ßç‡¶∂‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶è‡¶≤‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶´‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ü',
                    area: '‡¶®‡¶æ‡¶∏‡¶ø‡¶∞‡¶æ‡¶¨‡¶æ‡¶¶',
                    district: '‡¶ö‡¶ü‡ßç‡¶ü‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ',
                    division: '‡¶ö‡¶ü‡ßç‡¶ü‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ',
                    type: 'flat',
                    price: 20000,
                    bedrooms: 3,
                    bathrooms: 2,
                    size: 1200,
                    icon: 'üèòÔ∏è',
                    features: ['‡¶ï‡ßá‡¶®‡ßç‡¶¶‡ßç‡¶∞‡ßÄ‡¶Ø‡¶º ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶®', '‡¶∂‡¶™‡¶ø‡¶Ç ‡¶Æ‡¶≤ ‡¶ï‡¶æ‡¶õ‡ßá', '‡¶™‡¶æ‡¶∞‡ßç‡¶ï‡¶ø‡¶Ç'],
                    address: {
                        houseNumber: '‡ßß‡ßÆ‡ßØ/‡¶¨‡¶ø',
                        roadNumber: '‡¶®‡¶æ‡¶∏‡¶ø‡¶∞‡¶æ‡¶¨‡¶æ‡¶¶ ‡¶∞‡ßã‡¶°',
                        sector: '‡¶®‡¶æ‡¶∏‡¶ø‡¶∞‡¶æ‡¶¨‡¶æ‡¶¶ ‡¶Ü‡¶¨‡¶æ‡¶∏‡¶ø‡¶ï ‡¶è‡¶≤‡¶æ‡¶ï‡¶æ',
                        fullAddress: '‡¶¨‡¶æ‡¶°‡¶º‡¶ø ‡¶®‡¶Ç ‡ßß‡ßÆ‡ßØ/‡¶¨‡¶ø, ‡¶®‡¶æ‡¶∏‡¶ø‡¶∞‡¶æ‡¶¨‡¶æ‡¶¶ ‡¶∞‡ßã‡¶°, ‡¶ö‡¶ü‡ßç‡¶ü‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ-‡ß™‡ß®‡ß¶‡ß©',
                        googleMapsLink: 'https://maps.google.com/?q=22.3475,91.7854'
                    }
                }
            ],
            '‡¶∏‡¶ø‡¶≤‡ßá‡¶ü': [
                {
                    id: 'sy1',
                    title: '‡¶ö‡¶æ ‡¶¨‡¶æ‡¶ó‡¶æ‡¶®‡ßá‡¶∞ ‡¶¶‡ßÉ‡¶∂‡ßç‡¶Ø ‡¶¨‡¶æ‡¶°‡¶º‡¶ø',
                    area: '‡¶∏‡¶ø‡¶≤‡ßá‡¶ü',
                    district: '‡¶∏‡¶ø‡¶≤‡ßá‡¶ü',
                    division: '‡¶∏‡¶ø‡¶≤‡ßá‡¶ü',
                    type: 'house',
                    price: 25000,
                    bedrooms: 3,
                    bathrooms: 2,
                    size: 1400,
                    icon: 'üè†',
                    features: ['‡¶™‡ßç‡¶∞‡¶æ‡¶ï‡ßÉ‡¶§‡¶ø‡¶ï ‡¶¶‡ßÉ‡¶∂‡ßç‡¶Ø', '‡¶¨‡¶æ‡¶ó‡¶æ‡¶®', '‡¶∂‡¶æ‡¶®‡ßç‡¶§ ‡¶™‡¶∞‡¶ø‡¶¨‡ßá‡¶∂', '‡¶™‡¶æ‡¶∞‡ßç‡¶ï‡¶ø‡¶Ç'],
                    address: {
                        houseNumber: '‡ßØ‡ßÆ/‡¶∏‡¶ø',
                        roadNumber: '‡¶ú‡¶ø‡¶®‡ßç‡¶¶‡¶æ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞ ‡¶∞‡ßã‡¶°',
                        sector: '‡¶ú‡¶ø‡¶®‡ßç‡¶¶‡¶æ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞',
                        fullAddress: '‡¶¨‡¶æ‡¶°‡¶º‡¶ø ‡¶®‡¶Ç ‡ßØ‡ßÆ/‡¶∏‡¶ø, ‡¶ú‡¶ø‡¶®‡ßç‡¶¶‡¶æ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞ ‡¶∞‡ßã‡¶°, ‡¶∏‡¶ø‡¶≤‡ßá‡¶ü-‡ß©‡ßß‡ß¶‡ß¶',
                        googleMapsLink: 'https://maps.google.com/?q=24.8949,91.8687'
                    }
                }
            ],
            '‡¶∞‡¶æ‡¶ú‡¶∂‡¶æ‡¶π‡ßÄ': [
                {
                    id: 'rj1',
                    title: '‡¶ê‡¶§‡¶ø‡¶π‡¶æ‡¶∏‡¶ø‡¶ï ‡¶è‡¶≤‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶°‡¶º‡¶ø',
                    area: '‡¶∞‡¶æ‡¶ú‡¶∂‡¶æ‡¶π‡ßÄ',
                    district: '‡¶∞‡¶æ‡¶ú‡¶∂‡¶æ‡¶π‡ßÄ',
                    division: '‡¶∞‡¶æ‡¶ú‡¶∂‡¶æ‡¶π‡ßÄ',
                    type: 'house',
                    price: 20000,
                    bedrooms: 4,
                    bathrooms: 2,
                    size: 1600,
                    icon: 'üè†',
                    features: ['‡¶™‡ßç‡¶∞‡¶∂‡¶∏‡ßç‡¶§ ‡¶ï‡¶ï‡ßç‡¶∑', '‡¶ê‡¶§‡¶ø‡¶π‡ßç‡¶Ø‡¶¨‡¶æ‡¶π‡ßÄ ‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶§‡ßç‡¶Ø', '‡¶¨‡¶æ‡¶ó‡¶æ‡¶®', '‡¶ó‡ßç‡¶Ø‡¶æ‡¶∞‡ßá‡¶ú'],
                    address: {
                        houseNumber: '‡ß´‡ß¨/‡¶è',
                        roadNumber: '‡¶∂‡¶æ‡¶π‡¶Æ‡¶ñ‡¶¶‡ßÅ‡¶Æ ‡¶∞‡ßã‡¶°',
                        sector: '‡¶∂‡¶æ‡¶π‡¶Æ‡¶ñ‡¶¶‡ßÅ‡¶Æ',
                        fullAddress: '‡¶¨‡¶æ‡¶°‡¶º‡¶ø ‡¶®‡¶Ç ‡ß´‡ß¨/‡¶è, ‡¶∂‡¶æ‡¶π‡¶Æ‡¶ñ‡¶¶‡ßÅ‡¶Æ ‡¶∞‡ßã‡¶°, ‡¶∞‡¶æ‡¶ú‡¶∂‡¶æ‡¶π‡ßÄ-‡ß¨‡ß¶‡ß¶‡ß¶',
                        googleMapsLink: 'https://maps.google.com/?q=24.3745,88.6042'
                    }
                }
            ],
            '‡¶ñ‡ßÅ‡¶≤‡¶®‡¶æ': [
                {
                    id: 'kh1',
                    title: '‡¶®‡¶¶‡ßÄ‡¶∞ ‡¶™‡¶æ‡¶°‡¶º‡ßá‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡¶æ‡¶∞‡ßç‡¶ü‡¶Æ‡ßá‡¶®‡ßç‡¶ü',
                    area: '‡¶ñ‡ßÅ‡¶≤‡¶®‡¶æ',
                    district: '‡¶ñ‡ßÅ‡¶≤‡¶®‡¶æ',
                    division: '‡¶ñ‡ßÅ‡¶≤‡¶®‡¶æ',
                    type: 'apartment',
                    price: 18000,
                    bedrooms: 2,
                    bathrooms: 2,
                    size: 1000,
                    icon: 'üè¢',
                    features: ['‡¶®‡¶¶‡ßÄ‡¶∞ ‡¶¶‡ßÉ‡¶∂‡ßç‡¶Ø', '‡¶∂‡¶æ‡¶®‡ßç‡¶§ ‡¶™‡¶∞‡¶ø‡¶¨‡ßá‡¶∂', '‡¶™‡¶æ‡¶∞‡ßç‡¶ï‡¶ø‡¶Ç', '‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶§‡ßç‡¶§‡¶æ'],
                    address: {
                        houseNumber: '‡ßß‡ß®‡ß©/‡¶°‡¶ø',
                        roadNumber: '‡¶∞‡ßÇ‡¶™‡¶∏‡¶æ ‡¶∞‡ßã‡¶°',
                        sector: '‡¶ñ‡¶æ‡¶≤‡¶ø‡¶∂‡¶™‡ßÅ‡¶∞',
                        fullAddress: '‡¶¨‡¶æ‡¶°‡¶º‡¶ø ‡¶®‡¶Ç ‡ßß‡ß®‡ß©/‡¶°‡¶ø, ‡¶∞‡ßÇ‡¶™‡¶∏‡¶æ ‡¶∞‡ßã‡¶°, ‡¶ñ‡¶æ‡¶≤‡¶ø‡¶∂‡¶™‡ßÅ‡¶∞, ‡¶ñ‡ßÅ‡¶≤‡¶®‡¶æ-‡ßØ‡ß®‡ß¶‡ß¶',
                        googleMapsLink: 'https://maps.google.com/?q=22.8456,89.5403'
                    }
                }
            ],
            '‡¶¨‡¶∞‡¶ø‡¶∂‡¶æ‡¶≤': [
                {
                    id: 'br1',
                    title: '‡¶®‡ßå‡¶ï‡¶æ ‡¶ò‡¶æ‡¶ü‡ßá‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶¨‡¶æ‡¶°‡¶º‡¶ø',
                    area: '‡¶¨‡¶∞‡¶ø‡¶∂‡¶æ‡¶≤',
                    district: '‡¶¨‡¶∞‡¶ø‡¶∂‡¶æ‡¶≤',
                    division: '‡¶¨‡¶∞‡¶ø‡¶∂‡¶æ‡¶≤',
                    type: 'house',
                    price: 15000,
                    bedrooms: 3,
                    bathrooms: 2,
                    size: 1200,
                    icon: 'üè†',
                    features: ['‡¶®‡¶¶‡ßÄ‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá', '‡¶ê‡¶§‡¶ø‡¶π‡ßç‡¶Ø‡¶¨‡¶æ‡¶π‡ßÄ', '‡¶¨‡¶æ‡¶ó‡¶æ‡¶®', '‡¶∂‡¶æ‡¶®‡ßç‡¶§'],
                    address: {
                        houseNumber: '‡ß≠‡ßÆ/‡¶¨‡¶ø',
                        roadNumber: '‡¶®‡¶•‡ßÅ‡¶≤‡ßç‡¶≤‡¶æ‡¶¨‡¶æ‡¶¶ ‡¶∞‡ßã‡¶°',
                        sector: '‡¶®‡¶•‡ßÅ‡¶≤‡ßç‡¶≤‡¶æ‡¶¨‡¶æ‡¶¶',
                        fullAddress: '‡¶¨‡¶æ‡¶°‡¶º‡¶ø ‡¶®‡¶Ç ‡ß≠‡ßÆ/‡¶¨‡¶ø, ‡¶®‡¶•‡ßÅ‡¶≤‡ßç‡¶≤‡¶æ‡¶¨‡¶æ‡¶¶ ‡¶∞‡ßã‡¶°, ‡¶¨‡¶∞‡¶ø‡¶∂‡¶æ‡¶≤-‡ßÆ‡ß®‡ß¶‡ß¶',
                        googleMapsLink: 'https://maps.google.com/?q=22.7010,90.3535'
                    }
                }
            ],
            '‡¶∞‡¶Ç‡¶™‡ßÅ‡¶∞': [
                {
                    id: 'rp1',
                    title: '‡¶â‡¶§‡ßç‡¶§‡¶∞‡¶æ‡¶û‡ßç‡¶ö‡¶≤‡ßá‡¶∞ ‡¶Ü‡¶ß‡ßÅ‡¶®‡¶ø‡¶ï ‡¶´‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ü',
                    area: '‡¶∞‡¶Ç‡¶™‡ßÅ‡¶∞',
                    district: '‡¶∞‡¶Ç‡¶™‡ßÅ‡¶∞',
                    division: '‡¶∞‡¶Ç‡¶™‡ßÅ‡¶∞',
                    type: 'flat',
                    price: 16000,
                    bedrooms: 2,
                    bathrooms: 2,
                    size: 950,
                    icon: 'üèòÔ∏è',
                    features: ['‡¶Ü‡¶ß‡ßÅ‡¶®‡¶ø‡¶ï ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ', '‡¶ï‡ßá‡¶®‡ßç‡¶¶‡ßç‡¶∞‡ßÄ‡¶Ø‡¶º ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶®', '‡¶™‡¶æ‡¶∞‡ßç‡¶ï‡¶ø‡¶Ç'],
                    address: {
                        houseNumber: '‡ß™‡ß´/‡¶è',
                        roadNumber: '‡¶∏‡ßç‡¶ü‡ßá‡¶∂‡¶® ‡¶∞‡ßã‡¶°',
                        sector: '‡¶∞‡¶Ç‡¶™‡ßÅ‡¶∞ ‡¶∏‡¶¶‡¶∞',
                        fullAddress: '‡¶¨‡¶æ‡¶°‡¶º‡¶ø ‡¶®‡¶Ç ‡ß™‡ß´/‡¶è, ‡¶∏‡ßç‡¶ü‡ßá‡¶∂‡¶® ‡¶∞‡ßã‡¶°, ‡¶∞‡¶Ç‡¶™‡ßÅ‡¶∞-‡ß´‡ß™‡ß¶‡ß¶',
                        googleMapsLink: 'https://maps.google.com/?q=25.7439,89.2752'
                    }
                }
            ],
            '‡¶Æ‡¶Ø‡¶º‡¶Æ‡¶®‡¶∏‡¶ø‡¶Ç‡¶π': [
                {
                    id: 'my1',
                    title: '‡¶ï‡ßÉ‡¶∑‡¶ø ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶æ‡¶≤‡¶Ø‡¶º‡ßá‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶¨‡¶æ‡¶°‡¶º‡¶ø',
                    area: '‡¶Æ‡¶Ø‡¶º‡¶Æ‡¶®‡¶∏‡¶ø‡¶Ç‡¶π',
                    district: '‡¶Æ‡¶Ø‡¶º‡¶Æ‡¶®‡¶∏‡¶ø‡¶Ç‡¶π',
                    division: '‡¶Æ‡¶Ø‡¶º‡¶Æ‡¶®‡¶∏‡¶ø‡¶Ç‡¶π',
                    type: 'house',
                    price: 17000,
                    bedrooms: 3,
                    bathrooms: 2,
                    size: 1300,
                    icon: 'üè†',
                    features: ['‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∑‡ßç‡¶†‡¶æ‡¶®‡ßá‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá', '‡¶∂‡¶æ‡¶®‡ßç‡¶§ ‡¶™‡¶∞‡¶ø‡¶¨‡ßá‡¶∂', '‡¶¨‡¶æ‡¶ó‡¶æ‡¶®'],
                    address: {
                        houseNumber: '‡ß¨‡ß≠/‡¶∏‡¶ø',
                        roadNumber: '‡¶¨‡¶æ‡¶â ‡¶∞‡ßã‡¶°',
                        sector: '‡¶ï‡ßÉ‡¶∑‡¶ø ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶æ‡¶≤‡¶Ø‡¶º ‡¶è‡¶≤‡¶æ‡¶ï‡¶æ',
                        fullAddress: '‡¶¨‡¶æ‡¶°‡¶º‡¶ø ‡¶®‡¶Ç ‡ß¨‡ß≠/‡¶∏‡¶ø, ‡¶¨‡¶æ‡¶â ‡¶∞‡ßã‡¶°, ‡¶Æ‡¶Ø‡¶º‡¶Æ‡¶®‡¶∏‡¶ø‡¶Ç‡¶π-‡ß®‡ß®‡ß¶‡ß®',
                        googleMapsLink: 'https://maps.google.com/?q=24.7471,90.4203'
                    }
                }
            ]
        };

        function updateDistricts() {
            const divisionSelect = document.getElementById('division');
            const districtSelect = document.getElementById('district');
            const areaInput = document.getElementById('area');
            
            const selectedDivision = divisionSelect.value;
            
            // Clear district and area
            districtSelect.innerHTML = '<option value="">‡¶ú‡ßá‡¶≤‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>';
            areaInput.value = '';
            hideAreaSuggestions();
            
            if (selectedDivision && locationData[selectedDivision]) {
                const districts = locationData[selectedDivision].districts;
                for (const districtKey in districts) {
                    const option = document.createElement('option');
                    option.value = districtKey;
                    option.textContent = districts[districtKey].name;
                    districtSelect.appendChild(option);
                }
            }
        }

        function showAreaSuggestions() {
            const areaInput = document.getElementById('area');
            const suggestionsDiv = document.getElementById('areaSuggestions');
            const inputValue = areaInput.value.toLowerCase().trim();
            
            if (inputValue.length < 1) {
                hideAreaSuggestions();
                return;
            }
            
            const matchedAreas = [];
            
            // Search through area mapping
            for (const bengaliArea in areaMapping) {
                const searchTerms = areaMapping[bengaliArea];
                
                // Check if input matches any search term
                const isMatch = searchTerms.some(term => 
                    term.toLowerCase().includes(inputValue) || 
                    bengaliArea.includes(inputValue)
                );
                
                if (isMatch && matchedAreas.length < 10) {
                    matchedAreas.push(bengaliArea);
                }
            }
            
            if (matchedAreas.length > 0) {
                suggestionsDiv.innerHTML = matchedAreas.map(area => `
                    <div class="p-3 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0" onclick="selectArea('${area}')">
                        <div class="font-medium">${area}</div>
                        <div class="text-sm text-gray-500">${areaMapping[area].filter(term => term !== area).join(', ')}</div>
                    </div>
                `).join('');
                suggestionsDiv.classList.remove('hidden');
            } else {
                hideAreaSuggestions();
            }
        }
        
        function selectArea(area) {
            document.getElementById('area').value = area;
            hideAreaSuggestions();
        }
        
        function hideAreaSuggestions() {
            document.getElementById('areaSuggestions').classList.add('hidden');
        }
        
        // Hide suggestions when clicking outside
        document.addEventListener('click', function(e) {
            const areaInput = document.getElementById('area');
            const suggestionsDiv = document.getElementById('areaSuggestions');
            
            if (!areaInput.contains(e.target) && !suggestionsDiv.contains(e.target)) {
                hideAreaSuggestions();
            }
        });

        function searchHouses() {
            const division = document.getElementById('division').value;
            const district = document.getElementById('district').value;
            const areaInput = document.getElementById('area').value.trim();
            const type = document.getElementById('type').value;
            const budget = document.getElementById('budget').value;

            let results = [];
            
            // Search by area input (text)
            if (areaInput) {
                const normalizedInput = areaInput.toLowerCase();
                
                // Find matching area from mapping
                let matchedArea = null;
                for (const bengaliArea in areaMapping) {
                    const searchTerms = areaMapping[bengaliArea];
                    const isMatch = searchTerms.some(term => 
                        term.toLowerCase() === normalizedInput || 
                        bengaliArea === areaInput
                    );
                    
                    if (isMatch) {
                        matchedArea = bengaliArea;
                        break;
                    }
                }
                
                // Search in houses data
                if (matchedArea && houses[matchedArea]) {
                    results = houses[matchedArea];
                } else {
                    // Partial match search
                    for (const areaKey in houses) {
                        if (areaKey.toLowerCase().includes(normalizedInput) || 
                            areaMapping[areaKey]?.some(term => term.toLowerCase().includes(normalizedInput))) {
                            results = results.concat(houses[areaKey]);
                        }
                    }
                }
            } else if (district) {
                // Search by district
                for (const areaKey in houses) {
                    results = results.concat(houses[areaKey].filter(house => 
                        house.district && house.district.toLowerCase() === locationData[division]?.districts[district]?.name.toLowerCase()
                    ));
                }
            } else if (division) {
                // Search by division
                for (const areaKey in houses) {
                    results = results.concat(houses[areaKey].filter(house => 
                        house.division && house.division.toLowerCase() === locationData[division]?.name.toLowerCase()
                    ));
                }
            } else {
                // Show all houses if no location selected
                results = Object.values(houses).flat();
            }

            // Filter by type
            if (type) {
                results = results.filter(house => house.type === type);
            }

            // Filter by budget
            if (budget) {
                const [min, max] = budget.split('-').map(b => parseInt(b.replace('+', '')) || Infinity);
                results = results.filter(house => {
                    if (budget.includes('+')) {
                        return house.price >= min;
                    }
                    return house.price >= min && house.price <= max;
                });
            }

            displayResults(results);
        }

        function displayResults(houses) {
            const resultsSection = document.getElementById('searchResults');
            const featuredSection = document.getElementById('featuredHouses');
            const houseGrid = document.getElementById('houseGrid');

            if (houses.length === 0) {
                houseGrid.innerHTML = `
                    <div class="col-span-full text-center py-12">
                        <div class="text-6xl mb-4">üòî</div>
                        <h3 class="text-2xl font-semibold mb-2">‡¶ï‡ßã‡¶® ‡¶¨‡¶æ‡¶∏‡¶æ ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø</h3>
                        <p class="text-gray-600">‡¶Ö‡¶®‡ßç‡¶Ø ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                    </div>
                `;
            } else {
                houseGrid.innerHTML = houses.map(house => `
                    <div class="bg-white rounded-2xl shadow-lg overflow-hidden card-hover border border-gray-100">
                        <div class="relative h-40 md:h-48 overflow-hidden">
                            ${house.images && house.images.length > 0 ? `
                                <div class="image-gallery-${house.id} relative w-full h-full">
                                    ${house.images.map((image, index) => `
                                        <img src="${image.url}" alt="${image.alt}" 
                                             class="absolute inset-0 w-full h-full object-cover transition-opacity duration-500 ${index === 0 ? 'opacity-100' : 'opacity-0'}"
                                             onerror="this.style.display='none'; this.nextElementSibling?.classList.remove('opacity-0');">
                                    `).join('')}
                                    ${house.images.length > 1 ? `
                                        <div class="absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1">
                                            ${house.images.map((_, index) => `
                                                <div class="w-2 h-2 rounded-full bg-white bg-opacity-60 ${index === 0 ? 'bg-opacity-100' : ''}" data-index="${index}"></div>
                                            `).join('')}
                                        </div>
                                        <button onclick="previousImage('${house.id}')" class="absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-1 rounded-full hover:bg-opacity-70 transition-all">
                                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                                            </svg>
                                        </button>
                                        <button onclick="nextImage('${house.id}')" class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-1 rounded-full hover:bg-opacity-70 transition-all">
                                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                                            </svg>
                                        </button>
                                    ` : ''}
                                </div>
                            ` : `
                                <div class="bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center w-full h-full">
                                    <div class="text-5xl md:text-6xl">${house.icon}</div>
                                </div>
                            `}
                            <div class="absolute top-3 right-3 bg-white bg-opacity-90 text-blue-600 px-2 py-1 rounded-full text-xs font-semibold">
                                ‡¶®‡¶§‡ßÅ‡¶®
                            </div>
                        </div>
                        <div class="p-4 md:p-6">
                            <h4 class="text-lg md:text-xl font-semibold mb-2">${house.title}</h4>
                            <p class="text-gray-600 mb-3 flex items-center">
                                <span class="mr-1">üìç</span> ${house.area}, ${house.district}
                            </p>
                            <div class="bg-blue-50 rounded-lg p-3 mb-4">
                                <div class="flex items-center justify-between">
                                    <span class="text-xl md:text-2xl font-bold text-blue-600">${house.price.toLocaleString()} ‡¶ü‡¶æ‡¶ï‡¶æ</span>
                                    <span class="text-xs md:text-sm text-gray-500 bg-white px-2 py-1 rounded-full">‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶Æ‡¶æ‡¶∏‡ßá</span>
                                </div>
                            </div>
                            <div class="grid grid-cols-3 gap-2 text-xs md:text-sm text-gray-600 mb-4">
                                <div class="text-center bg-gray-50 rounded-lg py-2">
                                    <div>üõèÔ∏è</div>
                                    <div class="font-medium">${house.bedrooms} ‡¶¨‡ßá‡¶°‡¶∞‡ßÅ‡¶Æ</div>
                                </div>
                                <div class="text-center bg-gray-50 rounded-lg py-2">
                                    <div>üöø</div>
                                    <div class="font-medium">${house.bathrooms} ‡¶¨‡¶æ‡¶•‡¶∞‡ßÅ‡¶Æ</div>
                                </div>
                                <div class="text-center bg-gray-50 rounded-lg py-2">
                                    <div>üìê</div>
                                    <div class="font-medium">${house.size} ‡¶¨‡¶∞‡ßç‡¶ó‡¶´‡ßÅ‡¶ü</div>
                                </div>
                            </div>
                            <div class="flex gap-2 mb-3">
                                <button onclick="openImageGallery('${house.id}')" class="flex-1 bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white font-semibold py-2 px-3 rounded-lg transition-all transform hover:scale-105 text-sm">
                                    üì∏ ‡¶õ‡¶¨‡¶ø ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
                                </button>
                                <button onclick="toggleFavourite('${house.id}')" class="bg-gray-100 hover:bg-red-100 text-gray-600 hover:text-red-600 font-semibold py-2 px-3 rounded-lg transition-all transform hover:scale-105 flex items-center justify-center">
                                    <span id="fav-${house.id}" class="text-lg">ü§ç</span>
                                </button>
                            </div>
                            <button onclick="viewDetails('${house.id}')" class="w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-semibold py-3 px-4 rounded-xl transition-all transform hover:scale-105">
                                ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
                            </button>
                        </div>
                    </div>
                `).join('');
            }

            featuredSection.style.display = 'none';
            resultsSection.classList.remove('hidden');
        }

        function viewDetails(houseId) {
            // Find house in all areas
            let house = null;
            for (const area in houses) {
                house = houses[area].find(h => h.id === houseId);
                if (house) break;
            }

            // Default houses for featured section
            const defaultHouses = {
                house1: {
                    title: '‡¶Ü‡¶ß‡ßÅ‡¶®‡¶ø‡¶ï ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡¶æ‡¶∞‡ßç‡¶ü‡¶Æ‡ßá‡¶®‡ßç‡¶ü',
                    area: '‡¶ß‡¶æ‡¶®‡¶Æ‡¶®‡ßç‡¶°‡¶ø',
                    district: '‡¶¢‡¶æ‡¶ï‡¶æ',
                    price: 25000,
                    bedrooms: 3,
                    bathrooms: 2,
                    size: 1200,
                    features: ['‡¶≤‡¶ø‡¶´‡¶ü', '‡¶™‡¶æ‡¶∞‡ßç‡¶ï‡¶ø‡¶Ç', '‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶ü‡¶∞', '‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶§‡ßç‡¶§‡¶æ', '‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶®‡ßá‡¶ü'],
                    address: {
                        houseNumber: '‡ßß‡ß®‡ß´/‡¶è',
                        roadNumber: '‡¶∞‡ßã‡¶° ‡¶®‡¶Ç ‡ß®‡ß≠',
                        sector: '‡¶ß‡¶æ‡¶®‡¶Æ‡¶®‡ßç‡¶°‡¶ø ‡¶Ü‡¶¨‡¶æ‡¶∏‡¶ø‡¶ï ‡¶è‡¶≤‡¶æ‡¶ï‡¶æ',
                        fullAddress: '‡¶¨‡¶æ‡¶°‡¶º‡¶ø ‡¶®‡¶Ç ‡ßß‡ß®‡ß´/‡¶è, ‡¶∞‡ßã‡¶° ‡¶®‡¶Ç ‡ß®‡ß≠, ‡¶ß‡¶æ‡¶®‡¶Æ‡¶®‡ßç‡¶°‡¶ø ‡¶Ü‡¶¨‡¶æ‡¶∏‡¶ø‡¶ï ‡¶è‡¶≤‡¶æ‡¶ï‡¶æ, ‡¶¢‡¶æ‡¶ï‡¶æ-‡ßß‡ß®‡ß¶‡ß´',
                        googleMapsLink: 'https://maps.google.com/?q=23.7461,90.3742'
                    }
                },
                house2: {
                    title: '‡¶™‡¶æ‡¶∞‡¶ø‡¶¨‡¶æ‡¶∞‡¶ø‡¶ï ‡¶¨‡¶æ‡¶°‡¶º‡¶ø',
                    area: '‡¶â‡¶§‡ßç‡¶§‡¶∞‡¶æ',
                    district: '‡¶¢‡¶æ‡¶ï‡¶æ',
                    price: 35000,
                    bedrooms: 4,
                    bathrooms: 3,
                    size: 1800,
                    features: ['‡¶ó‡ßç‡¶Ø‡¶æ‡¶∞‡ßá‡¶ú', '‡¶¨‡¶æ‡¶ó‡¶æ‡¶®', '‡¶õ‡¶æ‡¶¶', '‡¶ó‡ßá‡¶∏‡ßç‡¶ü ‡¶∞‡ßÅ‡¶Æ', '‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶§‡ßç‡¶§‡¶æ'],
                    address: {
                        houseNumber: '‡ß™‡ß´/‡¶∏‡¶ø',
                        roadNumber: '‡¶∞‡ßã‡¶° ‡¶®‡¶Ç ‡ßß‡ß®',
                        sector: '‡¶∏‡ßá‡¶ï‡ßç‡¶ü‡¶∞ ‡ß≠',
                        fullAddress: '‡¶¨‡¶æ‡¶°‡¶º‡¶ø ‡¶®‡¶Ç ‡ß™‡ß´/‡¶∏‡¶ø, ‡¶∞‡ßã‡¶° ‡¶®‡¶Ç ‡ßß‡ß®, ‡¶∏‡ßá‡¶ï‡ßç‡¶ü‡¶∞ ‡ß≠, ‡¶â‡¶§‡ßç‡¶§‡¶∞‡¶æ, ‡¶¢‡¶æ‡¶ï‡¶æ-‡ßß‡ß®‡ß©‡ß¶',
                        googleMapsLink: 'https://maps.google.com/?q=23.8759,90.3795'
                    }
                },
                house3: {
                    title: '‡¶≤‡¶æ‡¶ï‡ßç‡¶∏‡¶æ‡¶∞‡¶ø ‡¶´‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ü',
                    area: '‡¶ó‡ßÅ‡¶≤‡¶∂‡¶æ‡¶®',
                    district: '‡¶¢‡¶æ‡¶ï‡¶æ',
                    price: 45000,
                    bedrooms: 3,
                    bathrooms: 2,
                    size: 1500,
                    features: ['‡¶∏‡ßÅ‡¶á‡¶Æ‡¶ø‡¶Ç ‡¶™‡ßÅ‡¶≤', '‡¶ú‡¶ø‡¶Æ', '‡¶ï‡¶Æ‡¶ø‡¶â‡¶®‡¶ø‡¶ü‡¶ø ‡¶π‡¶≤', '‡¶∏‡¶ø‡¶ï‡¶ø‡¶â‡¶∞‡¶ø‡¶ü‡¶ø', '‡¶ï‡¶®‡¶∏‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶ú'],
                    address: {
                        houseNumber: '‡ß©‡ß®/‡¶è',
                        roadNumber: '‡¶∞‡ßã‡¶° ‡¶®‡¶Ç ‡ßß‡ßß‡ßß',
                        sector: '‡¶ó‡ßÅ‡¶≤‡¶∂‡¶æ‡¶®-‡ß®',
                        fullAddress: '‡¶¨‡¶æ‡¶°‡¶º‡¶ø ‡¶®‡¶Ç ‡ß©‡ß®/‡¶è, ‡¶∞‡ßã‡¶° ‡¶®‡¶Ç ‡ßß‡ßß‡ßß, ‡¶ó‡ßÅ‡¶≤‡¶∂‡¶æ‡¶®-‡ß®, ‡¶¢‡¶æ‡¶ï‡¶æ-‡ßß‡ß®‡ßß‡ß®',
                        googleMapsLink: 'https://maps.google.com/?q=23.7925,90.4078'
                    }
                }
            };

            if (!house && defaultHouses[houseId]) {
                house = defaultHouses[houseId];
            }

            if (!house) return;

            const modal = document.getElementById('houseModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalContent = document.getElementById('modalContent');

            modalTitle.textContent = house.title;
            modalContent.innerHTML = `
                <div class="space-y-2">
                    <!-- Hero Section with Price -->
                    <div class="relative h-32 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl overflow-hidden">
                        <div class="absolute inset-0 bg-black bg-opacity-20"></div>
                        <div class="relative h-full flex items-center justify-between p-3">
                            <div class="flex items-center space-x-3">
                                <div class="text-3xl">${house.icon || 'üè†'}</div>
                                <div class="text-white">
                                    <p class="text-xs opacity-90">‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï ‡¶≠‡¶æ‡¶°‡¶º‡¶æ</p>
                                    <p class="text-lg font-bold">${house.price.toLocaleString()} ‡¶ü‡¶æ‡¶ï‡¶æ</p>
                                    <p class="text-xs opacity-90">${house.area}</p>
                                </div>
                            </div>
                            <button onclick="toggleFavourite('${house.id}')" class="bg-white bg-opacity-90 hover:bg-opacity-100 text-gray-600 hover:text-red-600 p-2 rounded-full transition-all">
                                <span id="fav-${house.id}" class="text-lg">ü§ç</span>
                            </button>
                        </div>
                    </div>

                    <!-- Quick Info Grid -->
                    <div class="grid grid-cols-3 gap-2">
                        <div class="bg-blue-50 p-2 rounded-lg text-center border border-blue-200">
                            <div class="text-lg">üõèÔ∏è</div>
                            <p class="text-xs text-gray-600">‡¶¨‡ßá‡¶°‡¶∞‡ßÅ‡¶Æ</p>
                            <p class="text-sm font-bold text-blue-700">${house.bedrooms}‡¶ü‡¶ø</p>
                        </div>
                        <div class="bg-green-50 p-2 rounded-lg text-center border border-green-200">
                            <div class="text-lg">üöø</div>
                            <p class="text-xs text-gray-600">‡¶¨‡¶æ‡¶•‡¶∞‡ßÅ‡¶Æ</p>
                            <p class="text-sm font-bold text-green-700">${house.bathrooms}‡¶ü‡¶ø</p>
                        </div>
                        <div class="bg-purple-50 p-2 rounded-lg text-center border border-purple-200">
                            <div class="text-lg">üìê</div>
                            <p class="text-xs text-gray-600">‡¶Ü‡¶Ø‡¶º‡¶§‡¶®</p>
                            <p class="text-sm font-bold text-purple-700">${house.size} ‡¶¨‡¶∞‡ßç‡¶ó‡¶´‡ßÅ‡¶ü</p>
                        </div>
                    </div>

                    <!-- Address Section -->
                    <div class="bg-orange-50 p-3 rounded-xl border border-orange-200">
                        <h4 class="text-sm font-bold text-gray-800 mb-2 flex items-center">
                            <span class="mr-1 text-base">üìç</span> ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ
                        </h4>
                        <div class="bg-white p-2 rounded-lg border border-gray-200">
                            <!-- Free visible area info -->
                            <div class="mb-3 p-2 bg-green-50 rounded-lg border border-green-200">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-xs text-green-600 font-medium">üìç ‡¶è‡¶≤‡¶æ‡¶ï‡¶æ (‡¶´‡ßç‡¶∞‡¶ø)</p>
                                        <p class="text-sm font-bold text-gray-800">${house.area}</p>
                                        ${house.address && house.address.sector ? `<p class="text-xs text-gray-600">${house.address.sector}</p>` : ''}
                                    </div>
                                    <div class="text-green-500">
                                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                                        </svg>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Locked detailed address -->
                            <div id="lockedAddress_${house.id}" class="text-center py-3">
                                <div class="text-2xl mb-2">üîí</div>
                                <p class="text-sm text-gray-600 mb-2">‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ ‡¶ì ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶§‡ßá</p>
                                <p class="text-xs text-orange-600 font-semibold">15 ‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®</p>
                                <p class="text-xs text-blue-600 mt-1">‡¶è‡¶ï‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶ï‡¶∞‡¶≤‡ßá ‡¶è‡¶á ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ ‡ß¨‡ß¶ ‡¶¶‡¶ø‡¶® ‡¶¶‡ßÉ‡¶∂‡ßç‡¶Ø‡¶Æ‡¶æ‡¶® ‡¶•‡¶æ‡¶ï‡¶¨‡ßá</p>
                            </div>
                            
                            <!-- Unlocked detailed address -->
                            <div id="unlockedAddress_${house.id}" class="hidden">
                                <div class="space-y-2">
                                    <div class="p-2 bg-blue-50 rounded-lg">
                                        <p class="text-xs text-blue-600 font-medium">üè† ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ</p>
                                        <p class="text-sm font-semibold text-gray-800">${house.address?.fullAddress || house.area + ', ' + house.district}</p>
                                    </div>
                                    ${house.address?.houseNumber ? `
                                        <div class="grid grid-cols-2 gap-2">
                                            <div class="p-2 bg-purple-50 rounded-lg">
                                                <p class="text-xs text-purple-600 font-medium">üè¢ ‡¶¨‡¶æ‡¶°‡¶º‡¶ø ‡¶®‡¶Ç</p>
                                                <p class="text-sm font-semibold text-gray-800">${house.address.houseNumber}</p>
                                            </div>
                                            <div class="p-2 bg-indigo-50 rounded-lg">
                                                <p class="text-xs text-indigo-600 font-medium">üõ£Ô∏è ‡¶∞‡ßã‡¶° ‡¶®‡¶Ç</p>
                                                <p class="text-sm font-semibold text-gray-800">${house.address.roadNumber || 'N/A'}</p>
                                            </div>
                                        </div>
                                    ` : ''}
                                    <div class="flex items-center justify-center p-2 bg-green-100 rounded-lg">
                                        <span class="text-xs text-green-700 font-medium">‚úÖ ‡¶∏‡¶¨ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ ‡¶Ü‡¶®‡¶≤‡¶ï!</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Features Section -->
                    <div class="bg-indigo-50 p-3 rounded-xl border border-indigo-200">
                        <h4 class="text-sm font-bold text-gray-800 mb-2 flex items-center">
                            <span class="mr-1 text-base">‚ú®</span> ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ‡¶∏‡¶Æ‡ßÇ‡¶π
                        </h4>
                        <div class="bg-white p-2 rounded-lg border border-gray-100">
                            <div class="flex flex-wrap gap-1">
                                ${house.features.map((feature, index) => `
                                    <span class="inline-flex items-center bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium border border-green-200">
                                        <span class="w-2 h-2 bg-green-500 rounded-full mr-1"></span>
                                        ${feature}
                                    </span>
                                `).join('')}
                            </div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="pt-1">
                        <!-- Single Unlock Button (when locked) -->
                        <div id="lockedButtons_${house.id}">
                            <button onclick="unlockAllServices('${house.id}')" class="w-full bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white font-bold py-4 px-4 rounded-xl transition-all transform hover:scale-105 text-sm shadow-lg">
                                <div class="flex items-center justify-center mb-1">
                                    <span class="mr-2 text-lg">üîì</span>
                                    <span>‡¶∏‡¶¨ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                                </div>
                                <div class="text-xs opacity-90">15 ‡¶ü‡ßã‡¶ï‡ßá‡¶® - 60 ‡¶¶‡¶ø‡¶® ‡¶´‡ßç‡¶∞‡¶ø</div>
                            </button>
                        </div>
                        
                        <!-- Individual Service Buttons (when unlocked) -->
                        <div id="unlockedButtons_${house.id}" class="hidden">
                            <div class="grid grid-cols-3 gap-2">
                                <button onclick="contactOwner()" class="bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold py-3 px-2 rounded-lg transition-all flex items-center justify-center text-xs">
                                    <span class="mr-1 text-sm">üìû</span> 
                                    <span>‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó</span>
                                </button>
                                <button onclick="scheduleVisit()" class="bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-semibold py-3 px-2 rounded-lg transition-all flex items-center justify-center text-xs">
                                    <span class="mr-1 text-sm">üìÖ</span> 
                                    <span>‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü</span>
                                </button>
                                ${house.address && house.address.googleMapsLink ? `
                                    <button onclick="showMapLocation('${house.address.googleMapsLink}')" class="bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-semibold py-3 px-2 rounded-lg transition-all flex items-center justify-center text-xs">
                                        <span class="mr-1 text-sm">üó∫Ô∏è</span> 
                                        <span>Maps</span>
                                    </button>
                                ` : `
                                    <button onclick="showFullAddress('${house.id}')" class="bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white font-semibold py-3 px-2 rounded-lg transition-all flex items-center justify-center text-xs">
                                        <span class="mr-1 text-sm">üìç</span> 
                                        <span>‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ</span>
                                    </button>
                                `}
                            </div>
                            <div class="mt-2 text-center">
                                <div class="inline-flex items-center px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium">
                                    <span class="mr-1">‚úÖ</span>
                                    <span id="remainingDays_${house.id}">‡¶∏‡¶¨ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ ‡¶Ü‡¶®‡¶≤‡¶ï</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            modal.classList.remove('hidden');
            modal.classList.add('flex');
            
            // Update favourite icon
            updateAllFavouriteIcons();
            
            // Update button icons based on unlock status
            updateButtonIcons(house.id);
        }

        function closeModal() {
            const modal = document.getElementById('houseModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        // Token Confirmation System
        function showTokenConfirmation(service, tokenCost, actionCallback) {
            const tokenData = JSON.parse(localStorage.getItem('userTokens') || '{"balance": 0, "transactions": []}');
            
            // Update confirmation modal content
            document.getElementById('confirmService').textContent = service;
            document.getElementById('confirmTokenCost').textContent = `${tokenCost} ‡¶ü‡ßã‡¶ï‡ßá‡¶®`;
            document.getElementById('confirmCurrentBalance').textContent = `${tokenData.balance} ‡¶ü‡ßã‡¶ï‡ßá‡¶®`;
            document.getElementById('confirmRemainingBalance').textContent = `${tokenData.balance - tokenCost} ‡¶ü‡ßã‡¶ï‡ßá‡¶®`;
            
            // Update message based on service type
            const confirmMessage = document.getElementById('confirmMessage');
            if (service === '‡¶∏‡¶¨ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ ‡¶Ü‡¶®‡¶≤‡¶ï') {
                confirmMessage.innerHTML = `
                    <strong>‡¶è‡¶á ‡¶¨‡¶æ‡¶∏‡¶æ‡¶∞ ‡¶∏‡¶¨ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶ï‡¶∞‡¶¨‡ßá‡¶®?</strong><br><br>
                    ‚úÖ ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø<br>
                    ‚úÖ ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü ‡¶¨‡ßÅ‡¶ï‡¶ø‡¶Ç<br>
                    ‚úÖ ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ<br>
                    ‚úÖ ‡¶ó‡ßÅ‡¶ó‡¶≤ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶™ ‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶®<br><br>
                    <span class="text-blue-600 font-semibold">‡¶∏‡¶¨ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ 60 ‡¶¶‡¶ø‡¶® ‡¶´‡ßç‡¶∞‡¶ø ‡¶•‡¶æ‡¶ï‡¶¨‡ßá!</span>
                `;
            } else {
                confirmMessage.textContent = '‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶Ø‡ßá ‡¶è‡¶á ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?';
            }
            
            // Store the action to execute after confirmation
            pendingTokenAction = actionCallback;
            
            // Show confirmation modal
            const modal = document.getElementById('tokenConfirmModal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        function confirmTokenUsage() {
            // Hide confirmation modal
            const modal = document.getElementById('tokenConfirmModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
            
            // Execute the pending action
            if (pendingTokenAction) {
                pendingTokenAction();
                pendingTokenAction = null;
            }
        }

        function cancelTokenUsage() {
            // Hide confirmation modal
            const modal = document.getElementById('tokenConfirmModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
            
            // Clear pending action
            pendingTokenAction = null;
        }

        function contactOwner() {
            // Check if user is logged in
            const userData = localStorage.getItem('toletUser');
            if (!userData) {
                alert('üìû ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá Login ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
                openLoginModal();
                return;
            }

            // Get current house data from modal
            const modalTitle = document.getElementById('modalTitle').textContent;
            let currentHouse = null;
            for (const area in houses) {
                currentHouse = houses[area].find(h => h.title === modalTitle);
                if (currentHouse) break;
            }

            if (!currentHouse) return;

            // Check if house is unlocked (all services)
            const unlockedHouses = JSON.parse(localStorage.getItem('unlockedHouses') || '{}');
            const houseKey = `house_${currentHouse.id}`;
            const now = Date.now();
            
            if (unlockedHouses[houseKey] && (now - unlockedHouses[houseKey].timestamp) < (60 * 24 * 60 * 60 * 1000)) {
                // House is unlocked - show contact info
                const houseData = unlockedHouses[houseKey].houseData;
                const remainingDays = Math.ceil((60 * 24 * 60 * 60 * 1000 - (now - unlockedHouses[houseKey].timestamp)) / (24 * 60 * 60 * 1000));
                const contactInfo = {
                    name: houseData.contactName || '‡¶Æ‡¶æ‡¶≤‡¶ø‡¶ï',
                    phone: houseData.contactPhone || '‡ß¶‡ßß‡ß≠‡ßß‡ß®‡ß©‡ß™‡ß´‡ß¨‡ß≠‡ßÆ'
                };
                alert(`üìû ${contactInfo.name} ‡¶è‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®:\n\nüì± ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤: ${contactInfo.phone}\n\nüí¨ "tolet.click ‡¶•‡ßá‡¶ï‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶°‡¶º‡¶ø‡¶∞ ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶¶‡ßá‡¶ñ‡ßá‡¶õ‡¶ø" ‡¶¨‡¶≤‡ßá ‡¶ï‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§\n\n‚úÖ ‡¶Ü‡¶∞‡ßã ${remainingDays} ‡¶¶‡¶ø‡¶® ‡¶∏‡¶¨ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶•‡¶æ‡¶ï‡¶¨‡ßá‡•§`);
                return;
            }

            // House is not unlocked
            alert('üîí ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá "‡¶∏‡¶¨ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®" ‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®‡•§\n\nüí° ‡¶è‡¶ï‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶ï‡¶∞‡¶≤‡ßá ‡¶∏‡¶¨ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ 60 ‡¶¶‡¶ø‡¶® ‡¶´‡ßç‡¶∞‡¶ø ‡¶™‡¶æ‡¶¨‡ßá‡¶®!');
        }

        function scheduleVisit() {
            // Check if user is logged in
            const userData = localStorage.getItem('toletUser');
            if (!userData) {
                alert('üìÖ ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü ‡¶¨‡ßÅ‡¶ï ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá Login ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
                openLoginModal();
                return;
            }

            // Get current house data from modal
            const modalTitle = document.getElementById('modalTitle').textContent;
            let currentHouse = null;
            for (const area in houses) {
                currentHouse = houses[area].find(h => h.title === modalTitle);
                if (currentHouse) break;
            }

            if (!currentHouse) return;

            // Check if house is unlocked (all services)
            const unlockedHouses = JSON.parse(localStorage.getItem('unlockedHouses') || '{}');
            const houseKey = `house_${currentHouse.id}`;
            const now = Date.now();
            
            if (unlockedHouses[houseKey] && (now - unlockedHouses[houseKey].timestamp) < (60 * 24 * 60 * 60 * 1000)) {
                // House is unlocked - allow visit booking
                const remainingDays = Math.ceil((60 * 24 * 60 * 60 * 1000 - (now - unlockedHouses[houseKey].timestamp)) / (24 * 60 * 60 * 1000));
                alert(`üìÖ ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü ‡¶¨‡ßÅ‡¶ï‡¶ø‡¶Ç ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶Ü‡¶õ‡ßá!\n\n‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶õ‡¶®‡ßç‡¶¶‡ßá‡¶∞ ‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶ú‡¶æ‡¶®‡¶æ‡¶®‡•§ ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶∂‡ßÄ‡¶ò‡ßç‡¶∞‡¶á ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶¨‡•§\n\n‚úÖ ‡¶Ü‡¶∞‡ßã ${remainingDays} ‡¶¶‡¶ø‡¶® ‡¶∏‡¶¨ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶•‡¶æ‡¶ï‡¶¨‡ßá‡•§`);
                return;
            }

            // House is not unlocked
            alert('üîí ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü ‡¶¨‡ßÅ‡¶ï ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá "‡¶∏‡¶¨ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®" ‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®‡•§\n\nüí° ‡¶è‡¶ï‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶ï‡¶∞‡¶≤‡ßá ‡¶∏‡¶¨ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ 60 ‡¶¶‡¶ø‡¶® ‡¶´‡ßç‡¶∞‡¶ø ‡¶™‡¶æ‡¶¨‡ßá‡¶®!');
        }

        function showMapLocation(googleMapsLink) {
            // Check if user is logged in
            const userData = localStorage.getItem('toletUser');
            if (!userData) {
                alert('üó∫Ô∏è ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶™ ‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶® ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá Login ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
                openLoginModal();
                return;
            }

            // Get current house data from modal
            const modalTitle = document.getElementById('modalTitle').textContent;
            let currentHouse = null;
            for (const area in houses) {
                currentHouse = houses[area].find(h => h.title === modalTitle);
                if (currentHouse) break;
            }

            if (!currentHouse) return;

            // Check if house is unlocked (all services)
            const unlockedHouses = JSON.parse(localStorage.getItem('unlockedHouses') || '{}');
            const houseKey = `house_${currentHouse.id}`;
            const now = Date.now();
            
            if (unlockedHouses[houseKey] && (now - unlockedHouses[houseKey].timestamp) < (60 * 24 * 60 * 60 * 1000)) {
                // House is unlocked - open map
                const remainingDays = Math.ceil((60 * 24 * 60 * 60 * 1000 - (now - unlockedHouses[houseKey].timestamp)) / (24 * 60 * 60 * 1000));
                window.open(googleMapsLink, '_blank');
                alert(`üó∫Ô∏è ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶™ ‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶® ‡¶ñ‡ßã‡¶≤‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!\n\n‚úÖ ‡¶Ü‡¶∞‡ßã ${remainingDays} ‡¶¶‡¶ø‡¶® ‡¶∏‡¶¨ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶•‡¶æ‡¶ï‡¶¨‡ßá‡•§`);
                return;
            }

            // House is not unlocked
            alert('üîí ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶™ ‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶® ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá "‡¶∏‡¶¨ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®" ‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®‡•§\n\nüí° ‡¶è‡¶ï‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶ï‡¶∞‡¶≤‡ßá ‡¶∏‡¶¨ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ 60 ‡¶¶‡¶ø‡¶® ‡¶´‡ßç‡¶∞‡¶ø ‡¶™‡¶æ‡¶¨‡ßá‡¶®!');
        }

        function showBasicAddress(area, district) {
            // Check if user is logged in
            const userData = localStorage.getItem('toletUser');
            if (!userData) {
                alert('üìç ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá Login ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
                openLoginModal();
                return;
            }

            // Get current house data from modal
            const modalTitle = document.getElementById('modalTitle').textContent;
            let currentHouse = null;
            for (const area in houses) {
                currentHouse = houses[area].find(h => h.title === modalTitle);
                if (currentHouse) break;
            }

            if (!currentHouse) return;

            // Check if address is already unlocked
            const unlockedData = JSON.parse(localStorage.getItem('unlockedAddresses') || '{}');
            const houseKey = `address_${currentHouse.id}`;
            const now = Date.now();
            
            if (unlockedData[houseKey] && (now - unlockedData[houseKey].timestamp) < (60 * 24 * 60 * 60 * 1000)) {
                // Already unlocked and within 60 days
                const remainingDays = Math.ceil((60 * 24 * 60 * 60 * 1000 - (now - unlockedData[houseKey].timestamp)) / (24 * 60 * 60 * 1000));
                const addressInfo = unlockedData[houseKey].data;
                alert(`üìç ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ:\n\n${addressInfo.fullAddress}\n\n‚úÖ ‡¶è‡¶á ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ ‡¶Ü‡¶∞‡ßã ${remainingDays} ‡¶¶‡¶ø‡¶® ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶•‡¶æ‡¶ï‡¶¨‡ßá‡•§`);
                return;
            }

            // Check token balance
            const tokenData = JSON.parse(localStorage.getItem('userTokens') || '{"balance": 0, "transactions": []}');
            if (tokenData.balance < 15) {
                const confirmPurchase = confirm('ü™ô ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ ‡¶¶‡ßá‡¶ñ‡¶§‡ßá 15 ‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®‡•§\n\nüí∞ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏: ' + tokenData.balance + ' ‡¶ü‡ßã‡¶ï‡ßá‡¶®\n\nüõí ‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶ï‡¶ø‡¶®‡¶§‡ßá ‡¶ö‡¶æ‡¶®?');
                if (confirmPurchase) {
                    showTokenModal();
                }
                return;
            }

            // Show token confirmation popup
            showTokenConfirmation('‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ', 15, function() {
                // This function will execute after user confirms
                
                // Deduct 15 tokens
                const updatedTokenData = JSON.parse(localStorage.getItem('userTokens') || '{"balance": 0, "transactions": []}');
                updatedTokenData.balance -= 15;
                
                // Add transaction record
                const transaction = {
                    type: 'usage',
                    amount: -15,
                    description: '‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ ‡¶¶‡ßá‡¶ñ‡¶æ',
                    timestamp: new Date().toISOString()
                };
                updatedTokenData.transactions.unshift(transaction);
                
                // Save updated token data
                localStorage.setItem('userTokens', JSON.stringify(updatedTokenData));

                // Get address info
                const addressInfo = {
                    fullAddress: currentHouse.address?.fullAddress || `${area}, ${district}`
                };

                // Save unlocked address for 60 days
                const unlockedAddresses = JSON.parse(localStorage.getItem('unlockedAddresses') || '{}');
                unlockedAddresses[houseKey] = {
                    data: addressInfo,
                    timestamp: now
                };
                localStorage.setItem('unlockedAddresses', JSON.stringify(unlockedAddresses));

                // Update button icon
                updateButtonIcons(currentHouse.id);

                alert(`üìç ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ:\n\n${addressInfo.fullAddress}\n\nü™ô 15 ‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶ï‡¶æ‡¶ü‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶¨‡¶æ‡¶ï‡¶ø: ${updatedTokenData.balance} ‡¶ü‡ßã‡¶ï‡ßá‡¶®\n‚è∞ ‡¶è‡¶á ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ 60 ‡¶¶‡¶ø‡¶® ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶•‡¶æ‡¶ï‡¶¨‡ßá‡•§`);
            });
        }

        function shareHouse(houseId) {
            if (navigator.share) {
                navigator.share({
                    title: 'tolet.click - ‡¶¨‡¶æ‡¶°‡¶º‡¶ø ‡¶≠‡¶æ‡¶°‡¶º‡¶æ',
                    text: '‡¶è‡¶á ‡¶∏‡ßÅ‡¶®‡ßç‡¶¶‡¶∞ ‡¶¨‡¶æ‡¶°‡¶º‡¶ø‡¶ü‡¶ø ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®!',
                    url: window.location.href
                });
            } else {
                // Fallback for browsers that don't support Web Share API
                const url = window.location.href;
                navigator.clipboard.writeText(url).then(() => {
                    alert('üîó ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶ï‡¶™‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá! ‡¶è‡¶ñ‡¶® ‡¶Ü‡¶™‡¶®‡¶ø ‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶ú‡¶æ‡¶Ø‡¶º‡¶ó‡¶æ‡¶Ø‡¶º ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§');
                }).catch(() => {
                    alert('üì§ ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶á ‡¶≤‡¶ø‡¶Ç‡¶ï‡¶ü‡¶ø ‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®: ' + url);
                });
            }
        }

        function reportHouse(houseId) {
            const reasons = [
                '‚ùå ‡¶≠‡ßÅ‡¶≤ ‡¶§‡¶•‡ßç‡¶Ø',
                'üí∞ ‡¶≠‡ßÅ‡¶≤ ‡¶¶‡¶æ‡¶Æ',
                'üìç ‡¶≠‡ßÅ‡¶≤ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ',
                'üö´ ‡¶Ü‡¶∞ ‡¶â‡¶™‡¶≤‡¶¨‡ßç‡¶ß ‡¶®‡ßá‡¶á',
                '‚ö†Ô∏è ‡¶∏‡¶®‡ßç‡¶¶‡ßá‡¶π‡¶ú‡¶®‡¶ï',
                'üîÑ ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø'
            ];
            
            const reason = prompt('‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶∞‡¶£ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®:\n\n' + 
                reasons.map((r, i) => `${i + 1}. ${r}`).join('\n') + 
                '\n\n‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶® (‡ßß-‡ß¨):');
            
            if (reason && reason >= 1 && reason <= 6) {
                alert(`‚úÖ ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ú‡¶Æ‡¶æ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!\n‡¶ï‡¶æ‡¶∞‡¶£: ${reasons[reason - 1]}\n\n‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶∂‡ßÄ‡¶ò‡ßç‡¶∞‡¶á ‡¶è‡¶ü‡¶ø ‡¶™‡¶∞‡ßç‡¶Ø‡¶æ‡¶≤‡ßã‡¶ö‡¶®‡¶æ ‡¶ï‡¶∞‡¶¨‡•§ ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶!`);
            }
        }

        // Toggle advanced filters
        function toggleFilters() {
            const filters = document.getElementById('advancedFilters');
            const arrow = document.getElementById('filterArrow');
            
            filters.classList.toggle('hidden');
            arrow.classList.toggle('rotate-180');
        }

        // Clear all filters
        function clearFilters() {
            document.getElementById('division').value = '';
            document.getElementById('district').value = '';
            document.getElementById('type').value = '';
            document.getElementById('budget').value = '';
            document.getElementById('area').value = '';
            
            // Reset district options
            const districtSelect = document.getElementById('district');
            districtSelect.innerHTML = '<option value="">‡¶ú‡ßá‡¶≤‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>';
            
            // Hide area suggestions
            hideAreaSuggestions();
            
            // Show success message
            const clearButton = event.target;
            const originalText = clearButton.innerHTML;
            clearButton.innerHTML = '<span class="mr-1">‚úÖ</span> ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá';
            clearButton.classList.add('text-green-600');
            
            setTimeout(() => {
                clearButton.innerHTML = originalText;
                clearButton.classList.remove('text-green-600');
            }, 1500);
        }

        // 3D Typing Animation with Random Speed
        function startTypingAnimation() {
            const text = "Find your perfect home from thousands of properties ‚ö° in just a few clicks";
            const typingElement = document.getElementById('typingText');
            let index = 0;
            
            function typeCharacter() {
                if (index < text.length) {
                    const char = text.charAt(index);
                    const span = document.createElement('span');
                    span.textContent = char;
                    span.style.opacity = '0';
                    span.style.transform = 'scale(0.8) translateY(10px)';
                    span.style.transition = 'all 0.3s ease-out';
                    
                    // Special styling for highlighted words
                    if (text.substring(index, index + 19) === 'your perfect home') {
                        span.className = 'font-semibold text-yellow-200';
                        index += 18; // Skip ahead for the phrase
                        span.textContent = 'your perfect home';
                    } else if (text.substring(index, index + 30) === '‚ö° in just a few clicks') {
                        span.className = 'font-medium';
                        span.textContent = '‚ö° in just a few clicks';
                        index += 29; // Skip ahead for the phrase
                    }
                    
                    typingElement.appendChild(span);
                    
                    // Animate character appearance
                    setTimeout(() => {
                        span.style.opacity = '1';
                        span.style.transform = 'scale(1) translateY(0)';
                    }, 50);
                    
                    index++;
                    // Random typing speed between 40ms to 120ms
                    const randomDelay = Math.random() * 80 + 40;
                    setTimeout(typeCharacter, randomDelay);
                } else {
                    // Add blinking cursor at the end
                    const cursor = document.createElement('span');
                    cursor.className = 'cursor';
                    cursor.innerHTML = '&nbsp;';
                    typingElement.appendChild(cursor);
                    
                    // Remove cursor after 3 seconds
                    setTimeout(() => {
                        if (cursor.parentNode) {
                            cursor.parentNode.removeChild(cursor);
                        }
                    }, 3000);
                }
            }
            
            typeCharacter();
        }
        
        // Start typing animation when page loads
        window.addEventListener('load', function() {
            setTimeout(startTypingAnimation, 1000);
        });

        // Auth Modal Functions
        function openLoginModal() {
            const modal = document.getElementById('loginModal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        function closeLoginModal() {
            const modal = document.getElementById('loginModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        function openSignupModal() {
            const modal = document.getElementById('signupModal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        function closeSignupModal() {
            const modal = document.getElementById('signupModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        function switchToSignup() {
            closeLoginModal();
            openSignupModal();
        }

        function switchToLogin() {
            closeSignupModal();
            openLoginModal();
        }

        function handleLogin(event) {
            event.preventDefault();
            
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Simple validation
            if (email && password) {
                // Store user data in localStorage (demo purposes)
                const userData = {
                    email: email,
                    loginTime: new Date().toISOString()
                };
                localStorage.setItem('toletUser', JSON.stringify(userData));
                
                // Show success message
                alert('‚úÖ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶≤‡¶ó‡¶á‡¶® ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá! ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ ' + email);
                
                // Close modal and reset form
                closeLoginModal();
                document.getElementById('loginForm').reset();
                
                // Update UI to show logged in state
                updateAuthButtons(email);
            }
        }

        function handleSignup(event) {
            event.preventDefault();
            
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const phone = document.getElementById('signupPhone').value;
            const password = document.getElementById('signupPassword').value;
            const confirmPassword = document.getElementById('signupConfirmPassword').value;
            
            // Validation
            if (password !== confirmPassword) {
                alert('‚ùå ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Æ‡¶ø‡¶≤‡¶õ‡ßá ‡¶®‡¶æ!');
                return;
            }
            
            if (password.length < 6) {
                alert('‚ùå ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡ß¨ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡ßá‡¶∞ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá!');
                return;
            }
            
            // Store user data in localStorage (demo purposes)
            const userData = {
                name: name,
                email: email,
                phone: phone,
                signupTime: new Date().toISOString()
            };
            localStorage.setItem('toletUser', JSON.stringify(userData));
            
            // Show success message
            alert('üéâ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá! ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ ' + name);
            
            // Close modal and reset form
            closeSignupModal();
            document.getElementById('signupForm').reset();
            
            // Update UI to show logged in state
            updateAuthButtons(name);
        }

        function updateAuthButtons(userName) {
            const authContainer = document.getElementById('authButtons');
            authContainer.innerHTML = `
                <button onclick="openPostAdModal()" class="bg-green-500 hover:bg-green-600 text-white font-medium px-2 py-2 md:px-3 md:py-2 rounded-lg transition-all duration-300 text-xs md:text-sm flex items-center">
                    <span class="mr-1">üìù</span>
                    <span class="hidden sm:inline">‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶¶‡¶ø‡¶®</span>
                    <span class="sm:hidden">‡¶™‡ßã‡¶∏‡ßç‡¶ü</span>
                </button>
                <button onclick="logout()" class="bg-red-500 hover:bg-red-600 text-white font-medium px-2 py-2 md:px-3 md:py-2 rounded-lg transition-all duration-300 text-xs md:text-sm">
                    Logout
                </button>
            `;
        }

        function showLoginSignupButtons() {
            const authContainer = document.getElementById('authButtons');
            authContainer.innerHTML = `
                <button onclick="openLoginModal()" class="bg-white bg-opacity-20 hover:bg-opacity-30 text-white font-medium px-3 py-2 md:px-4 md:py-2 rounded-lg transition-all duration-300 border border-white border-opacity-30 hover:border-opacity-50 text-sm md:text-base">
                    Login
                </button>
                <button onclick="openSignupModal()" class="bg-yellow-400 hover:bg-yellow-500 text-gray-800 font-semibold px-3 py-2 md:px-4 md:py-2 rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl text-sm md:text-base">
                    Signup
                </button>
            `;
        }

        function logout() {
            localStorage.removeItem('toletUser');
            showLoginSignupButtons();
            alert('‚úÖ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
        }

        // Display latest 10 houses on page load
        function displayLatestHouses() {
            const allHouses = Object.values(houses).flat();
            
            // Add timestamps to houses for sorting (simulate latest updates)
            const housesWithTimestamp = allHouses.map((house, index) => ({
                ...house,
                timestamp: Date.now() - (index * 3600000) // Each house is 1 hour older
            }));
            
            // Sort by timestamp (latest first) and take first 10
            const latestHouses = housesWithTimestamp
                .sort((a, b) => b.timestamp - a.timestamp)
                .slice(0, 10);
            
            const grid = document.getElementById('latestHousesGrid');
            grid.innerHTML = latestHouses.map(house => `
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden card-hover border border-gray-100">
                    <div class="relative h-40 md:h-48 overflow-hidden">
                        ${house.images && house.images.length > 0 ? `
                            <div class="image-gallery-${house.id} relative w-full h-full">
                                ${house.images.map((image, index) => `
                                    <img src="${image.url}" alt="${image.alt}" 
                                         class="absolute inset-0 w-full h-full object-cover transition-opacity duration-500 ${index === 0 ? 'opacity-100' : 'opacity-0'}"
                                         onerror="this.style.display='none'; this.nextElementSibling?.classList.remove('opacity-0');">
                                `).join('')}
                                ${house.images.length > 1 ? `
                                    <div class="absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1">
                                        ${house.images.map((_, index) => `
                                            <div class="w-2 h-2 rounded-full bg-white bg-opacity-60 ${index === 0 ? 'bg-opacity-100' : ''}" data-index="${index}"></div>
                                        `).join('')}
                                    </div>
                                    <button onclick="previousImage('${house.id}')" class="absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-1 rounded-full hover:bg-opacity-70 transition-all">
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                                        </svg>
                                    </button>
                                    <button onclick="nextImage('${house.id}')" class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-1 rounded-full hover:bg-opacity-70 transition-all">
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                                        </svg>
                                    </button>
                                ` : ''}
                            </div>
                        ` : `
                            <div class="bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center w-full h-full">
                                <div class="text-5xl md:text-6xl">${house.icon}</div>
                            </div>
                        `}
                        <div class="absolute top-3 right-3 bg-white bg-opacity-90 text-green-600 px-2 py-1 rounded-full text-xs font-semibold">
                            ‡¶®‡¶§‡ßÅ‡¶®
                        </div>
                        <div class="absolute top-3 left-3">
                            <button onclick="toggleFavourite('${house.id}')" class="bg-white bg-opacity-90 hover:bg-opacity-100 text-gray-600 hover:text-red-600 p-2 rounded-full transition-all transform hover:scale-110">
                                <span id="fav-${house.id}" class="text-lg">ü§ç</span>
                            </button>
                        </div>
                    </div>
                    <div class="p-4 md:p-6">
                        <h4 class="text-lg md:text-xl font-semibold mb-2">${house.title}</h4>
                        <p class="text-gray-600 mb-3 flex items-center">
                            <span class="mr-1">üìç</span> ${house.area}, ${house.district}
                        </p>
                        <div class="bg-blue-50 rounded-lg p-3 mb-4">
                            <div class="flex items-center justify-between">
                                <span class="text-xl md:text-2xl font-bold text-blue-600">${house.price.toLocaleString()} ‡¶ü‡¶æ‡¶ï‡¶æ</span>
                                <span class="text-xs md:text-sm text-gray-500 bg-white px-2 py-1 rounded-full">‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶Æ‡¶æ‡¶∏‡ßá</span>
                            </div>
                        </div>
                        <div class="grid grid-cols-3 gap-2 text-xs md:text-sm text-gray-600 mb-4">
                            <div class="text-center bg-gray-50 rounded-lg py-2">
                                <div>üõèÔ∏è</div>
                                <div class="font-medium">${house.bedrooms} ‡¶¨‡ßá‡¶°‡¶∞‡ßÅ‡¶Æ</div>
                            </div>
                            <div class="text-center bg-gray-50 rounded-lg py-2">
                                <div>üöø</div>
                                <div class="font-medium">${house.bathrooms} ‡¶¨‡¶æ‡¶•‡¶∞‡ßÅ‡¶Æ</div>
                            </div>
                            <div class="text-center bg-gray-50 rounded-lg py-2">
                                <div>üìê</div>
                                <div class="font-medium">${house.size} ‡¶¨‡¶∞‡ßç‡¶ó‡¶´‡ßÅ‡¶ü</div>
                            </div>
                        </div>
                        <div class="flex gap-2 mb-3">
                            <button onclick="openImageGallery('${house.id}')" class="flex-1 bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white font-semibold py-2 px-3 rounded-lg transition-all transform hover:scale-105 text-sm">
                                üì∏ ‡¶õ‡¶¨‡¶ø ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
                            </button>
                        </div>
                        <button onclick="viewDetails('${house.id}')" class="w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-semibold py-3 px-4 rounded-xl transition-all transform hover:scale-105">
                            ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
                        </button>
                    </div>
                </div>
            `).join('');
            
            // Update favourite icons
            updateAllFavouriteIcons();
            
            // Update button icons for all houses
            latestHouses.forEach(house => {
                setTimeout(() => updateButtonIcons(house.id), 100);
            });
            
            // Update button icons for all houses
            houses.forEach(house => {
                setTimeout(() => updateButtonIcons(house.id), 100);
            });
        }

        // Check if user is already logged in
        window.addEventListener('load', function() {
            const userData = localStorage.getItem('toletUser');
            if (userData) {
                const user = JSON.parse(userData);
                updateAuthButtons(user.name || user.email);
            }
            
            // Display latest houses
            displayLatestHouses();
        });

        // Close modals when clicking outside
        document.getElementById('houseModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        document.getElementById('loginModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeLoginModal();
            }
        });

        document.getElementById('signupModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeSignupModal();
            }
        });

        document.getElementById('favouriteModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeFavouriteModal();
            }
        });
    </script>

    <!-- Bottom App Bar -->
    <div class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-40 md:hidden">
        <div class="flex items-center justify-around py-2">
            <!-- Home -->
            <button onclick="navigateToHome()" class="flex flex-col items-center p-2 rounded-xl transition-all duration-300 hover:bg-blue-50 active:scale-95">
                <div class="w-5 h-5 mb-1 flex items-center justify-center">
                    <svg viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 text-blue-600">
                        <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
                    </svg>
                </div>
                <span class="text-xs font-medium text-blue-600">Home</span>
            </button>

            <!-- Token -->
            <button onclick="navigateToToken()" class="flex flex-col items-center p-2 rounded-xl transition-all duration-300 hover:bg-gray-50 active:scale-95">
                <div class="w-5 h-5 mb-1 flex items-center justify-center">
                    <svg viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 text-gray-500">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                </div>
                <span class="text-xs font-medium text-gray-500">Token</span>
            </button>

            <!-- Favourite -->
            <button onclick="navigateToFavourite()" class="flex flex-col items-center p-2 rounded-xl transition-all duration-300 hover:bg-gray-50 active:scale-95">
                <div class="w-5 h-5 mb-1 flex items-center justify-center">
                    <svg viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 text-gray-500">
                        <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                    </svg>
                </div>
                <span class="text-xs font-medium text-gray-500">Favourite</span>
            </button>

            <!-- Support -->
            <button onclick="navigateToSupport()" class="flex flex-col items-center p-2 rounded-xl transition-all duration-300 hover:bg-gray-50 active:scale-95">
                <div class="w-5 h-5 mb-1 flex items-center justify-center">
                    <svg viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 text-gray-500">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"/>
                    </svg>
                </div>
                <span class="text-xs font-medium text-gray-500">Support</span>
            </button>

            <!-- Profile -->
            <button onclick="navigateToProfile()" class="flex flex-col items-center p-2 rounded-xl transition-all duration-300 hover:bg-gray-50 active:scale-95">
                <div class="w-5 h-5 mb-1 flex items-center justify-center">
                    <svg viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 text-gray-500">
                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                </div>
                <span class="text-xs font-medium text-gray-500">Profile</span>
            </button>
        </div>
    </div>

    <script>
        // App Bar Navigation Functions
        function navigateToHome() {
            // Update active state
            updateActiveTab('home');
            
            // Scroll to top or show home content
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            // Show featured houses if search results are visible
            const searchResults = document.getElementById('searchResults');
            const featuredHouses = document.getElementById('featuredHouses');
            
            if (!searchResults.classList.contains('hidden')) {
                searchResults.classList.add('hidden');
                featuredHouses.style.display = 'block';
            }
        }

        function navigateToToken() {
            updateActiveTab('token');
            showTokenModal();
        }

        function navigateToFavourite() {
            updateActiveTab('favourite');
            showFavouriteModal();
        }

        // Favourite functionality
        function toggleFavourite(houseId) {
            // Check if user is logged in
            const userData = localStorage.getItem('toletUser');
            if (!userData) {
                alert('‚ù§Ô∏è ‡¶´‡ßá‡¶≠‡¶æ‡¶∞‡¶ø‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá Login ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
                openLoginModal();
                return;
            }

            let favourites = JSON.parse(localStorage.getItem('favouriteHouses') || '[]');
            const index = favourites.indexOf(houseId);
            
            if (index > -1) {
                // Remove from favourites (free)
                favourites.splice(index, 1);
                updateFavouriteIcon(houseId, false);
                localStorage.setItem('favouriteHouses', JSON.stringify(favourites));
                alert('üíî ‡¶´‡ßá‡¶≠‡¶æ‡¶∞‡¶ø‡¶ü ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶∞‡¶æ‡¶®‡ßã ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§');
            } else {
                // Add to favourites (requires 5 tokens)
                const tokenData = JSON.parse(localStorage.getItem('userTokens') || '{"balance": 0, "transactions": []}');
                
                if (tokenData.balance < 5) {
                    const confirmPurchase = confirm('‚ù§Ô∏è ‡¶´‡ßá‡¶≠‡¶æ‡¶∞‡¶ø‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡ß´ ‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®‡•§\n\nüí∞ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏: ' + tokenData.balance + ' ‡¶ü‡ßã‡¶ï‡ßá‡¶®\n\nüõí ‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶ï‡¶ø‡¶®‡¶§‡ßá ‡¶ö‡¶æ‡¶®?');
                    if (confirmPurchase) {
                        showTokenModal();
                    }
                    return;
                }

                // Show token confirmation popup
                showTokenConfirmation('‡¶´‡ßá‡¶≠‡¶æ‡¶∞‡¶ø‡¶ü ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ', 5, function() {
                    // This function will execute after user confirms
                    
                    // Deduct 5 tokens
                    const updatedTokenData = JSON.parse(localStorage.getItem('userTokens') || '{"balance": 0, "transactions": []}');
                    updatedTokenData.balance -= 5;
                    
                    // Add transaction record
                    const transaction = {
                        type: 'usage',
                        amount: -5,
                        description: '‡¶´‡ßá‡¶≠‡¶æ‡¶∞‡¶ø‡¶ü ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ',
                        timestamp: new Date().toISOString()
                    };
                    updatedTokenData.transactions.unshift(transaction);
                    
                    // Save updated token data
                    localStorage.setItem('userTokens', JSON.stringify(updatedTokenData));

                    // Add to favourites
                    favourites.push(houseId);
                    updateFavouriteIcon(houseId, true);
                    localStorage.setItem('favouriteHouses', JSON.stringify(favourites));

                    alert(`‚ù§Ô∏è ‡¶´‡ßá‡¶≠‡¶æ‡¶∞‡¶ø‡¶ü‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!\n\nü™ô ‡ß´ ‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶ï‡¶æ‡¶ü‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶¨‡¶æ‡¶ï‡¶ø: ${updatedTokenData.balance} ‡¶ü‡ßã‡¶ï‡ßá‡¶®`);
                });
            }
        }

        function updateFavouriteIcon(houseId, isFavourite) {
            const icon = document.getElementById(`fav-${houseId}`);
            if (icon) {
                icon.textContent = isFavourite ? '‚ù§Ô∏è' : 'ü§ç';
                icon.parentElement.classList.toggle('text-red-600', isFavourite);
                icon.parentElement.classList.toggle('text-gray-600', !isFavourite);
            }
        }

        function updateAllFavouriteIcons() {
            const favourites = JSON.parse(localStorage.getItem('favouriteHouses') || '[]');
            favourites.forEach(houseId => {
                updateFavouriteIcon(houseId, true);
            });
        }

        function updateButtonIcons(houseId) {
            const now = Date.now();
            const sixtyDaysMs = 60 * 24 * 60 * 60 * 1000;
            
            // Check if all services are unlocked for this house
            const unlockedHouses = JSON.parse(localStorage.getItem('unlockedHouses') || '{}');
            const houseKey = `house_${houseId}`;
            
            const lockedButtons = document.getElementById(`lockedButtons_${houseId}`);
            const unlockedButtons = document.getElementById(`unlockedButtons_${houseId}`);
            const lockedAddress = document.getElementById(`lockedAddress_${houseId}`);
            const unlockedAddress = document.getElementById(`unlockedAddress_${houseId}`);
            const remainingDaysSpan = document.getElementById(`remainingDays_${houseId}`);
            
            if (unlockedHouses[houseKey] && (now - unlockedHouses[houseKey].timestamp) < sixtyDaysMs) {
                // House is unlocked - show unlocked UI
                if (lockedButtons) lockedButtons.classList.add('hidden');
                if (unlockedButtons) unlockedButtons.classList.remove('hidden');
                if (lockedAddress) lockedAddress.classList.add('hidden');
                if (unlockedAddress) unlockedAddress.classList.remove('hidden');
                
                // Calculate remaining days
                const remainingMs = sixtyDaysMs - (now - unlockedHouses[houseKey].timestamp);
                const remainingDays = Math.ceil(remainingMs / (24 * 60 * 60 * 1000));
                if (remainingDaysSpan) {
                    remainingDaysSpan.textContent = `‡¶Ü‡¶∞‡ßã ${remainingDays} ‡¶¶‡¶ø‡¶® ‡¶Ü‡¶®‡¶≤‡¶ï`;
                }
            } else {
                // House is locked - show locked UI
                if (lockedButtons) lockedButtons.classList.remove('hidden');
                if (unlockedButtons) unlockedButtons.classList.add('hidden');
                if (lockedAddress) lockedAddress.classList.remove('hidden');
                if (unlockedAddress) unlockedAddress.classList.add('hidden');
            }
        }

        // New function to unlock all services for a house
        function unlockAllServices(houseId) {
            // Check if user is logged in
            const userData = localStorage.getItem('toletUser');
            if (!userData) {
                alert('üîì ‡¶∏‡¶¨ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá Login ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
                openLoginModal();
                return;
            }

            // Get current house data from modal
            const modalTitle = document.getElementById('modalTitle').textContent;
            let currentHouse = null;
            for (const area in houses) {
                currentHouse = houses[area].find(h => h.title === modalTitle);
                if (currentHouse) break;
            }

            if (!currentHouse) return;

            // Check if already unlocked
            const unlockedHouses = JSON.parse(localStorage.getItem('unlockedHouses') || '{}');
            const houseKey = `house_${houseId}`;
            const now = Date.now();
            
            if (unlockedHouses[houseKey] && (now - unlockedHouses[houseKey].timestamp) < (60 * 24 * 60 * 60 * 1000)) {
                // Already unlocked
                const remainingDays = Math.ceil((60 * 24 * 60 * 60 * 1000 - (now - unlockedHouses[houseKey].timestamp)) / (24 * 60 * 60 * 1000));
                alert(`‚úÖ ‡¶è‡¶á ‡¶¨‡¶æ‡¶∏‡¶æ‡¶∞ ‡¶∏‡¶¨ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ ‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶Ü‡¶õ‡ßá!\n\n‚è∞ ‡¶Ü‡¶∞‡ßã ${remainingDays} ‡¶¶‡¶ø‡¶® ‡¶¨‡¶æ‡¶ï‡¶ø ‡¶Ü‡¶õ‡ßá‡•§`);
                return;
            }

            // Check token balance
            const tokenData = JSON.parse(localStorage.getItem('userTokens') || '{"balance": 0, "transactions": []}');
            if (tokenData.balance < 15) {
                // Close house modal first
                closeModal();
                // Show token modal directly
                showTokenModal();
                return;
            }

            // Show token confirmation popup
            showTokenConfirmation('‡¶∏‡¶¨ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ ‡¶Ü‡¶®‡¶≤‡¶ï', 15, function() {
                // This function will execute after user confirms
                
                // Deduct 15 tokens
                const updatedTokenData = JSON.parse(localStorage.getItem('userTokens') || '{"balance": 0, "transactions": []}');
                updatedTokenData.balance -= 15;
                
                // Add transaction record
                const transaction = {
                    type: 'usage',
                    amount: -15,
                    description: '‡¶∏‡¶¨ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ ‡¶Ü‡¶®‡¶≤‡¶ï - ' + currentHouse.title,
                    timestamp: new Date().toISOString()
                };
                updatedTokenData.transactions.unshift(transaction);
                
                // Save updated token data
                localStorage.setItem('userTokens', JSON.stringify(updatedTokenData));

                // Save unlocked house data for 60 days
                const unlockedHouses = JSON.parse(localStorage.getItem('unlockedHouses') || '{}');
                unlockedHouses[houseKey] = {
                    houseData: currentHouse,
                    timestamp: now
                };
                localStorage.setItem('unlockedHouses', JSON.stringify(unlockedHouses));

                // Update UI
                updateButtonIcons(houseId);

                alert(`üéâ ‡¶∏‡¶¨ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!\n\n‚úÖ ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø\n‚úÖ ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü ‡¶¨‡ßÅ‡¶ï‡¶ø‡¶Ç\n‚úÖ ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ\n‚úÖ ‡¶ó‡ßÅ‡¶ó‡¶≤ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶™ ‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶®\n\nü™ô 15 ‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶ï‡¶æ‡¶ü‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶¨‡¶æ‡¶ï‡¶ø: ${updatedTokenData.balance} ‡¶ü‡ßã‡¶ï‡ßá‡¶®\n‚è∞ ‡¶è‡¶á ‡¶∏‡¶¨ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ 60 ‡¶¶‡¶ø‡¶® ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶•‡¶æ‡¶ï‡¶¨‡ßá‡•§`);
            });
        }

        // Updated individual service functions to check house unlock status
        function showFullAddress(houseId) {
            const unlockedHouses = JSON.parse(localStorage.getItem('unlockedHouses') || '{}');
            const houseKey = `house_${houseId}`;
            const now = Date.now();
            
            if (unlockedHouses[houseKey] && (now - unlockedHouses[houseKey].timestamp) < (60 * 24 * 60 * 60 * 1000)) {
                const houseData = unlockedHouses[houseKey].houseData;
                const remainingDays = Math.ceil((60 * 24 * 60 * 60 * 1000 - (now - unlockedHouses[houseKey].timestamp)) / (24 * 60 * 60 * 1000));
                alert(`üìç ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ:\n\n${houseData.address?.fullAddress || houseData.area + ', ' + houseData.district}\n\n‚úÖ ‡¶Ü‡¶∞‡ßã ${remainingDays} ‡¶¶‡¶ø‡¶® ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶•‡¶æ‡¶ï‡¶¨‡ßá‡•§`);
            } else {
                alert('üîí ‡¶è‡¶á ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá "‡¶∏‡¶¨ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®" ‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
            }
        }

        function showFavouriteModal() {
            const modal = document.getElementById('favouriteModal');
            const content = document.getElementById('favouriteContent');
            const favourites = JSON.parse(localStorage.getItem('favouriteHouses') || '[]');
            
            if (favourites.length === 0) {
                content.innerHTML = `
                    <div class="text-center py-12">
                        <div class="text-6xl mb-4">üíî</div>
                        <h3 class="text-2xl font-semibold mb-2">‡¶ï‡ßã‡¶® ‡¶™‡¶õ‡¶®‡ßç‡¶¶‡ßá‡¶∞ ‡¶¨‡¶æ‡¶∏‡¶æ ‡¶®‡ßá‡¶á</h3>
                        <p class="text-gray-600 mb-4">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶õ‡¶®‡ßç‡¶¶‡ßá‡¶∞ ‡¶¨‡¶æ‡¶∏‡¶æ‡¶ó‡ßÅ‡¶≤‡ßã ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                        <button onclick="closeFavouriteModal()" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg">
                            ‡¶¨‡¶æ‡¶∏‡¶æ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®
                        </button>
                    </div>
                `;
            } else {
                // Find favourite houses from all areas
                const favouriteHouses = [];
                for (const area in houses) {
                    houses[area].forEach(house => {
                        if (favourites.includes(house.id)) {
                            favouriteHouses.push(house);
                        }
                    });
                }
                
                content.innerHTML = `
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6">
                        ${favouriteHouses.map(house => `
                            <div class="bg-white rounded-2xl shadow-lg overflow-hidden card-hover border border-gray-100">
                                <div class="relative h-40 md:h-48 overflow-hidden">
                                    ${house.images && house.images.length > 0 ? `
                                        <div class="image-gallery-${house.id} relative w-full h-full">
                                            ${house.images.map((image, index) => `
                                                <img src="${image.url}" alt="${image.alt}" 
                                                     class="absolute inset-0 w-full h-full object-cover transition-opacity duration-500 ${index === 0 ? 'opacity-100' : 'opacity-0'}"
                                                     onerror="this.style.display='none'; this.nextElementSibling?.classList.remove('opacity-0');">
                                            `).join('')}
                                            ${house.images.length > 1 ? `
                                                <div class="absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1">
                                                    ${house.images.map((_, index) => `
                                                        <div class="w-2 h-2 rounded-full bg-white bg-opacity-60 ${index === 0 ? 'bg-opacity-100' : ''}" data-index="${index}"></div>
                                                    `).join('')}
                                                </div>
                                                <button onclick="previousImage('${house.id}')" class="absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-1 rounded-full hover:bg-opacity-70 transition-all">
                                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                                                    </svg>
                                                </button>
                                                <button onclick="nextImage('${house.id}')" class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-1 rounded-full hover:bg-opacity-70 transition-all">
                                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                                                    </svg>
                                                </button>
                                            ` : ''}
                                        </div>
                                    ` : `
                                        <div class="bg-gradient-to-r from-pink-400 to-red-500 flex items-center justify-center w-full h-full">
                                            <div class="text-5xl md:text-6xl">${house.icon}</div>
                                        </div>
                                    `}
                                    <div class="absolute top-3 right-3 bg-white bg-opacity-90 text-red-600 px-2 py-1 rounded-full text-xs font-semibold">
                                        ‡¶™‡¶õ‡¶®‡ßç‡¶¶‡ßá‡¶∞
                                    </div>
                                    <div class="absolute top-3 left-3">
                                        <button onclick="toggleFavourite('${house.id}'); showFavouriteModal();" class="bg-white bg-opacity-90 hover:bg-opacity-100 text-red-600 p-2 rounded-full transition-all transform hover:scale-110">
                                            <span class="text-lg">‚ù§Ô∏è</span>
                                        </button>
                                    </div>
                                </div>
                                <div class="p-4 md:p-6">
                                    <h4 class="text-lg md:text-xl font-semibold mb-2">${house.title}</h4>
                                    <p class="text-gray-600 mb-3 flex items-center">
                                        <span class="mr-1">üìç</span> ${house.area}, ${house.district}
                                    </p>
                                    <div class="bg-blue-50 rounded-lg p-3 mb-4">
                                        <div class="flex items-center justify-between">
                                            <span class="text-xl md:text-2xl font-bold text-blue-600">${house.price.toLocaleString()} ‡¶ü‡¶æ‡¶ï‡¶æ</span>
                                            <span class="text-xs md:text-sm text-gray-500 bg-white px-2 py-1 rounded-full">‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶Æ‡¶æ‡¶∏‡ßá</span>
                                        </div>
                                    </div>
                                    <div class="grid grid-cols-3 gap-2 text-xs md:text-sm text-gray-600 mb-4">
                                        <div class="text-center bg-gray-50 rounded-lg py-2">
                                            <div>üõèÔ∏è</div>
                                            <div class="font-medium">${house.bedrooms} ‡¶¨‡ßá‡¶°‡¶∞‡ßÅ‡¶Æ</div>
                                        </div>
                                        <div class="text-center bg-gray-50 rounded-lg py-2">
                                            <div>üöø</div>
                                            <div class="font-medium">${house.bathrooms} ‡¶¨‡¶æ‡¶•‡¶∞‡ßÅ‡¶Æ</div>
                                        </div>
                                        <div class="text-center bg-gray-50 rounded-lg py-2">
                                            <div>üìê</div>
                                            <div class="font-medium">${house.size} ‡¶¨‡¶∞‡ßç‡¶ó‡¶´‡ßÅ‡¶ü</div>
                                        </div>
                                    </div>
                                    <div class="flex gap-2 mb-3">
                                        <button onclick="openImageGallery('${house.id}')" class="flex-1 bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white font-semibold py-2 px-3 rounded-lg transition-all transform hover:scale-105 text-sm">
                                            üì∏ ‡¶õ‡¶¨‡¶ø ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
                                        </button>
                                    </div>
                                    <button onclick="viewDetails('${house.id}')" class="w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-semibold py-3 px-4 rounded-xl transition-all transform hover:scale-105">
                                        ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
                                    </button>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            }
            
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        function closeFavouriteModal() {
            const modal = document.getElementById('favouriteModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        function navigateToProfile() {
            updateActiveTab('profile');
            const userData = localStorage.getItem('toletUser');
            
            if (userData) {
                showProfileModal();
            } else {
                alert('üë§ Profile ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá Login ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
                openLoginModal();
            }
        }

        function navigateToSupport() {
            updateActiveTab('support');
            showSupportModal();
        }

        // Support Modal Functions
        function showSupportModal() {
            const modal = document.getElementById('supportModal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        function closeSupportModal() {
            const modal = document.getElementById('supportModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        function openWhatsAppSupport() {
            const whatsappUrl = 'https://wa.me/8801712345678?text=‡¶Ü‡¶∏‡¶∏‡¶æ‡¶≤‡¶æ‡¶Æ‡ßÅ%20‡¶Ü‡¶≤‡¶æ‡¶á‡¶ï‡ßÅ‡¶Æ‡•§%20‡¶Ü‡¶Æ‡¶ø%20tolet.click%20‡¶•‡ßá‡¶ï‡ßá%20‡¶Ü‡¶™‡¶®‡¶æ‡¶∞%20‡¶∏‡¶æ‡¶•‡ßá%20‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó%20‡¶ï‡¶∞‡¶õ‡¶ø‡•§%20‡¶Ü‡¶Æ‡¶æ‡¶∞%20‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø%20‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®‡•§';
            window.open(whatsappUrl, '_blank', 'noopener,noreferrer');
            
            // Show confirmation message
            setTimeout(() => {
                alert('üí¨ ‡¶π‡ßã‡¶Ø‡¶º‡¶æ‡¶ü‡¶∏‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶ñ‡ßã‡¶≤‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá! ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ü‡¶ø‡¶Æ ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶ï‡¶∞‡¶¨‡ßá‡•§\n\n‚è∞ ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£‡¶§ ‡ß´ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü‡ßá‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶™‡¶æ‡¶¨‡ßá‡¶®‡•§');
            }, 1000);
        }



        function emailSupport() {
            const emailAddress = 'support@tolet.click';
            const subject = 'tolet.click ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü - ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®';
            const body = `‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ü‡¶ø‡¶Æ,

‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶®‡¶ø‡¶Æ‡ßç‡¶®‡¶≤‡¶ø‡¶ñ‡¶ø‡¶§ ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶∞‡¶Ø‡¶º‡ßá‡¶õ‡ßá:

[‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®]

‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø:
- ‡¶á‡¶Æ‡ßá‡¶á‡¶≤: [‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤]
- ‡¶´‡ßã‡¶®: [‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞]
- ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶Ø‡¶º: ${new Date().toLocaleString('bn-BD')}

‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶,
[‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ]`;

            const mailtoUrl = `mailto:${emailAddress}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
            
            // Try to open email client
            window.location.href = mailtoUrl;
            
            // Show information message
            setTimeout(() => {
                alert(`üìß ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶ï‡ßç‡¶≤‡¶æ‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü ‡¶ñ‡ßã‡¶≤‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá!\n\nüìÆ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ: ${emailAddress}\n\n‚è∞ ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡ß®‡ß™ ‡¶ò‡¶®‡ßç‡¶ü‡¶æ‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶¶‡ßá‡¶¨‡•§\n\nüí° ‡¶Ø‡¶¶‡¶ø ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶ï‡ßç‡¶≤‡¶æ‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü ‡¶®‡¶æ ‡¶ñ‡ßÅ‡¶≤‡ßá, ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßÅ‡¶Ø‡¶º‡¶æ‡¶≤‡¶ø ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡•§`);
            }, 500);
        }

        function updateActiveTab(activeTab) {
            // Get all tab buttons
            const tabs = document.querySelectorAll('.fixed.bottom-0 button');
            
            tabs.forEach((tab, index) => {
                const svg = tab.querySelector('svg');
                const span = tab.querySelector('span');
                
                // Reset all tabs to inactive state
                svg.classList.remove('text-blue-600');
                svg.classList.add('text-gray-500');
                span.classList.remove('text-blue-600');
                span.classList.add('text-gray-500');
                tab.classList.remove('hover:bg-blue-50');
                tab.classList.add('hover:bg-gray-50');
                
                // Set active tab
                if ((activeTab === 'home' && index === 0) ||
                    (activeTab === 'token' && index === 1) ||
                    (activeTab === 'favourite' && index === 2) ||
                    (activeTab === 'support' && index === 3) ||
                    (activeTab === 'profile' && index === 4)) {
                    
                    svg.classList.remove('text-gray-500');
                    svg.classList.add('text-blue-600');
                    span.classList.remove('text-gray-500');
                    span.classList.add('text-blue-600');
                    tab.classList.remove('hover:bg-gray-50');
                    tab.classList.add('hover:bg-blue-50');
                }
            });
        }

        // Image Gallery Functions
        let currentGalleryImages = [];
        let currentImageIndex = 0;
        let currentHouseData = null;

        function openImageGallery(houseId) {
            // Find house data
            let house = null;
            for (const area in houses) {
                house = houses[area].find(h => h.id === houseId);
                if (house) break;
            }

            // Default houses for featured section
            const defaultHouses = {
                house1: {
                    title: '‡¶Ü‡¶ß‡ßÅ‡¶®‡¶ø‡¶ï ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡¶æ‡¶∞‡ßç‡¶ü‡¶Æ‡ßá‡¶®‡ßç‡¶ü',
                    images: [
                        { url: 'https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800', alt: '‡¶≤‡¶ø‡¶≠‡¶ø‡¶Ç ‡¶∞‡ßÅ‡¶Æ' },
                        { url: 'https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=800', alt: '‡¶¨‡ßá‡¶°‡¶∞‡ßÅ‡¶Æ' },
                        { url: 'https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=800', alt: '‡¶ï‡¶ø‡¶ö‡ßá‡¶®' },
                        { url: 'https://images.unsplash.com/photo-1552321554-5fefe8c9ef14?w=800', alt: '‡¶¨‡¶æ‡¶•‡¶∞‡ßÅ‡¶Æ' }
                    ],
                    videoUrl: 'https://drive.google.com/file/d/1234567890abcdef/preview'
                },
                house2: {
                    title: '‡¶™‡¶æ‡¶∞‡¶ø‡¶¨‡¶æ‡¶∞‡¶ø‡¶ï ‡¶¨‡¶æ‡¶°‡¶º‡¶ø',
                    images: [
                        { url: 'https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=800', alt: '‡¶¨‡¶∏‡¶æ‡¶∞ ‡¶ò‡¶∞' },
                        { url: 'https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=800', alt: '‡¶Æ‡¶æ‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ ‡¶¨‡ßá‡¶°‡¶∞‡ßÅ‡¶Æ' },
                        { url: 'https://images.unsplash.com/photo-1507089947368-19c1da9775ae?w=800', alt: '‡¶°‡¶æ‡¶á‡¶®‡¶ø‡¶Ç ‡¶∞‡ßÅ‡¶Æ' },
                        { url: 'https://images.unsplash.com/photo-1493809842364-78817add7ffb?w=800', alt: '‡¶¨‡¶æ‡¶ó‡¶æ‡¶®' }
                    ],
                    videoUrl: 'https://drive.google.com/file/d/abcdef1234567890/preview'
                },
                house3: {
                    title: '‡¶≤‡¶æ‡¶ï‡ßç‡¶∏‡¶æ‡¶∞‡¶ø ‡¶´‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ü',
                    images: [
                        { url: 'https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800', alt: '‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶≠‡¶ø‡¶Ç' },
                        { url: 'https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=800', alt: '‡¶≤‡¶æ‡¶ï‡ßç‡¶∏‡¶æ‡¶∞‡¶ø ‡¶¨‡ßá‡¶°‡¶∞‡ßÅ‡¶Æ' },
                        { url: 'https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=800', alt: '‡¶Æ‡¶°‡¶æ‡¶∞‡ßç‡¶® ‡¶ï‡¶ø‡¶ö‡ßá‡¶®' },
                        { url: 'https://images.unsplash.com/photo-1552321554-5fefe8c9ef14?w=800', alt: '‡¶∏‡ßç‡¶™‡¶æ ‡¶¨‡¶æ‡¶•‡¶∞‡ßÅ‡¶Æ' },
                        { url: 'https://images.unsplash.com/photo-1493809842364-78817add7ffb?w=800', alt: '‡¶™‡ßç‡¶∞‡¶æ‡¶á‡¶≠‡ßá‡¶ü ‡¶¨‡¶æ‡¶≤‡¶ï‡¶®‡¶ø' }
                    ],
                    videoUrl: 'https://drive.google.com/file/d/xyz1234567890abc/preview'
                }
            };

            if (!house && defaultHouses[houseId]) {
                house = defaultHouses[houseId];
            }

            if (!house || !house.images || house.images.length === 0) {
                alert('üì∏ ‡¶è‡¶á ‡¶¨‡¶æ‡¶∏‡¶æ‡¶∞ ‡¶õ‡¶¨‡¶ø ‡¶è‡¶ñ‡¶®‡ßã ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡¶®‡¶ø‡•§ ‡¶∂‡ßÄ‡¶ò‡ßç‡¶∞‡¶á ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡¶¨‡ßá!');
                return;
            }

            currentHouseData = house;
            currentGalleryImages = house.images;
            currentImageIndex = 0;

            // Update modal content
            document.getElementById('galleryTitle').textContent = house.title + ' - ‡¶õ‡¶¨‡¶ø‡¶∏‡¶Æ‡ßÇ‡¶π';
            
            // Show modal
            const modal = document.getElementById('imageGalleryModal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');

            // Load images
            loadGalleryImage();
            createThumbnails();
        }

        function loadGalleryImage() {
            const mainImage = document.getElementById('mainImage');
            const imageCounter = document.getElementById('imageCounter');
            
            if (currentGalleryImages.length > 0) {
                const currentImage = currentGalleryImages[currentImageIndex];
                mainImage.src = currentImage.url;
                mainImage.alt = currentImage.alt;
                imageCounter.textContent = `${currentImageIndex + 1} / ${currentGalleryImages.length}`;
                
                // Update navigation buttons
                document.getElementById('prevImageBtn').style.display = currentGalleryImages.length > 1 ? 'block' : 'none';
                document.getElementById('nextImageBtn').style.display = currentGalleryImages.length > 1 ? 'block' : 'none';
            }
        }

        function createThumbnails() {
            const thumbnailStrip = document.getElementById('thumbnailStrip');
            thumbnailStrip.innerHTML = '';

            currentGalleryImages.forEach((image, index) => {
                const thumbnail = document.createElement('div');
                thumbnail.className = `flex-shrink-0 w-16 h-16 md:w-20 md:h-20 rounded-lg overflow-hidden cursor-pointer border-2 transition-all ${
                    index === currentImageIndex ? 'border-blue-500 ring-2 ring-blue-200' : 'border-gray-200 hover:border-gray-300'
                }`;
                
                thumbnail.innerHTML = `
                    <img src="${image.url}" alt="${image.alt}" class="w-full h-full object-cover" onclick="selectGalleryImage(${index})">
                `;
                
                thumbnailStrip.appendChild(thumbnail);
            });
        }

        function selectGalleryImage(index) {
            currentImageIndex = index;
            loadGalleryImage();
            createThumbnails();
        }

        function previousGalleryImage() {
            currentImageIndex = (currentImageIndex - 1 + currentGalleryImages.length) % currentGalleryImages.length;
            loadGalleryImage();
            createThumbnails();
        }

        function nextGalleryImage() {
            currentImageIndex = (currentImageIndex + 1) % currentGalleryImages.length;
            loadGalleryImage();
            createThumbnails();
        }

        function closeImageGallery() {
            const modal = document.getElementById('imageGalleryModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        // Video Modal Functions
        function openVideoModal() {
            if (!currentHouseData || !currentHouseData.videoUrl) {
                alert('üé• ‡¶è‡¶á ‡¶¨‡¶æ‡¶∏‡¶æ‡¶∞ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶è‡¶ñ‡¶®‡ßã ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡¶®‡¶ø‡•§ ‡¶∂‡ßÄ‡¶ò‡ßç‡¶∞‡¶á ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡¶¨‡ßá!');
                return;
            }

            // Update video modal content
            document.getElementById('videoTitle').textContent = currentHouseData.title + ' - ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶ü‡ßç‡¶Ø‡ßÅ‡¶∞';
            document.getElementById('videoPlayer').src = currentHouseData.videoUrl;

            // Show video modal
            const modal = document.getElementById('videoModal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        function closeVideoModal() {
            const modal = document.getElementById('videoModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
            
            // Stop video
            document.getElementById('videoPlayer').src = '';
        }

        // Close modals when clicking outside
        document.getElementById('imageGalleryModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeImageGallery();
            }
        });

        document.getElementById('videoModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeVideoModal();
            }
        });

        // Keyboard navigation for gallery and close all modals with ESC
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                e.preventDefault();
                
                // Check which modal is open and close it
                const galleryModal = document.getElementById('imageGalleryModal');
                const videoModal = document.getElementById('videoModal');
                const houseModal = document.getElementById('houseModal');
                const loginModal = document.getElementById('loginModal');
                const signupModal = document.getElementById('signupModal');
                const favouriteModal = document.getElementById('favouriteModal');
                const profileModal = document.getElementById('profileModal');
                const tokenModal = document.getElementById('tokenModal');
                const paymentModal = document.getElementById('paymentModal');
                const supportModal = document.getElementById('supportModal');
                const tokenConfirmModal = document.getElementById('tokenConfirmModal');
                const postAdModal = document.getElementById('postAdModal');
                
                if (!galleryModal.classList.contains('hidden')) {
                    closeImageGallery();
                } else if (!videoModal.classList.contains('hidden')) {
                    closeVideoModal();
                } else if (!houseModal.classList.contains('hidden')) {
                    closeModal();
                } else if (!loginModal.classList.contains('hidden')) {
                    closeLoginModal();
                } else if (!signupModal.classList.contains('hidden')) {
                    closeSignupModal();
                } else if (!favouriteModal.classList.contains('hidden')) {
                    closeFavouriteModal();
                } else if (!profileModal.classList.contains('hidden')) {
                    closeProfileModal();
                } else if (!tokenModal.classList.contains('hidden')) {
                    closeTokenModal();
                } else if (!paymentModal.classList.contains('hidden')) {
                    closePaymentModal();
                } else if (!supportModal.classList.contains('hidden')) {
                    closeSupportModal();
                } else if (!tokenConfirmModal.classList.contains('hidden')) {
                    cancelTokenUsage();
                } else if (!postAdModal.classList.contains('hidden')) {
                    closePostAdModal();
                }
            }
            
            // Gallery specific navigation
            const galleryModal = document.getElementById('imageGalleryModal');
            if (!galleryModal.classList.contains('hidden')) {
                if (e.key === 'ArrowLeft') {
                    e.preventDefault();
                    previousGalleryImage();
                } else if (e.key === 'ArrowRight') {
                    e.preventDefault();
                    nextGalleryImage();
                }
            }
        });

        // Post Ad Modal Functions
        function openPostAdModal() {
            const modal = document.getElementById('postAdModal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        function closePostAdModal() {
            const modal = document.getElementById('postAdModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
            document.getElementById('postAdForm').reset();
            
            // Reset image URL container
            const container = document.getElementById('imageUrlContainer');
            container.innerHTML = '<input type="url" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors mb-2" placeholder="https://example.com/image1.jpg">';
        }

        function updateAdDistricts() {
            const divisionSelect = document.getElementById('adDivision');
            const districtSelect = document.getElementById('adDistrict');
            
            const selectedDivision = divisionSelect.value;
            
            // Clear district
            districtSelect.innerHTML = '<option value="">‡¶ú‡ßá‡¶≤‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>';
            
            if (selectedDivision && locationData[selectedDivision]) {
                const districts = locationData[selectedDivision].districts;
                for (const districtKey in districts) {
                    const option = document.createElement('option');
                    option.value = districtKey;
                    option.textContent = districts[districtKey].name;
                    districtSelect.appendChild(option);
                }
            }
        }

        function addImageUrl() {
            const container = document.getElementById('imageUrlContainer');
            const newInput = document.createElement('div');
            newInput.className = 'flex items-center mb-2';
            newInput.innerHTML = `
                <input type="url" class="flex-1 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors mr-2" placeholder="https://example.com/image.jpg">
                <button type="button" onclick="this.parentElement.remove()" class="bg-red-500 hover:bg-red-600 text-white px-3 py-3 rounded-lg transition-colors">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                    </svg>
                </button>
            `;
            container.appendChild(newInput);
        }

        function handlePostAd(event) {
            event.preventDefault();
            
            // Get form data
            const title = document.getElementById('adTitle').value;
            const price = parseInt(document.getElementById('adPrice').value);
            const bedrooms = parseInt(document.getElementById('adBedrooms').value);
            const bathrooms = parseInt(document.getElementById('adBathrooms').value);
            const size = parseInt(document.getElementById('adSize').value);
            const type = document.getElementById('adType').value;
            const division = document.getElementById('adDivision').value;
            const district = document.getElementById('adDistrict').value;
            const area = document.getElementById('adArea').value;
            const houseNumber = document.getElementById('adHouseNumber').value;
            const roadNumber = document.getElementById('adRoadNumber').value;
            const fullAddress = document.getElementById('adFullAddress').value;
            const contactName = document.getElementById('adContactName').value;
            const contactPhone = document.getElementById('adContactPhone').value;
            const videoUrl = document.getElementById('adVideoUrl').value;
            
            // Get selected features
            const featureCheckboxes = document.querySelectorAll('#postAdModal input[type="checkbox"]:checked');
            const features = Array.from(featureCheckboxes).map(cb => cb.value);
            
            // Get image URLs
            const imageInputs = document.querySelectorAll('#imageUrlContainer input[type="url"]');
            const imageUrls = Array.from(imageInputs)
                .map(input => input.value.trim())
                .filter(url => url !== '');
            
            // Create images array
            const images = imageUrls.map((url, index) => ({
                url: url,
                alt: `${title} - ‡¶õ‡¶¨‡¶ø ${index + 1}`
            }));
            
            // Generate unique ID
            const newId = 'user_' + Date.now();
            
            // Get type icon
            const typeIcons = {
                apartment: 'üè¢',
                house: 'üè†',
                flat: 'üèòÔ∏è',
                duplex: 'üè°'
            };
            
            // Create new house object
            const newHouse = {
                id: newId,
                title: title,
                area: area,
                district: locationData[division]?.districts[district]?.name || district,
                division: locationData[division]?.name || division,
                type: type,
                price: price,
                bedrooms: bedrooms,
                bathrooms: bathrooms,
                size: size,
                icon: typeIcons[type] || 'üè†',
                features: features,
                images: images.length > 0 ? images : undefined,
                videoUrl: videoUrl || undefined,
                contactName: contactName,
                contactPhone: contactPhone,
                timestamp: Date.now(),
                address: {
                    houseNumber: houseNumber || '',
                    roadNumber: roadNumber || '',
                    sector: area,
                    fullAddress: fullAddress,
                    googleMapsLink: `https://maps.google.com/?q=${encodeURIComponent(fullAddress)}`
                }
            };
            
            // Add to houses data
            if (!houses[area]) {
                houses[area] = [];
            }
            houses[area].unshift(newHouse); // Add to beginning for latest first
            
            // Save to localStorage for persistence
            const userPosts = JSON.parse(localStorage.getItem('userPosts') || '[]');
            userPosts.unshift(newHouse);
            localStorage.setItem('userPosts', JSON.stringify(userPosts));
            
            // Show success message
            alert('üéâ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá! ‡¶è‡¶ü‡¶ø ‡¶è‡¶ñ‡¶® ‡¶∏‡¶¨‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶¶‡ßÉ‡¶∂‡ßç‡¶Ø‡¶Æ‡¶æ‡¶®‡•§');
            
            // Close modal and refresh display
            closePostAdModal();
            displayLatestHouses();
            
            // Scroll to top to show the new post
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Load user posts from localStorage on page load
        function loadUserPosts() {
            const userPosts = JSON.parse(localStorage.getItem('userPosts') || '[]');
            userPosts.forEach(post => {
                if (!houses[post.area]) {
                    houses[post.area] = [];
                }
                // Check if post already exists to avoid duplicates
                const exists = houses[post.area].some(house => house.id === post.id);
                if (!exists) {
                    houses[post.area].unshift(post);
                }
            });
        }

        // Profile Modal Functions
        function showProfileModal() {
            const userData = JSON.parse(localStorage.getItem('toletUser'));
            if (!userData) return;

            // Update profile display
            updateProfileDisplay(userData);
            
            // Show modal
            const modal = document.getElementById('profileModal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            
            // Ensure we're in view mode
            switchToViewMode();
        }

        function closeProfileModal() {
            const modal = document.getElementById('profileModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        function updateProfileDisplay(userData) {
            // Update profile initial
            const name = userData.name || userData.email.split('@')[0];
            document.getElementById('profileInitial').textContent = name.charAt(0).toUpperCase();
            
            // Update display fields
            document.getElementById('profileDisplayName').textContent = name;
            document.getElementById('profileDisplayEmail').textContent = userData.email;
            document.getElementById('profileDisplayPhone').textContent = userData.phone || '+8801712345678';
            document.getElementById('profileDisplayAddress').textContent = userData.address || 'Add address';
            document.getElementById('profileDisplayOccupation').textContent = userData.occupation || 'Add occupation';
            
            // Update join date
            const joinDate = userData.signupTime || userData.loginTime;
            if (joinDate) {
                const date = new Date(joinDate);
                const options = { year: 'numeric', month: 'long', day: 'numeric' };
                document.getElementById('profileJoinDate').textContent = 'Joined: ' + date.toLocaleDateString('en-US', options);
            }
            
            // Update stats
            const userPosts = JSON.parse(localStorage.getItem('userPosts') || '[]');
            const favourites = JSON.parse(localStorage.getItem('favouriteHouses') || '[]');
            document.getElementById('profilePostCount').textContent = userPosts.length;
            document.getElementById('profileFavCount').textContent = favourites.length;
        }

        function switchToEditMode() {
            const userData = JSON.parse(localStorage.getItem('toletUser'));
            if (!userData) return;

            // Hide view mode, show edit mode
            document.getElementById('profileViewMode').classList.add('hidden');
            document.getElementById('profileEditMode').classList.remove('hidden');
            
            // Populate edit form
            document.getElementById('editName').value = userData.name || '';
            document.getElementById('editPhone').value = userData.phone || '';
            document.getElementById('editEmail').value = userData.email || '';
            document.getElementById('editAddress').value = userData.address || '';
            document.getElementById('editOccupation').value = userData.occupation || '';
            document.getElementById('editPassword').value = '';
            document.getElementById('editConfirmPassword').value = '';
        }

        function switchToViewMode() {
            // Show view mode, hide edit mode
            document.getElementById('profileViewMode').classList.remove('hidden');
            document.getElementById('profileEditMode').classList.add('hidden');
            
            // Reset form
            document.getElementById('profileEditForm').reset();
        }

        function handleProfileUpdate(event) {
            event.preventDefault();
            
            const userData = JSON.parse(localStorage.getItem('toletUser'));
            if (!userData) return;
            
            // Get form data
            const email = document.getElementById('editEmail').value;
            const address = document.getElementById('editAddress').value;
            const occupation = document.getElementById('editOccupation').value;
            const newPassword = document.getElementById('editPassword').value;
            const confirmPassword = document.getElementById('editConfirmPassword').value;
            
            // Validate passwords if provided
            if (newPassword || confirmPassword) {
                if (newPassword !== confirmPassword) {
                    alert('‚ùå ‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Æ‡¶ø‡¶≤‡¶õ‡ßá ‡¶®‡¶æ!');
                    return;
                }
                if (newPassword.length < 6) {
                    alert('‚ùå ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡ß¨ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡ßá‡¶∞ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá!');
                    return;
                }
            }
            
            // Update user data (keep name and phone unchanged)
            const updatedUserData = {
                ...userData,
                email: email,
                address: address,
                occupation: occupation,
                lastUpdated: new Date().toISOString()
            };
            
            // Add password if provided
            if (newPassword) {
                updatedUserData.password = newPassword; // In real app, this would be hashed
            }
            
            // Save updated data
            localStorage.setItem('toletUser', JSON.stringify(updatedUserData));
            
            // Update display
            updateProfileDisplay(updatedUserData);
            
            // Switch back to view mode
            switchToViewMode();
            
            // Show success message
            alert('‚úÖ ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
            
            // Update auth buttons if email changed
            updateAuthButtons(updatedUserData.name || updatedUserData.email);
        }

        // Token System Functions
        function showTokenModal() {
            const userData = localStorage.getItem('toletUser');
            
            if (!userData) {
                alert('ü™ô ‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶ì‡¶Ø‡¶º‡¶æ‡¶≤‡ßá‡¶ü ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá Login ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
                openLoginModal();
                return;
            }

            // Update token balance display
            updateTokenDisplay();
            
            // Show modal
            const modal = document.getElementById('tokenModal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        function closeTokenModal() {
            const modal = document.getElementById('tokenModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
            
            // Reset custom package form
            document.getElementById('customTokenAmount').value = '';
            document.getElementById('customPrice').textContent = '0 ‡ß≥';
            document.getElementById('customBuyBtn').disabled = true;
        }

        function updateTokenDisplay() {
            const tokenData = JSON.parse(localStorage.getItem('userTokens') || '{"balance": 0, "transactions": []}');
            
            // Update balance
            document.getElementById('tokenBalance').textContent = tokenData.balance;
            
            // Update last update time
            const lastTransaction = tokenData.transactions[0];
            if (lastTransaction) {
                const date = new Date(lastTransaction.timestamp);
                const options = { month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit' };
                document.getElementById('lastUpdate').textContent = date.toLocaleDateString('bn-BD', options);
            } else {
                document.getElementById('lastUpdate').textContent = '‡¶Ü‡¶ú';
            }
            
            // Update transaction history
            updateTransactionHistory(tokenData.transactions);
        }

        function updateTransactionHistory(transactions) {
            const historyContainer = document.getElementById('transactionHistory');
            
            if (transactions.length === 0) {
                historyContainer.innerHTML = `
                    <div class="text-center text-gray-500 text-sm py-4">
                        ‡¶ï‡ßã‡¶® ‡¶≤‡ßá‡¶®‡¶¶‡ßá‡¶® ‡¶®‡ßá‡¶á
                    </div>
                `;
                return;
            }
            
            // Show last 5 transactions
            const recentTransactions = transactions.slice(0, 5);
            historyContainer.innerHTML = recentTransactions.map(transaction => `
                <div class="flex justify-between items-center p-2 bg-gray-50 rounded-lg">
                    <div class="flex items-center">
                        <span class="text-lg mr-2">${transaction.type === 'purchase' ? 'üí∞' : transaction.type === 'usage' ? 'üîª' : 'ü™ô'}</span>
                        <div>
                            <p class="text-sm font-medium">${transaction.description}</p>
                            <p class="text-xs text-gray-500">${new Date(transaction.timestamp).toLocaleDateString('bn-BD')}</p>
                            ${transaction.paymentMethod ? `<p class="text-xs text-blue-600">${transaction.paymentMethod}</p>` : ''}
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="text-sm font-bold ${transaction.type === 'purchase' ? 'text-green-600' : transaction.type === 'usage' ? 'text-red-600' : 'text-blue-600'}">
                            ${transaction.type === 'purchase' ? '+' : ''}${transaction.amount} ‡¶ü‡ßã‡¶ï‡ßá‡¶®
                        </p>
                        ${transaction.price ? `<p class="text-xs text-gray-500">${transaction.price} ‡ß≥</p>` : ''}
                    </div>
                </div>
            `).join('');
        }

        // Global variables for payment and token confirmation
        let currentPaymentData = null;
        let pendingTokenAction = null;

        function selectPackage(tokens, price) {
            // Store payment data
            currentPaymentData = {
                tokens: tokens,
                price: price,
                description: `${tokens} ‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú`
            };
            
            // Update payment modal
            document.getElementById('orderPackage').textContent = `${tokens} ‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú`;
            document.getElementById('orderTokens').textContent = `${tokens} ‡¶ü‡ßã‡¶ï‡ßá‡¶®`;
            document.getElementById('orderTotal').textContent = `${price} ‡ß≥`;
            
            // Show payment modal
            showPaymentModal();
        }

        function showPaymentModal() {
            const modal = document.getElementById('paymentModal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            
            // Reset payment method selection
            const paymentMethods = document.querySelectorAll('input[name="paymentMethod"]');
            paymentMethods.forEach(method => {
                method.checked = false;
                method.addEventListener('change', updatePaymentButton);
            });
            
            // Disable payment button initially
            document.getElementById('paymentBtn').disabled = true;
        }

        function closePaymentModal() {
            const modal = document.getElementById('paymentModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
            
            // Reset data
            currentPaymentData = null;
            
            // Reset form
            const paymentMethods = document.querySelectorAll('input[name="paymentMethod"]');
            paymentMethods.forEach(method => method.checked = false);
            document.getElementById('paymentBtn').disabled = true;
        }

        function updatePaymentButton() {
            const selectedMethod = document.querySelector('input[name="paymentMethod"]:checked');
            const paymentBtn = document.getElementById('paymentBtn');
            
            if (selectedMethod) {
                paymentBtn.disabled = false;
                
                // Update button text based on selected method
                const methodNames = {
                    'bkash': '‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂ ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®',
                    'nagad': '‡¶®‡¶ó‡¶¶ ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®',
                    'rocket': '‡¶∞‡¶ï‡ßá‡¶ü ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®',
                    'visa': '‡¶ï‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®',
                    'internetbanking': '‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï‡¶ø‡¶Ç ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®',
                    'upay': '‡¶â‡¶™‡¶æ‡¶Ø‡¶º ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®',
                    'tap': '‡¶ü‡ßç‡¶Ø‡¶æ‡¶™ ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®'
                };
                
                paymentBtn.innerHTML = `<span class="mr-2">üîí</span> ${methodNames[selectedMethod.value]}`;
            } else {
                paymentBtn.disabled = true;
                paymentBtn.innerHTML = '<span class="mr-2">üîí</span> ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®';
            }
        }

        function processPayment() {
            if (!currentPaymentData) return;
            
            const selectedMethod = document.querySelector('input[name="paymentMethod"]:checked');
            if (!selectedMethod) {
                alert('‚ùå ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®!');
                return;
            }
            
            const methodNames = {
                'bkash': '‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂',
                'nagad': '‡¶®‡¶ó‡¶¶',
                'rocket': '‡¶∞‡¶ï‡ßá‡¶ü',
                'visa': '‡¶≠‡¶ø‡¶∏‡¶æ/‡¶Æ‡¶æ‡¶∏‡ßç‡¶ü‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßç‡¶°',
                'internetbanking': '‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶®‡ßá‡¶ü ‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï‡¶ø‡¶Ç',
                'upay': '‡¶â‡¶™‡¶æ‡¶Ø‡¶º',
                'tap': '‡¶ü‡ßç‡¶Ø‡¶æ‡¶™'
            };
            
            const methodName = methodNames[selectedMethod.value];
            
            // Show processing message
            const paymentBtn = document.getElementById('paymentBtn');
            const originalText = paymentBtn.innerHTML;
            paymentBtn.innerHTML = '<span class="mr-2">‚è≥</span> ‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏‡¶ø‡¶Ç...';
            paymentBtn.disabled = true;
            
            // Simulate payment processing
            setTimeout(() => {
                // Here you would integrate with actual payment API
                // For now, we'll simulate successful payment
                
                // Complete the purchase
                purchaseTokens(
                    currentPaymentData.tokens, 
                    currentPaymentData.price, 
                    currentPaymentData.description,
                    methodName
                );
                
                // Close payment modal
                closePaymentModal();
                
                // Reset button
                paymentBtn.innerHTML = originalText;
                paymentBtn.disabled = false;
                
            }, 2000); // 2 second delay to simulate processing
        }

        function calculateCustomPrice() {
            const amount = parseInt(document.getElementById('customTokenAmount').value) || 0;
            const priceElement = document.getElementById('customPrice');
            const buyBtn = document.getElementById('customBuyBtn');
            
            if (amount >= 100) {
                // Calculate price with discount for bulk purchases
                let price;
                if (amount >= 500) {
                    price = Math.floor(amount * 0.9); // 10% discount for 500+
                } else if (amount >= 300) {
                    price = Math.floor(amount * 0.95); // 5% discount for 300+
                } else {
                    price = Math.floor(amount * 0.99); // 1% discount for 100+
                }
                
                priceElement.textContent = `${price} ‡ß≥`;
                buyBtn.disabled = false;
            } else {
                priceElement.textContent = '0 ‡ß≥';
                buyBtn.disabled = true;
            }
        }

        function buyCustomTokens() {
            const amount = parseInt(document.getElementById('customTokenAmount').value);
            if (amount < 100) {
                alert('‚ùå ‡¶∏‡¶∞‡ßç‡¶¨‡¶®‡¶ø‡¶Æ‡ßç‡¶® 100 ‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶ï‡¶ø‡¶®‡¶§‡ßá ‡¶π‡¶¨‡ßá!');
                return;
            }
            
            let price;
            if (amount >= 500) {
                price = Math.floor(amount * 0.9);
            } else if (amount >= 300) {
                price = Math.floor(amount * 0.95);
            } else {
                price = Math.floor(amount * 0.99);
            }
            
            // Store payment data for custom package
            currentPaymentData = {
                tokens: amount,
                price: price,
                description: `‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ${amount} ‡¶ü‡ßã‡¶ï‡ßá‡¶®`
            };
            
            // Update payment modal
            document.getElementById('orderPackage').textContent = `‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ${amount} ‡¶ü‡ßã‡¶ï‡ßá‡¶®`;
            document.getElementById('orderTokens').textContent = `${amount} ‡¶ü‡ßã‡¶ï‡ßá‡¶®`;
            document.getElementById('orderTotal').textContent = `${price} ‡ß≥`;
            
            // Show payment modal
            showPaymentModal();
            
            // Reset custom form after showing payment modal
            setTimeout(() => {
                document.getElementById('customTokenAmount').value = '';
                document.getElementById('customPrice').textContent = '0 ‡ß≥';
                document.getElementById('customBuyBtn').disabled = true;
            }, 100);
        }

        function purchaseTokens(tokens, price, description, paymentMethod = '') {
            // Get current token data
            const tokenData = JSON.parse(localStorage.getItem('userTokens') || '{"balance": 0, "transactions": []}');
            
            // Add tokens to balance
            tokenData.balance += tokens;
            
            // Add transaction record
            const transaction = {
                type: 'purchase',
                amount: tokens,
                price: price,
                description: description,
                paymentMethod: paymentMethod,
                timestamp: new Date().toISOString()
            };
            
            tokenData.transactions.unshift(transaction);
            
            // Save updated data
            localStorage.setItem('userTokens', JSON.stringify(tokenData));
            
            // Update display
            updateTokenDisplay();
            
            // Show success message
            const successMessage = paymentMethod 
                ? `üéâ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡¶´‡¶≤ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!\n\nüí≥ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ: ${paymentMethod}\nü™ô ‡¶ü‡ßã‡¶ï‡ßá‡¶®: ${tokens}\nüí∞ ‡¶ñ‡¶∞‡¶ö: ${price} ‡¶ü‡¶æ‡¶ï‡¶æ\n\n‚úÖ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ì‡¶Ø‡¶º‡¶æ‡¶≤‡ßá‡¶ü‡ßá ${tokens} ‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶Ø‡ßã‡¶ó ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!\nü™ô ‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏: ${tokenData.balance} ‡¶ü‡ßã‡¶ï‡ßá‡¶®`
                : `üéâ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ${tokens} ‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶ï‡¶ø‡¶®‡ßá‡¶õ‡ßá‡¶®!\n\nüí∞ ‡¶ñ‡¶∞‡¶ö: ${price} ‡¶ü‡¶æ‡¶ï‡¶æ\nü™ô ‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏: ${tokenData.balance} ‡¶ü‡ßã‡¶ï‡ßá‡¶®\n\n‚úÖ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ì‡¶Ø‡¶º‡¶æ‡¶≤‡ßá‡¶ü‡ßá ‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶Ø‡ßã‡¶ó ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!`;
            
            alert(successMessage);
        }

        // Close modal when clicking outside
        document.getElementById('tokenModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeTokenModal();
            }
        });

        // Close modal when clicking outside
        document.getElementById('profileModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeProfileModal();
            }
        });

        // Close modal when clicking outside
        document.getElementById('paymentModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closePaymentModal();
            }
        });

        // Close modal when clicking outside
        document.getElementById('postAdModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closePostAdModal();
            }
        });

        // Close token confirmation modal when clicking outside
        document.getElementById('tokenConfirmModal').addEventListener('click', function(e) {
            if (e.target === this) {
                cancelTokenUsage();
            }
        });

        // Close support modal when clicking outside
        document.getElementById('supportModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeSupportModal();
            }
        });

        // Set Home as active by default
        window.addEventListener('load', function() {
            setTimeout(() => {
                updateActiveTab('home');
                loadUserPosts(); // Load user posts
            }, 500);
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'983af03b1628a48e',t:'MTc1ODYzOTkwNy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
